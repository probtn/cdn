var DeviceAtlas=void 0;function probtn_callPlayer(t,n,e){var i;null!==n&&void 0!==n||(n="playVideo");var a=window.JSON.stringify({event:"command",func:n});try{i=document.getElementById(t),console.log("probtn_callPlayer",t,n,e),i.contentWindow.postMessage(a,"https://www.youtube.com")}catch(t){console.log(t)}}function probtn_initTrackingLinkTest(){try{document.domain.replace("www.","");try{var t=document.getElementById("probtn_additional_params");if(null!==t){var n=JSON.parse(t.innerHTML);void 0!==n.domain&&n.domain}}catch(t){console.log(t)}}catch(t){}}probtn_initTrackingLinkTest(),function(t){!function(t,n){"use strict";var e="function",i="object",a="model",o="name",s="type",r="vendor",c="version",d="architecture",l="console",p="mobile",u="tablet",m="smarttv",g="wearable",h={extend:function(t,n){var e={};for(var i in t)n[i]&&n[i].length%2==0?e[i]=n[i].concat(t[i]):e[i]=t[i];return e},has:function(t,n){return"string"==typeof t&&-1!==n.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:n},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(t,a){for(var o,s,r,c,d,l,p=0;p<a.length&&!d;){var u=a[p],m=a[p+1];for(o=s=0;o<u.length&&!d;)if(d=u[o++].exec(t))for(r=0;r<m.length;r++)l=d[++s],typeof(c=m[r])===i&&c.length>0?2==c.length?typeof c[1]==e?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3==c.length?typeof c[1]!==e||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):n:this[c[0]]=l?c[1].call(this,l,c[2]):n:4==c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):n):this[c]=l||n;p+=2}},str:function(t,e){for(var a in e)if(typeof e[a]===i&&e[a].length>0){for(var o=0;o<e[a].length;o++)if(h.has(e[a][o],t))return"?"===a?n:a}else if(h.has(e[a],t))return"?"===a?n:a;return t}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,c],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[o,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[o,c],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[o,"Puffin"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],c],[/(QQ)\/([\d\.]+)/i],[o,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[o,c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[o,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[o,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[o,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,c],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[o,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,o],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[o,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[c,b.str,f.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[d,"amd64"]],[/(ia32(?=;))/i],[[d,h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[d,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[d,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[d,/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[[d,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[d,h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,r,[s,u]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[r,"Apple"],[s,u]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[r,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[r,a,[s,u]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[a,[r,"Amazon"],[s,u]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[a,b.str,f.device.amazon.model],[r,"Amazon"],[s,p]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,r,[s,p]],[/\((ip[honed|\s\w*]+);/i],[a,[r,"Apple"],[s,p]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[r,a,[s,p]],[/\(bb10;\s(\w+)/i],[a,[r,"BlackBerry"],[s,p]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[a,[r,"Asus"],[s,u]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[r,"Sony"],[a,"Xperia Tablet"],[s,u]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[a,[r,"Sony"],[s,p]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[r,a,[s,l]],[/android.+;\s(shield)\sbuild/i],[a,[r,"Nvidia"],[s,l]],[/(playstation\s[34portablevi]+)/i],[a,[r,"Sony"],[s,l]],[/(sprint\s(\w+))/i],[[r,b.str,f.device.sprint.vendor],[a,b.str,f.device.sprint.model],[s,p]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[r,a,[s,u]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[r,[a,/_/g," "],[s,p]],[/(nexus\s9)/i],[a,[r,"HTC"],[s,u]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[a,[r,"Huawei"],[s,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[r,a,[s,p]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[r,"Microsoft"],[s,l]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[r,"Microsoft"],[s,p]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[r,"Motorola"],[s,p]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[r,"Motorola"],[s,u]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[r,h.trim],[a,h.trim],[s,m]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[r,"Samsung"],[s,m]],[/\(dtv[\);].+(aquos)/i],[a,[r,"Sharp"],[s,m]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[r,"Samsung"],a,[s,u]],[/smart-tv.+(samsung)/i],[r,[s,m],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[r,"Samsung"],a,[s,p]],[/sie-(\w+)*/i],[a,[r,"Siemens"],[s,p]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[r,"Nokia"],a,[s,p]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[r,"Acer"],[s,u]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[r,"LG"],[s,u]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[r,"LG"],a,[s,u]],[/(lg) netcast\.tv/i],[r,a,[s,m]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[r,"LG"],[s,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[r,"Lenovo"],[s,u]],[/linux;.+((jolla));/i],[r,a,[s,p]],[/((pebble))app\/[\d\.]+\s/i],[r,a,[s,g]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[r,a,[s,p]],[/crkey/i],[[a,"Chromecast"],[r,"Google"]],[/android.+;\s(glass)\s\d/i],[a,[r,"Google"],[s,g]],[/android.+;\s(pixel c)\s/i],[a,[r,"Google"],[s,u]],[/android.+;\s(pixel xl|pixel)\s/i],[a,[r,"Google"],[s,p]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[a,/_/g," "],[r,"Xiaomi"],[s,p]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[a,/_/g," "],[r,"Xiaomi"],[s,u]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[r,"Meizu"],[s,u]],[/android.+a000(1)\s+build/i],[a,[r,"OnePlus"],[s,p]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[r,"RCA"],[s,u]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[a,[r,"Dell"],[s,u]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[r,"Verizon"],[s,u]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[r,"Barnes & Noble"],a,[s,u]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[r,"NuVision"],[s,u]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[r,"ZTE"],a,[s,u]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[r,"Swiss"],[s,p]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[r,"Swiss"],[s,u]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[r,"Zeki"],[s,u]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[r,"Dragon Touch"],a,[s,u]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[a,[r,"Insignia"],[s,u]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[a,[r,"NextBook"],[s,u]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[r,"Voice"],a,[s,p]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[r,"LvTel"],a,[s,p]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[r,"Envizen"],[s,u]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[r,a,[s,u]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[a,[r,"MachSpeed"],[s,u]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[r,a,[s,u]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[r,"Rotor"],[s,u]],[/android.+(KS(.+))\s+build/i],[a,[r,"Amazon"],[s,u]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[r,a,[s,u]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[s,h.lowerize],r,a],[/(android.+)[;\/].+build/i],[a,[r,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,c],[/rv\:([\w\.]+).*(gecko)/i],[c,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[c,b.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[c,b.str,f.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],c],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,c],[/(haiku)\s(\w+)/i],[o,c],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,c]]},w=function(e,i){if("object"==typeof e&&(i=e,e=n),!(this instanceof w))return new w(e,i).getResult();var a=e||(t&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:""),o=i?h.extend(v,i):v;return this.getBrowser=function(){var t={name:n,version:n};return b.rgx.call(t,a,o.browser),t.major=h.major(t.version),t},this.getCPU=function(){var t={architecture:n};return b.rgx.call(t,a,o.cpu),t},this.getDevice=function(){var t={vendor:n,model:n,type:n};return b.rgx.call(t,a,o.device),t},this.getEngine=function(){var t={name:n,version:n};return b.rgx.call(t,a,o.engine),t},this.getOS=function(){var t={name:n,version:n};return b.rgx.call(t,a,o.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(t){return a=t,this},this};w.VERSION="0.7.17",w.BROWSER={NAME:o,MAJOR:"major",VERSION:c},w.CPU={ARCHITECTURE:d},w.DEVICE={MODEL:a,VENDOR:r,TYPE:s,CONSOLE:l,MOBILE:p,SMARTTV:m,TABLET:u,WEARABLE:g,EMBEDDED:"embedded"},w.ENGINE={NAME:o,VERSION:c},w.OS={NAME:o,VERSION:c},t.UAParser=w;var B=t&&(t.jQuery||t.Zepto);if(void 0!==B){var S=new w;B.ua=S.getResult(),B.ua.get=function(){return S.getUA()},B.ua.set=function(t){S.setUA(t);var n=S.getResult();for(var e in n)B.ua[e]=n[e]}}}("object"==typeof window?window:this),t.fn.StartButton=function(n){var e;String.prototype.ProBtnHashCode=function(){var t=0,n=0;if(0===this.length)return t;for(n=0,l=this.length;n<l;n++)t=(t<<5)-t+this.charCodeAt(n),t|=0;return t},(e={guidCookieControlPath:"https://cdn.probtn.com/cookie_iframe/cookie-iframe.html",uaParserPath:"https://cdn.probtn.com/libs/ua-parser.js",atlasPath:"https://cdn.probtn.com/libs/atlas.js",currentDomain:document.domain.replace("www.",""),realDomain:document.domain.replace("www.",""),initializedActiveZones:{},mainVersion:"1.40.1814_02112017_dev",DeviceCID_log:"none",hintText:void 0,pizzabtn:void 0,pizzabtnImg:void 0,wrapper:void 0,additionalItemsContainer:void 0,closebutton:void 0,closeButtonClicked:!1,overlaped:!1,isExpansed:!1,buttonMainParams:{isEmpty:!0,hidden:!1},loadedStatus:{postscribe:!1},closed:!1,once_moved:!1,onButtonTapCountCheck:0,onButtonTap:function(n,i,a){if(!e.closeButtonClicked){if(e.params.VASTbutton){var o=e.vastFunctions.onClickCheck();console.log("vastClick",o),o&&(n=o,e.params.ContentURL=o,e.params.OpenExternal=!0)}e.params.Debug&&console.log("onButtonTap"),window.probtn_button_tap=!0;var s=e.params.isAnimation.split("_");if((s[0].toLowerCase()==="lookoutAndOut".toLowerCase()||s[0].toLowerCase()==="forwardAndStop".toLowerCase())&&(s[0].toLowerCase()==="forwardAndStop".toLowerCase()&&e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_forwardAndStop_stop",data:e.pizzabtn.position()}),t.fancybox.isOpen))return e.additionalButtonFunctions.hideAll(),void t.fancybox.close();try{void 0!==e.lookOutTimeout&&(e.pizzabtn.stop(!0,!1),clearTimeout(e.lookOutTimeout)),void 0!==e.lookOutTimeout2&&(e.pizzabtn.stop(!0,!1),clearTimeout(e.lookOutTimeout2))}catch(t){console.log(t)}if(!1!==e.params.MainButtonClickable||"menu"===e.params.ButtonType||(e.params.Debug&&console.log("ProBtnControl.params.ActiveZoneMainButtonClickEnabled "+e.params.MainButtonClickable),""!==i&&null!==i&&void 0!==i)){if(null!==n&&void 0!==n&&""!==n||(n=e.params.ContentURL),"button_and_scroll_zones"===e.params.ButtonType&&(""!==e.params.currentContentURL&&null!==e.params.currentContentURL&&void 0!==e.params.currentContentURL&&(n=e.params.currentContentURL),""!==e.params.currentButtonContentType&&null!==e.params.currentButtonContentType&&void 0!==e.params.currentButtonContentType&&(a=e.params.currentButtonContentType),i=e.params.currentAreaName),""!==i&&null!==i&&void 0!==i&&(e.params.currentAreaName=i),n=e.additionalButtonFunctions.replaceRandom(n),n=e.additionalButtonFunctions.replaceDeviceUID(n),n=e.additionalButtonFunctions.replaceDeviceCUID(n),n=e.additionalButtonFunctions.getContentUrlWithUtm(n),null!==a&&void 0!==a&&""!==a);else if(a=e.params.ButtonContentType,"menu"===e.params.ButtonType){if(!(t("#probtn_menu_ul").length>0))return void e.initFunctions.initFloatingMenu();e.initFunctions.initRemoveMenu()}if("js"!=e.params.ButtonType){if(("expansionButton"===e.params.ButtonType||"expansion_video"===e.params.ButtonType)&&e.onButtonTapCountCheck>-1)return e.onButtonTapCountCheck++,e.pizzabtn.stop(!0,!0),e.contentTime.intervalId.ExpansionVideoTimer&&clearInterval(e.contentTime.intervalId.ExpansionVideoTimer),e.isExpansed?e.additionalButtonFunctions.fromExpanseToNormalView():e.additionalButtonFunctions.toExpanseView(),t(".fancybox-wrap").fadeIn(),t(".fancybox-overlay").fadeIn(),void("expansion_video"!==e.params.ButtonType&&e.onButtonTap(e.params.ContentURL,"expansionButton","iframe"));if("iframe"===a&&(e.additionalButtonFunctions.sendMessageToParent("probtn_onbuttontap"),"https:"===window.location.protocol&&"http:"===n.split("/")[0]&&(console.log("detected protocols mismatch"),a="anchor_external")),e.contentTime.startTimer(),e.HpmdFunctions.expandHpmdTrack(),e.additionalButtonFunctions.animation.animationRuning&&e.additionalButtonFunctions.animation.doneAnimation(),e.params.dfp.isDFP)try{""!==e.params.dfp.clickUrlEsc&&t.get(e.params.dfp.clickUrlEsc,function(t){})}catch(t){e.params.Debug&&console.log(t)}if("menu"!==e.params.ButtonType){if(e.params.ClickCounterLink&&""!==e.params.ClickCounterLink)try{e.statistics.createClickCounterImage(e.params.ClickCounterLink)}catch(t){e.params.Debug&&console.log(t)}e.statistics.callSuperPixelExt("ClickCounterLink")}e.additionalButtonFunctions.MaximizeWrapper(function(){});var r=e.additionalButtonFunctions.isLandscape()&&e.userData.mobile,c=e.pizzabtn.position(),d=c.top,l=c.left,p=e.additionalButtonFunctions.getWindowWidth(),u=e.additionalButtonFunctions.getWindowHeight(),m="0px",g="0px",h=(p+e.params.ButtonSize.W)/2;(u+e.params.ButtonSize.H)/2<=d&&(m=u-e.params.ButtonSize.H+"px"),h<=l&&(g=p-e.params.ButtonSize.W+"px");var b=e.additionalButtonFunctions.getFancyboxMargins(),f={property:r?"left":"top",currentValue:r?l:d,finishValue:r?g:m},v=0,w=0;try{void 0!==t("#probtn_button").offset()&&(v=t("#probtn_button").offset().left,w=t("#probtn_button").offset().top)}catch(t){console.log(t)}if(t.pep.toggleAll(!1),"youtube"==e.params.ButtonContentType)return e.statistics.SendStatisticsData("ContentShowed",1),probtn_callPlayer("video_probtn"),t("#youtube_fullscreen").show(),t("#fullscreen_probtn").show(),e.additionalButtonFunctions.youtubeModalWindowSizes(),e.contentTime.startTimer(),e.HpmdFunctions.expandHpmdTrack(),e.additionalButtonFunctions.onOrientationChange(null),void probtn_callPlayer("video_probtn");var B=!1,S={href:n,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",type:"iframe",parent:e.params.ButtonInjectPath,autoCenter:!0,titlePosition:"inside",scrolling:"yes",margin:b,scrollOutside:!0,speedIn:0,openSpeed:100,closeMethod:e.params.FancyboxcloseMethod,closeSpeed:e.params.FancyboxCloseSpeed,speedOut:0,openOpacity:!1,padding:"0px",height:"100%",minWidth:100,minHeight:100,autoHeight:!1,autoWidht:!1,autoResize:!1,autoSize:!1,iframe:{sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",preload:!1,scrolling:"yes"},helpers:{overlay:{locked:!0,speedIn:0,speedOut:0,showEarly:!0},title:{type:"inside"}},beforeLoad:function(){e.hintText.hide(),t(".fancybox-iframe").first().attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");try{var n=e.params.isAnimation.split("_"),i=e.params.isAnimation.split("_"),a="";try{null!==i[3]&&void 0!==i[3]&&(a=i[3].toLowerCase())}catch(t){}"lookoutAndOut"===n[0]&&"noAuto"!==n[4]||"openmodal"===a||(e.pizzabtn.css(f.property,f.finishValue),"top"==f.property?e.pizzabtn.css("left",v+"px"):e.pizzabtn.css("top",w+"px"))}catch(t){console.log(t)}"iOS"===e.userData.os&&t(document.body).bind("touchmove",function(t){t.preventDefault(),t.stopPropagation(),t.returnValue=!1}),t("html").css("overflow","hidden")},beforeShow:function(){},afterShow:function(){var n=e.wrapper,o={width:e.additionalButtonFunctions.getWindowWidth(),height:e.additionalButtonFunctions.getWindowHeight(),position:"fixed"};n.css(o),t(".fancybox-iframe").first().attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");try{t(".fancybox-iframe").first().contents().find("html").css("visibility","visible !important")}catch(t){}var s=t(".fancybox-iframe").first().attr("id");e.additionalButtonFunctions.setIfameSizes(),e.pizzabtn.bind("click",t.fancybox.close);var r=0;try{var c=e.params.isAnimation.split("_");if("lookoutAndOut"===c[0]){e.additionalButtonFunctions.MaximizeWrapper();var d="left";void 0!==c[1]&&(d=c[1]);var l=0,p=0;if(void 0!==c[3]&&(l=c[3]),void 0!==c[4]&&(p=c[4]),"right"===d){r=t(".fancybox-wrap").position().left+t(".fancybox-wrap").width()-e.params.ButtonSize.W/2;e.pizzabtn.css("transition","0s !important"),e.pizzabtn.stop(!0,!1),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start"}),e.pizzabtn.animate({left:parseFloat(r)+parseFloat(p),top:parseFloat(t(".fancybox-wrap").position().top)+parseFloat(l)},3e3,function(){setTimeout(e.additionalButtonFunctions.MinimizeWrapper(),100),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop"})})}else{e.pizzabtn.stop(!0,!1);var u=t(".fancybox-wrap").position().left-e.params.ButtonSize.W/2;e.pizzabtn.animate({left:parseFloat(u)+parseFloat(p),top:parseFloat(t(".fancybox-wrap").position().top)+parseFloat(l)},3e3,function(){setTimeout(e.additionalButtonFunctions.MinimizeWrapper(),100)})}}var m=e.params.isAnimation.split("_"),g="";try{null!==m[3]&&void 0!==m[3]&&(g=m[3].toLowerCase())}catch(t){}"openmodal"===g&&(e.additionalButtonFunctions.MaximizeWrapper(),r=t(".fancybox-wrap").position().left+t(".fancybox-wrap").width()-e.params.ButtonSize.W/2,e.pizzabtn.css("transition","0s !important"),e.pizzabtn.stop(!0,!1),e.pizzabtn.animate({top:parseFloat(t(".fancybox-wrap").position().top+t(".fancybox-wrap").height())},3e3,function(){setTimeout(e.additionalButtonFunctions.MinimizeWrapper(),100)}))}catch(t){console.log(t)}if(function(){if("video"===a||"video_and_iframe"===a){e.additionalButtonFunctions.onOrientationChange(null);try{var n;if(null!==i&&void 0!==i)try{(n=t("#video_probtn_"+i).get(0)).play()}catch(t){console.log("video error1",t)}else(n=t("#video_probtn").get(0)).play()}catch(t){e.params.Debug&&console.log(t)}finally{if(t(n).on("pause",function(){var t=n.currentTime.toFixed(2);e.statistics.SendStatisticsData("VideoPaused",t)}),t(n).on("playing",function(){var t=n.currentTime.toFixed(2);e.statistics.SendStatisticsData("VideoStarted",t)}),t(n).on("seeked",function(){var t=n.currentTime.toFixed(2);e.statistics.SendStatisticsData("VideoSeeked",t)}),"video_and_iframe"===a){var o="#video_item",s="#skip_video_btn";null!==i&&void 0!==i&&(o="#video_item_"+i,s="#skip_video_btn_"+i),t(n).on("ended",function(){t(o).remove(),t(s).remove()})}null===e.params.VideoPixels&&void 0===e.params.VideoPixels&&""===e.params.VideoPixels&&(e.params.VideoPixels=[]);var r=e.params.VideoPixels;e.params.VideoPixels=t("<div/>").html(r).text();var c=[];try{c=JSON.parse(e.params.VideoPixels)}catch(t){c=[]}var d=!0,l=function(t){return t.forEach(function(t){(t.StartPosition>1||t.StartPosition<0||t.EndPosition>1||t.EndPosition<0)&&(d=!1),t.StartPosition=t.StartPosition*n.duration,t.EndPosition=t.EndPosition*n.duration}),t},p=[{StartPosition:0,EndPosition:.05},{StartPosition:.25,EndPosition:.5},{StartPosition:.5,EndPosition:.75},{StartPosition:.75,EndPosition:.95},{StartPosition:.95,EndPosition:1}];if(!d)return;var u=null,m=null,g=null,h=!1;t(n).on("timeupdate",function(){h||(c=l(c),p=l(p),h=!0);var i=function(t,e,i){e.forEach(function(e,a){n.currentTime>e.StartPosition&&n.currentTime<e.EndPosition&&t!==a&&i(e,a)})};i(m,p,function(t,i){try{e.statistics.SendStatObject({VideoPart:i,VideoFullDuration:n.duration.toFixed(2)}),m=i}catch(t){console.log(t)}}),i(u,c,function(t,n){try{e.statistics.SendStatisticsData("performedAction","videoPixel_"+n+"_from("+t.StartPosition.toFixed(2)+")_to("+t.EndPosition.toFixed(2)+")"),e.statistics.createClickCounterImage(t.TrackingLink)}catch(t){console.log(t)}u=n}),null!==e.params.VideoFooterButton&&void 0!==e.params.VideoFooterButton&&""!==e.params.VideoFooterButton&&e.params.VideoFooterButton.forEach(function(e){!function(e){var i=e.startTime,a=e.stopTime;void 0===a&&(a=n.duration);var o=e.id;n.currentTime>i&&n.currentTime<a?null===g&&(t("#"+o).css("display","block"),g=o,console.log(o,"start")):g===o&&(t("#"+o).css("display","none"),g=null,console.log(o,"stop"))}(e)})}),t(".fancybox-wrap").on("close",function(){})}}}(),!1===B&&(B=!0,t("#"+s).is("iframe")))try{var h=document.getElementById(s);null!==h.contentWindow&&(B=!0,h.contentWindow.postMessage({message:"iframe_showed_and_loaded"},"*"))}catch(t){}},afterClose:function(){if(t("body").removeClass("probtn_disable_scroll"),"video"===a)try{var n;null!==i&&void 0!==i?(n=t("#video_probtn_"+i).get(0)).pause():(n=t("#video_probtn").get(0)).pause()}catch(t){}finally{var o=n.currentTime.toFixed(2);e.statistics.SendStatisticsData("VideoClosed",o)}"menu"!==e.params.ButtonType&&e.additionalButtonFunctions.MinimizeWrapper(function(){},e.params.MinimizeWrapperTime),"iOS"===e.userData.os&&t(document.body).unbind("touchmove"),t("html").css("overflow","auto"),e.pizzabtn.unbind("click"),t.pep.toggleAll(!0),e.additionalButtonFunctions.closeAfterOrientationChange?(e.pizzabtn.center(),e.additionalButtonFunctions.closeAfterOrientationChange=!1):e.pizzabtn.css(f.property,f.currentValue+"px"),!0===e.params.HideAfterFirstShow&&e.additionalButtonFunctions.hideAll(),"lookoutAndOut"===s[0]&&e.additionalButtonFunctions.hideAll(),e.contentTime.endTimer(),e.HpmdFunctions.closeHpmdTrack()},onUpdate:function(){e.additionalButtonFunctions.onOrientationChange(null)}};if(S.type=e.params.FancyboxType,"video"===a||"video_and_iframe"===a){S.type="inline";try{var z;if(null!==i&&void 0!==i)null===(z=document.getElementById("video_and_iframe_item_"+i))&&(z="#video_item_"+i),S.href=z,console.log("fancyboxParams.href",S.href);else"video"===a&&(z="#video_item"),"video_and_iframe"===a&&(z="#video_and_iframe_item"),S.href=z}catch(t){}}var y="";""!==(y=!0===e.params.Debug?e.params.VendorText+" "+e.mainVersion:e.params.VendorText)&&" "!==y&&!0===e.params.ButtonEnabled&&!0===e.params.ButtonVisible&&(S.title=e.additionalButtonFunctions.getTitleTextForModalWindow(),S.titleShow=!0),!0===e.params.IsManualSize?(S.width=e.params.ContentSize.X,S.height=e.params.ContentSize.Y,-1!==e.params.ContentSize.X.indexOf("%")?S.width=e.additionalButtonFunctions.getWindowWidth()*(parseFloat(e.params.ContentSize.X)/100):S.width=e.params.ContentSize.X,-1!==e.params.ContentSize.Y.indexOf("-")?(S.height=S.width*Math.abs(e.params.ContentSize.H),S.height>e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height()&&(S.height=e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height(),S.width=S.height/Math.abs(e.params.ContentSize.H))):-1!==e.params.ContentSize.Y.indexOf("%")?S.height=e.additionalButtonFunctions.getWindowHeight()*(parseFloat(e.params.ContentSize.Y)/100):S.height=e.params.ContentSize.Y):(S.width=e.params.ContentSize.W,S.height=e.params.ContentSize.H),e.params.MaxWidth>0&&(S.maxWidth=e.params.MaxWidth),e.params.MaxHeight>0&&(S.maxHeight=e.params.MaxHeight);var x=function(){!0===e.params.HideAfterFirstShow&&e.additionalButtonFunctions.hideAll()};if(!0===e.params.OpenExternal||"anchor_external"===a){e.statistics.SendStatisticsData("ContentShowed",1),t.pep.toggleAll(!0);window.open(n,"_blank");e.additionalButtonFunctions.MinimizeWrapper(function(){}),x()}else if("anchor"===a)"#"===n.charAt(0)?(e.statistics.SendStatisticsData("ContentShowed",1),t.pep.toggleAll(!0),window.location.hash="",window.location.hash=n,e.additionalButtonFunctions.MinimizeWrapper()):e.statistics.SendStatisticsData("ContentShowed",1,null,function(){t.pep.toggleAll(!0),window.open(n,"_top"),x()});else{if(null!==i&&void 0!==i)e.statistics.sendAreaActivatedStats(i);else try{var _="";null!==s[3]&&void 0!==s[3]&&(_=s[3].toLowerCase()),"lookoutAndOut"===s[0]||"openmodal"===_.toLowerCase()||e.statistics.SendStatisticsData("ContentShowed",1)}catch(t){e.statistics.SendStatisticsData("ContentShowed",1)}var C=e.wrapper,I={width:e.additionalButtonFunctions.getWindowWidth(),height:e.additionalButtonFunctions.getWindowHeight(),position:"fixed"};C.css(I),t.fancybox.open(S)}}else var A=setInterval(function(){if(e.loadedStatus.postscribe){clearInterval(A);var n=e.additionalButtonFunctions.randomString(12);t("<div/>",{id:n,css:{display:"none"}}).prependTo(e.additionalItemsContainer);postscribe("#"+n,""+e.params.ContentURL)}},100)}else e.params.Debug&&console.log("areaname empty")}},contentTime:{timeValue:{ContentShowedDuration:0,MovedDuration:0,ButtonShowedDuration:0,ButtonFromInitDuration:0},contentOpenedTime:0,movedTime:0,startTimer:function(t){null!==t&&void 0!==t||(t="ContentShowedDuration"),void 0!==e.contentTime.intervalId[t]&&clearInterval(e.contentTime.intervalId[t]),e.contentTime.timeValue[t]=0,e.contentTime.intervalId[t]=setInterval(function(){e.contentTime.timeValue[t]+=.01},10)},endTimer:function(t){null!==t&&void 0!==t||(t="ContentShowedDuration"),clearInterval(e.contentTime.intervalId[t]),e.contentTime.intervalId[t]=void 0;var n=function(){(null!==e.params.ActiveZones||e.params.ActiveZones.length>0)&&"button_and_active_zones"===e.params.ButtonType&&"ContentShowedDuration"===t&&(e.params.currentAreaName="")};if("ContentShowedDuration"===t&&"video"===e.params.ButtonContentType){var i=0;try{i=Math.floor(document.getElementById("video_probtn").duration)}catch(t){}e.statistics.SendStatObject({ContentShowedDuration:e.contentTime.timeValue[t].toFixed(2),VideoFullDuration:i.toFixed(2)},n)}else"MovedDuration"===t?e.contentTime.timeValue[t]>.01&&e.statistics.SendStatisticsData(t,e.contentTime.timeValue[t].toFixed(2),"",n):e.statistics.SendStatisticsData(t,e.contentTime.timeValue[t].toFixed(2),"",n)},intervalId:{ContentShowedDuration:void 0,MovedDuration:void 0}},userData:{},geolocation:{checkPlaces:function(t){for(var n=0;n<e.params.LocationPoints.length;n++){var i=e.params.LocationPoints[n],a=e.geolocation.calculateDistance(e.geolocation.latitude,e.geolocation.longitude,i.lat,i.lon);if(i.rad>=a)return console.log("In radius "+i.name+" "+a,e.geolocation.position,i),void t(!0,i)}t(!1,null)},calculateDistance:function(t,n,e,i){function a(t){return t*Math.PI/180}var o=a(e-t),s=a(i-n),r=(t=a(t),e=a(e),Math.sin(o/2)*Math.sin(o/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(e));return 1e3*(6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))))},checkAndRunGeolocation:function(t){!0===e.params.UseGeoLocation?!0===e.params.WaitForGeoLocation?e.geolocation.getLocation(function(n){e.geolocation.getPosition(n),t()}):(e.geolocation.getLocation(function(t){e.geolocation.getPosition(t)}),t()):t()},getLocation:function(t){t({coords:{longitude:0,latitude:0}})},getPosition:function(t){try{e.params.Debug&&console.log("position",t),e.geolocation.position=t,e.geolocation.longitude=t.coords.longitude,e.geolocation.latitude=t.coords.latitude}catch(t){e.params.Debug&&console.log(t)}},position:{},longitude:0,latitude:0},userDataFunction:function(t){try{var n="Unbekannt",i="",a="",o="";screen.width&&(i+=(a=screen.width?screen.width:"")+" x "+(o=screen.height?screen.height:""));var s,r,c,d=navigator.appVersion,l=navigator.userAgent,p=navigator.appName,u=""+parseFloat(navigator.appVersion),m=parseInt(navigator.appVersion,10);-1!=(r=l.indexOf("Opera"))?(p="Opera",u=l.substring(r+6),-1!=(r=l.indexOf("Version"))&&(u=l.substring(r+8))):-1!=(r=l.indexOf("MSIE"))?(p="Microsoft Internet Explorer",u=l.substring(r+5)):-1!=(r=l.indexOf("Chrome"))?(p="Chrome",u=l.substring(r+7)):-1!=(r=l.indexOf("Safari"))?(p="Safari",u=l.substring(r+7),-1!=(r=l.indexOf("Version"))&&(u=l.substring(r+8))):-1!=(r=l.indexOf("Firefox"))?(p="Firefox",u=l.substring(r+8)):(s=l.lastIndexOf(" ")+1)<(r=l.lastIndexOf("/"))&&(p=l.substring(s,r),u=l.substring(r+1),p.toLowerCase()==p.toUpperCase()&&(p=navigator.appName)),-1!=(c=u.indexOf(";"))&&(u=u.substring(0,c)),-1!=(c=u.indexOf(" "))&&(u=u.substring(0,c)),m=parseInt(""+u,10),isNaN(m)&&(u=""+parseFloat(navigator.appVersion),m=parseInt(navigator.appVersion,10));var g=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(d),h=!!navigator.cookieEnabled,b=n,f=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],v=n;try{for(var w in f){var B=f[w];if(B.r.test(l)){b=B.s;break}}switch(/Windows/.test(b)&&(v=/Windows (.*)/.exec(b)[1],b="Windows"),b){case"Mac OS X":v=/Mac OS X (10[\.\_\d]+)/.exec(l)[1];break;case"Android":v=/Android ([\.\_\d]+)/.exec(l)[1];break;case"iOS":v=(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(d))[1]+"."+v[2]+"."+(0|v[3])}}catch(t){b=n}var S=null!==navigator.userAgent.match(/iPad/i),z="";void 0!==DeviceAtlas&&(z=DeviceAtlas.getPropertiesAsString());var y={screen:i,screenWidth:a,screenHeight:o,browser:p,browserVersion:u,browserMajorVersion:m,mobile:g,os:b,osVersion:v,cookies:h,isiPad:S,retina:1,kbs:0,DAPROPS:z};return e.cookieFunctions.eraseCookie("DAPROPS"),e.userData=y,t(y),y}catch(n){return void t(void 0)}},XProBtnToken:"b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b",serverUrl:"https://admin.viewst.com",GetDeviceUID:function(){var t="1234";if(null!==e.cookieFunctions.readCookie("probtnId"));else{var n=new Date;t=(n=n.getTime()).toString()+"-"+navigator.userAgent.toString().ProBtnHashCode(),e.cookieFunctions.viewst_opt_out||e.cookieFunctions.createCookie("probtnId",t,365)}return e.cookieFunctions.setHashCookie(),t=e.cookieFunctions.readCookie("probtnId")},DeviceCID:"",cookieFunctions:{viewst_opt_out:!1,sendEraseToCookieIframePage:function(){try{void 0!==document.getElementById("probtn_guidIframe")&&null!==document.getElementById("probtn_guidIframe")&&document.getElementById("probtn_guidIframe").contentWindow.postMessage({command:"eraseAllCookies"},e.guidCookieControlPath)}catch(t){console.log(t)}},eraseAllCookies:function(){return e.cookieFunctions.eraseCookie("probtnCID"),e.cookieFunctions.eraseCookie("probtnId"),e.cookieFunctions.eraseCookie("DAPROPS"),e.cookieFunctions.eraseCookie("hpmd_cd"),e.cookieFunctions.sendEraseToCookieIframePage(),e.additionalButtonFunctions.randomString(12)},getDeviceCID:function(n){try{try{if(t("#probtn_additional_params").length>0){var i=t("#probtn_additional_params").text();null!==(i=JSON.parse(i)).useGuidIframe&&void 0!==i.useGuidIframe&&""!==i.useGuidIframe&&(e.params.useGuidIframe=i.useGuidIframe)}}catch(t){e.params.Debug&&console.log(t)}var a=e.GetDeviceUID();if(!1===e.params.useGuidIframe)return e.DeviceCID=a,void n(a);if(!0===e.params.useGuidIframe)if(!1!==e.params.isServerCommunicationEnabled){var o=!1;setTimeout(function(){o||(console.log("getDeviceCID6_timeout"),o=!0,e.cookieFunctions.eraseAllCookies(),a=e.additionalButtonFunctions.randomString(12),n(a))},11500),window.window.addEventListener("message",function(t){try{void 0!==t.data.type&&null!==t.data.type&&!1===o&&("probtnCID"===t.data.type&&(o=!0,e.statistics.callSuperPixelExt("getDeviceCID6_6"),e.DeviceCID_log=JSON.stringify(t.data),e.cookieFunctions.createCookie("probtnCID",t.data.cid,1),e.DeviceCID=t.data.cid,n(t.data.cid)),"viewst_opt_out"===t.data.type&&(o=!0,e.cookieFunctions.viewst_opt_out=!0,console.log("viewst_opt_out recieved"),n(e.cookieFunctions.eraseAllCookies())))}catch(t){e.statistics.callSuperPixelExt("getDeviceCID6_ex_"+t)}},!1)}else e.statistics.callSuperPixelExt("getDeviceCID7"),n(a);else n(e.cookieFunctions.eraseAllCookies());if(!1!==e.params.isServerCommunicationEnabled)try{e.statistics.callSuperPixelExt("getDeviceCID1"),t("#probtn_guidIframe").remove(),!!window.cordova&&(e.statistics.callSuperPixelExt("getDeviceCID2"),setTimeout(function(){var t={type:"probtnCID",cid:""};console.log("deviceCUID_item",t),window.top.postMessage(t,"*"),window.postMessage(t,"*")},500)),t("<iframe/>",{id:"probtn_guidIframe",scrolling:"no",seamless:"seamless",src:e.guidCookieControlPath,css:{width:"0px",height:"0px",position:"absolute",top:"-10000px",left:"-10000px"}}).appendTo("body")}catch(t){try{console.log("getDeviceCID4"+t);var s={type:"probtnCID",cid:""};window.top.postMessage(s,"*"),window.postMessage(s,"*")}catch(t){console.log(t)}}}catch(t){n(e.cookieFunctions.eraseAllCookies())}},setHashCookie:function(){for(var t,n=/#\S*=/g,i=window.location.hash;null!==(t=n.exec(i));){if(t.index===n.lastIndex&&n.lastIndex++,"#probtn_deviceid"==t[0].replace("=","")){var a=i.replace(t[0],"");""!==a&&void 0!==a&&null!==a?e.cookieFunctions.createCookie("probtnId","_NAMED_"+a,365):(e.cookieFunctions.eraseCookie("probtnId"),e.GetDeviceUID())}}},createCookie:function(t,n,i){try{var a=!0;if(void 0!==e.params.CookieEnabled&&(a=JSON.parse(e.params.CookieEnabled)),i>0&&("doubleclick.net"===document.domain||"googlesyndication.com"===document.domain||window.top!==window.self||0==a))e.cookieFunctions.eraseAllCookies();else{var o="";if(i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3),o="; expires="+s.toGMTString()}document.cookie=t+"="+n+o+"; path=/"}}catch(t){console.log(t)}},readCookie:function(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var a=e[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},eraseCookie:function(t){e.cookieFunctions.createCookie(t,"",-1)}},allButtonInit:!1,params:{},HpmdFunctions:{probtnHpmdTrack:function(t){if(e.params.isHPMD)try{void 0===t&&(t=1)}catch(t){}},closeHpmdTrack:function(){if(e.params.isHPMD)try{e.params.hpmd.trackEvent("hpmd.close"),e.params.hpmd.trackEvent("hpmd.time-expanded",{weight:e.contentTime.contentOpenedTime})}catch(t){}},expandHpmdTrack:function(){if(e.params.isHPMD)try{e.params.hpmd.trackEvent("hpmd.expand")}catch(t){e.params.Debug&&console.log(t)}}},randomElements:{probtnId:"probtn_button_"},statistics:{_currentSessionID:null,getCurrentSessionID:function(){return null===this._currentSessionID&&(this._currentSessionID=(new Date).getTime().toString()+navigator.userAgent.toString().ProBtnHashCode()+e.additionalButtonFunctions.randomString(12)),this._currentSessionID},checkAdBlock:function(){try{t.ajax({url:"https://cdn.probtn.com/showads.js",dataType:"javascript",success:function(t){console.log("Success:",t)}}).fail(function(t){0===t.status&&(e.statistics.SendStatisticsData("performedAction","adBlockDetected"),console.log("probtn.js - adBlock detected"))})}catch(t){console.log("ex",t)}},createEventHandler:function(t){try{var n=document.createEvent("Event");n.initEvent("probtn_events",!0,!0),n.data=t,document.dispatchEvent(n)}catch(t){}try{for(var e=window.frames,i=0;i<e.length;i++)e[i].postMessage(t,"*")}catch(t){console.log("frames postMessage error",t)}},prepareObjectForEventHandler:function(t){var n={AZName:"",Statistic:[]};try{if(null!==t&&""!==t&&void 0!==t)for(var e in t)if(t.hasOwnProperty(e)){var i={};i.value=t[e],i.name=e,n.Statistic.push(i)}}catch(t){}return n},callSuperPixel:function(){try{}catch(t){}},callSuperPixelExt:function(t){try{var n=document.getElementById("probtn_additional_params");if(null!==n){var e=JSON.parse(n.innerHTML);void 0!==e.domain&&e.domain}}catch(t){console.log(t)}},createClickCounterImage:function(n,i){try{if(""!==n&&void 0!==n){var a=n;(a=e.additionalButtonFunctions.replaceRandom(n))===n&&n!==e.params.TrackingLink&&(a=e.additionalButtonFunctions.replaceUrlParam(a,"probtn_random",e.additionalButtonFunctions.randomString(12)));var o=e.additionalItemsContainer;null!==e.additionalItemsContainer&&void 0!==e.additionalItemsContainer||(o="body");var s=e.additionalButtonFunctions.randomString(12);null!==i&&void 0!==i&&(s=i),t("<img/>",{id:"probtn_ClickCounterLink_"+s,src:a,style:"width: 1px; height: 1px; position: absolute; left: -10001px; top: -10001px;"}).prependTo(o)}}catch(t){console.log(t)}},createStatisticsLink:function(t,n,i){void 0!==t&&null!==t||(t="updateUserStatistic");var a;a=e.GetDeviceUID();var o=e.DeviceCID,s="";null!==e.params.CampaignID&&void 0!==e.params.CampaignID&&(s="&CampaignID="+e.params.CampaignID);var r="";null!==e.params.currentAreaName&&void 0!==e.params.currentAreaName&&""!==e.params.currentAreaName&&(r=e.params.currentAreaName);var c="";null!==document.referrer&&void 0!==document.referrer&&(c=document.referrer);var d=e.contentTime.timeValue.ButtonFromInitDuration.toFixed(2),l=e.statistics.getCurrentSessionID(),p=e.serverUrl+"/1/functions/"+t+"?BundleID="+e.currentDomain+"&DeviceType=web"+s+"&Version="+e.mainVersion+"&AZName="+r+"&log="+e.DeviceCID_log+"&DeviceUID="+a+"&DeviceCUID="+o+"&localDomain="+e.realDomain+n+"X-ProBtn-Token=b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b&Location[Longitude]="+e.geolocation.longitude+"&Location[Latitude]="+e.geolocation.latitude+"&ScreenResolutionX="+e.userData.screenHeight+"&ScreenResolutionY="+e.userData.screenWidth+"&retina="+e.userData.retina+"&ConnectionSpeed="+e.userData.kbs+"&AdditionalTargetingParam="+e.params.AdditionalTargetingParam+"&ButtonFromInitDuration="+d+"&SessionID="+l+"&OriginalReferer="+c+"&DAPROPS="+e.userData.DAPROPS+"CacheBuster="+e.params.CacheBuster+"&callback=?";return null===i||void 0===i?i={additional_params:n}:e.statistics.createEventHandler(i),p},sendAreaActivatedStats:function(n,i){e.params.isServerCommunicationEnabled&&(e.params.currentAreaName=n,t.getJSON(e.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"ContentShowed": "1"}&',{AZName:n,Statistic:[{name:"ContentShowed",value:1}]}),function(){}).always(function(){null!==i&&void 0!==i&&i()}))},sendScrollAreaShowedStats:function(n,i){t("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage({message:"probtn_page_scrollzone_changed",name:n},"*");e.params.isServerCommunicationEnabled&&(e.params.currentAreaName=n,t.getJSON(e.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"ScrollZoneShowed": "1"}&',{AZName:n,Statistic:[{name:"ScrollZoneShowed",value:1}]}),function(){}).done(function(){}).fail(function(){}).always(function(){null!==i&&void 0!==i&&i()}))},SendBrowserStatsInfo:function(){try{e.params.isServerCommunicationEnabled&&e.statistics.SendStatisticsDataObject({Resolution:e.userData.screen,Browser:e.userData.browser,BrowserVersion:e.userData.browserVersion,OS:e.userData.os+" "+e.userData.osVersion})}catch(t){e.params.Debug&&console.log(t)}},SendCustomStat:function(n,i){e.params.isServerCommunicationEnabled&&t.getJSON(e.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"'+n+'": "'+i+'"}&',{AZName:areaName,Statistic:[{name:n,value:i}]}),function(){}).always(function(){null!==callback&&void 0!==callback&&callback()})},SendStatisticsData:function(t,n,i,a){if(e.params.isServerCommunicationEnabled){var o;e.GetDeviceUID(),o=e.DeviceCID,""!==t&&null!==t&&void 0!==t||(t="Opened"),""!==n&&null!==n&&void 0!==n||(n=1);e.vastFunctions.sendVastMessage(t),""===i||null===i||void 0===i?e.statistics.SendStat(t,n,o,e.currentDomain,a):e.statistics.SendCustomStat(t,n,o,e.currentDomain,a)}},SendStat:function(n,i,a,o,s){if(e.statistics.callSuperPixelExt("SendStat"),e.params.isServerCommunicationEnabled){var r="";null!==e.params.currentAreaName&&void 0!==e.params.currentAreaName&&""!==e.params.currentAreaName&&(r=e.params.currentAreaName),void 0===n&&(n=""),void 0===i&&(i=""),t.getJSON(e.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"'+n+'": "'+i+'"}&',{AZName:r,Statistic:[{name:n,value:i}]}),function(t){}).always(function(){null!==s&&void 0!==s&&s()})}},SendStatObject:function(n,i){var a=JSON.stringify(n);if((n.Closed||n.Hidded||n.Opened)&&e.vastFunctions.sendVastMessage(Object.keys(n)[0]),e.statistics.callSuperPixelExt("SendStatObject"),e.params.isServerCommunicationEnabled){var o=e.statistics.prepareObjectForEventHandler(n);t.getJSON(e.statistics.createStatisticsLink("updateUserStatistic","&Statistic="+a+"&",o),function(t){e.params.Debug&&console.log(t)}).done(function(){}).fail(function(){}).always(function(){null!==i&&void 0!==i&&i()})}},SendStatisticsDataObject:function(n,i){if(e.statistics.callSuperPixelExt("SendStatisticsDataObject"),e.params.isServerCommunicationEnabled){var a=e.statistics.prepareObjectForEventHandler(n);t.getJSON(e.statistics.createStatisticsLink("updateCustomStatistic","&Statistic="+JSON.stringify(n)+"&",a),function(t){e.params.Debug&&console.log(t)}).done(function(){}).fail(function(){}).always(function(){null!==i&&void 0!==i&&i()})}}},videoFunctions:{createVideoItem:function(n,i){var a="video_item",o="video_probtn";if(null!==n&&void 0!==n&&""!==n&&(a="video_item_"+n,o="video_probtn_"+n),t("#"+a).length<1){var s='<div id="'+a+'" class="probtn_video_wrapper2" style="display: none; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0 auto;"><tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline id="'+o+'" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+i+'" type="video/mp4">Your browser does not support the video tag.</video></td></tr></table></div>';e.additionalItemsContainer.append(s);var r=e.additionalButtonFunctions.getWindowWidth()-30,c=e.additionalButtonFunctions.getWindowHeight()-60;!0===e.params.IsManualSize&&(r=-1!==e.params.ContentSize.X.indexOf("%")?e.additionalButtonFunctions.getWindowWidth()*(parseFloat(e.params.ContentSize.X)/100):e.params.ContentSize.X,c=-1!==e.params.ContentSize.Y.indexOf("%")?e.additionalButtonFunctions.getWindowHeight()*(parseFloat(e.params.ContentSize.Y)/100):e.params.ContentSize.Y);var d=0,l=0;r>c?l=(d=c)/e.params.VideoSize.Y*e.params.VideoSize.X:d=(l=r)/e.params.VideoSize.X*e.params.VideoSize.Y,t("#"+o).width(l),t("#"+o).height(d)}},createVideoAndIframeItem:function(n,i){var a=n.split("|"),o="video_and_iframe_item",s="video_item",r="video_probtn",c="skip_video_btn";if(null!==i&&void 0!==i&&""!==i&&(s="video_item_"+i,o="video_and_iframe_item_"+i,r="video_probtn_"+i,c="skip_video_btn_"+i),t("#"+o).length<1){var d='<div id="'+o+'" style="display:none"><div id="'+s+'" class="probtn_video_wrapper2" style="display: inline-block; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table cellspacing="0" cellpadding="0" class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0px;"><tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline onclick="" id="'+r+'" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+a[0]+'" type="video/mp4">Your browser does not support the video tag. </video></td><td>test</td></tr></table> +</div><button id="'+c+'"style="position: absolute; z-index: 7; left: 45%; top:90%;" onclick=\'document.getElementById("'+s+'").remove(); document.getElementById("'+c+'").remove();\'>Press Button</button><iframe src="'+a[1]+'" class="video_iframe" scrolling="auto"></iframe></div>';e.additionalItemsContainer.append(d)}}},initFunctions:{initProbtnBadge:function(n){e.wrapper,t("body");if(0!==n.length){var i=t("#probtn_badge");0===i.length&&e.params.BadgeActive&&""!==e.params.BadgeImage&&((i=t("<img/>",{id:"probtn_badge",src:e.params.BadgeImage,style:"margin: 0 auto; display: none; top: -1000px; position: absolute;width:"+e.params.BadgeSize.W+"px;height:"+e.params.BadgeSize.H+"px;opacity:"+e.params.BadgeOpacity+";left: -1000px;"}).appendTo(n)).setBadgePosition=function(){var t=e.params.BadgePosition.split("_"),n=0,i=e.params.ButtonSize.H+5;switch("top"===t[0]&&(i=-e.params.BadgeSize.H-5),t[1]){case"left":n=0;break;case"center":n=(e.params.ButtonSize.W-e.params.BadgeSize.W)/2;break;case"right":n=e.params.ButtonSize.W-e.params.BadgeSize.W}this.css({left:n+"px",top:i+"px"})},i.setBadgePosition(),null!==e.params.BadgeDelayBeforeShow&&void 0!==e.params.BadgeDelayBeforeShow||(e.params.BadgeDelayBeforeShow=0),setInterval(function(){i.css("display","block")},e.params.BadgeDelayBeforeShow))}else console.log("probtn element is not exist. Couldn't add probtn badge");e.badge=i},initProbtnClosingArea:function(t){""!==e.params.CloseAreaType&&"default"!==e.params.CloseAreaType&&void 0!==e.params.CloseAreaType?(e.closeButton.prependTo(t),e.closeButton.clickOnCloseButton()):(e.closeButton.prependTo(e.additionalItemsContainer),e.closeButton.clickOnCloseButton())},stopWebAudio:function(){e.initFunctions.stopedWebAudio=!0,null!==e.initFunctions.soundSource&&void 0!==e.initFunctions.soundSource&&e.initFunctions.soundSource.stop(0)},soundSource:null,stopedWebAudio:!1,initWebAudio:function(){if(""!==e.params.SoundURL&&null!==e.params.SoundURL&&void 0!==e.params.SoundURL){var n=e.params.SoundMode.split("_");window.AudioContext=window.AudioContext||window.webkitAudioContext;var i=new AudioContext,a=function(t){var n=new XMLHttpRequest;function e(t){console.log(t)}n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){i.decodeAudioData(n.response,function(t){o(t)},e)},n.send()},o=function(t){e.initFunctions.soundSource=i.createBufferSource(),e.initFunctions.soundSource.buffer=t,e.initFunctions.soundSource.connect(i.destination),e.initFunctions.soundSource.start(0),e.initFunctions.soundSource.onended=function(){"cycle"!==n[1]||e.initFunctions.stopedWebAudio||o(t)}},s=!0;"autoStart"===n[0]&&"iOS"!==e.userData.os&&(s=!1);var r=!0;if(s){var c=function(){if(r)try{!function(t){if(this.unlocked)return console.log("return"),void t();try{var n=i.createBuffer(1,1,22050),e=i.createBufferSource();e.buffer=n,e.connect(i.destination),console.log(e),(a=e.noteOn)&&"[object Function]"==={}.toString.call(a)?e.noteOn(0):e.start(0)}catch(t){console.log(t)}var a;setTimeout(function(){e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE?(!0,t()):t()},0)}(function(){if(r&&(r=!1,a(e.params.SoundURL),t("#pizzabtnImg").is("iframe")))try{var n=document.getElementById("pizzabtnImg");null!==n.contentWindow&&n.contentWindow.postMessage({message:"probtn_web_audio_api_enabled"},"*")}catch(t){}})}catch(t){console.log(t)}};window.addEventListener("touchstart",c,!1),window.addEventListener("click",c,!1)}else if(a(e.params.SoundURL),t("#pizzabtnImg").is("iframe"))try{var d=document.getElementById("pizzabtnImg");null!==d.contentWindow&&d.contentWindow.postMessage({message:"probtn_web_audio_api_enabled"},"*")}catch(t){}}},initButtonAndUserDeviceInfo:function(){try{var i=(new UAParser).getResult();if(i&&i.device&&i.os){if(i.os.name?i.ua_os_name=i.os.name.toLowerCase():i.ua_os_name="android",i.device.type)i.ua_device_type=i.device.type.toLowerCase();else switch(i.ua_os_name){case"android":case"ios":case"windows phone":case"windows mobile":i.ua_device_type="mobile";break;default:i.ua_device_type="console"}e.parsed_ua=i,e.params.Debug&&console.log(e.parsed_ua),e.statistics.callSuperPixelExt("initButtonAndUserDeviceInfo_"+e.parsed_ua)}}catch(t){e.params.Debug&&console.log(t),e.statistics.callSuperPixelExt("initButtonAndUserDeviceInfo_ex_"+t)}e.vastFunctions.initVast(),function(){if(e.statistics.callSuperPixelExt("allButton1"),e.userData.browserMajorVersion>"8"||"Microsoft Internet Explorer"!==e.userData.browser){try{if(t("#probtn_additional_params").length>0){var i=t("#probtn_additional_params").text();i=JSON.parse(i),console.log("options",n),n=t.extend(!0,{},i,n)}}catch(t){e.params.Debug&&console.log(t)}e.statistics.callSuperPixelExt("allButton1_not_ie"),e.params=t.extend(!0,{ConstrainByBlock:!1,CookieEnabled:!0,VASTbutton:!1,VASTparams:{clicks:{},customParams:{},id:0},DmpEnabled:!1,CacheBuster:e.additionalButtonFunctions.randomString(12),ButtonShowedDurationPeriod:[1e3,1e3,1e3,2e3,2e3,3e3,3e3,3e3,4e3,5e3,5e3,1e4,2e4,3e4,6e4,9e4,24e4,48e4,18e5],UseScreenSizes:!1,VideoPixels:[],JsImpressionCode:"",VideoItemHeaderImage:"",BadgeImage:"https://cdn.probtn.com/images/viewst-ad-3.png",BadgePosition:"bottom_center",BadgeSize:{W:46,H:18},BadgeOpacity:.7,BadgeActive:!0,BadgeDelayBeforeShow:0,BrandingImage:"",CloseAreaType:"attached",AttachedClosePosition:"top_right",CorrectPositionBeforeMove:!0,OnNoShowPixel:"",OnShowPixel:"",ButtonInjectPath:"body",LocationPoints:[],RequireLocation:!1,useGuidIframe:!0,waitIframeLoadedMsg:!1,waitContentLoadedMsg:!1,animationData:"",RoundButton:"none",LockBody:!1,CloseButtonShowDelay:0,SoundURL:"",SoundMode:"",ExternalData:{},ExternalDataSources:[{Name:"ASource3",Source:"https://demo.probtn.com/button_example4/externalData/iframe3/",Priority:13},{Name:"Source1",Source:"https://demo.probtn.com/button_example4/externalData/iframe1/",Priority:1},{Name:"Source2",Source:"https://demo.probtn.com/button_example4/externalData/iframe2/",Priority:2}],UseExternalDataAboutUser:!1,FancyboxcloseMethod:"zoomOut",FancyboxCloseSpeed:0,CreativeId:"",PassbackCustomCode:"",PassbackCodeSelector:"#probtn_wrapper #probtn_additionalItemsContainer",ModalWindowMode:"",ExtrusionMode:"",AdditionalTargetingParam:"",CheckPageAjaxUpdate:!1,HideButtonAfterAjaxUpdate:!1,SelectAdSet:"",MenuTemplateVariant:"list",UseGeoLocation:!1,WaitForGeoLocation:!1,loadJqueryPepJS:!0,loadFancyboxJS:!0,VideoType:"mp4",DisableButtonMove:!1,waitForIframeButtonLoaded:!0,uaParserPath:"//cdn.probtn.com/libs/ua-parser.js",ButtonImageType:"image",ButtonIframeInitialSize:{W:0,H:0},ClickOnCloseButton:!0,AlwaysShowCloseButton:!0,FullscreenClickLink:"",UtmSourceUseOnlyDomain:!1,UtmCampaign:"",isTestSpeed:!1,HideWithoutInteractionTime:0,cssEaseDuration:300,ControlInIframeFromParent:!1,ParentParams:{width:0,height:0},isAddUtmSource:!1,UtmSource:"",ButtonInitDelay:0,MenuOptions:{FontSize:"1.4em",FontFamily:'"Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif',BackgroundColor:"rgba(49,55,61,.95)",ForegroundColor:"#fff",MenuHeight:"3.4em",MenuRadius:0,ItemWidth:60},MenuClose:{MenuCloseEnabled:!1,MenuCloseImage:"https://cdn.probtn.com/images/close-menu-btn@2x.png",MenuCloseSize:{W:72,H:72},MenuClosePosition:{X:50,Y:80}},MenuItems:[{Name:"Menu1",Text:"External1",ActionURL:"http://yandex.ru",Image:e.serverUrl+"/eqwid_btn_nonpress.png",Type:"external"}],ScrollZones:[{ZoneHeight:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"",HintText:"",TrackingLink:"",CustomButtonParams:!1,CustomContentURL:"",ButtonContentType:"",ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpacity:1,ButtonDragOpacity:1},{ZoneHeight:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"",HintText:"",TrackingLink:"",CustomButtonParams:!1,ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpacity:1,ButtonDragOpacity:1}],ChangeScrollButtonAtFullSiteHeight:!0,MainButtonClickable:!0,ActiveZones:[{Name:"Area1",ButtonContentType:"iframe",ButtonImageType:"image",Position:{X:.5,Y:.5},ActiveImage:e.serverUrl+"/eqwid_btn_nonpress.png",InactiveImage:e.serverUrl+"/eqwid_btn_nonpress.png",ActiveSize:{W:64,H:64},InactiveSize:{W:64,H:64},ActionURL:e.serverUrl+"/probtn_demo_page.html",ClickCounterLink:"",VisibleOnlyInteraction:!0,InactiveOpacity:.8,ActiveOpacity:1}],hpmd:void 0,isServerCommunicationEnabled:!0,localSettingsPath:"settings.json",useLocalFileSettings:!1,ClickCounterLink:"",isSmartBanner:!1,smartbannerJsPath:"//cdn.probtn.com/libs/jquery.smartbanner.js",smartbannerCssPath:"//cdn.probtn.com/libs/jquery.smartbanner.css",animationDuration:5e3,isAnimation:"",ButtonAnimationDoneImage:"",smartbanner:{iosAppId:null,androidAppId:null,isFixed:!1,isFixedMode:"default",title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,url:null,button:"VIEW",scale:"auto",speedIn:300,speedOut:400,daysHidden:0,daysReminder:0,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body"},dfp:{isDFP:!1,clickUrlEsc:"",cacheBuster:""},showInParent:!1,isHPMD:!1,iframeScaleMinWidth:0,iframeScale:1,iframeScaleMobile:1,iframeScaleTablet:1,iframeScaleDesktop:1,Debug:!1,VideoPoster:"",ButtonOnClick:'console.log("ButtonOnClick"); function start1() { console.log("start1"); try { if (window.probtn_ButtonContentType!==null) { if (window.probtn_ButtonContentType=="video") { if (window.probtn_dropedActiveZone!==null) { if (window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType=="video") { var video = jQuery("#video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name).get(0); video.play(); } } else { var video = jQuery("#video_probtn").get(0); var frame_id = jQuery(".fancybox-iframe").first().attr("id"); probtn_callPlayer("video_probtn", "playVideo"); video.play(); } } } } catch(ex) { } }; start1(); setTimeout(start1 , 1000); setTimeout(start1 , 2000);',ButtonOnTouchEnd:'var moved = window.probtn_pizzabtn_moved; clearInterval(window.probtn_touch_interval); function start2() { console.log("window.probtn_dropedActiveZone", window.probtn_dropedActiveZone, moved); try { if ((window.probtn_dropedActiveZone!==null) && (window.probtn_dropedActiveZone!==undefined) && (moved === false)) { if (window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType=="video") { var videoZone = document.getElementById("video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name); videoZone.play(); moved = true; } } else { console.log("moved", moved); if (moved === false) { try { if (window.probtn_ButtonContentType!==null) { if (window.probtn_ButtonContentType=="video") { moved = true; var video = document.getElementById("video_probtn"); video.play(); probtn_callPlayer("video_probtn", "playVideo");  } } } catch(ex) { console.log(ex); } } } } catch(ex) { console.log(ex); } window.probtn_pizzabtn_moved = false; }; start2();',ButtonOnTouchStart:"window.probtn_touch_start = 0; window.probtn_touch_interval = setInterval(function() { window.probtn_touch_start = window.probtn_touch_start + 1; }, 1);",ButtonType:"fancybox",VideoSize:{X:1920,Y:1080},VideoClickURL:"",ButtonContentType:"iframe",FancyboxType:"iframe",TrackingLink:null,MinimizeWrapperTime:600,OpenExternal:!0,CampaignID:null,NeverClose:!0,MaxHeight:0,MaxWidth:0,domain:"",fancyboxJsPath:"https://cdn.probtn.com/libs/jquery.fancybox.min.js",fancyboxCssPath:"https://cdn.probtn.com/libs/jquery.fancybox.min.css",mainStyleCss:"https://cdn.probtn.com/style.css",jqueryPepPath:"https://cdn.probtn.com/libs/jquery.pep.min.js",buttonAnimationTimeAfterFancybox:0,HideAfterFirstShow:!0,LoadFancyboxCSS:!0,ContentURL:"http://app.ecwid.com/jsp/2557212/m",BaseInsets:{T:4,B:4,L:4,R:4},ButtonEnabled:!1,ButtonVisible:!1,ButtonOpenInsets:{T:32,B:32,L:32,R:32},ButtonPosition:{X:.1,Y:.77},ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpenSize:{W:64,H:64},ButtonInactiveSize:{W:64,H:64},ButtonOpacity:1,ButtonDragOpacity:1,ButtonOpenOpacity:1,ButtonInactiveOpacity:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ButtonOpenImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ButtonInactiveImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ClosePosition:{X:.05,Y:.97},CloseSize:{W:32,H:32},CloseActiveSize:{W:32,H:32},CloseOpacity:1,CloseActiveOpacity:1,CloseImage:"https://cdn.probtn.com/images/close-new.png",CloseActiveImage:"https://cdn.probtn.com/images/close-new.png",HintInsets:{T:4,B:4,L:4,R:4},HintLabelInsets:{T:4,B:4,L:4,R:4},HintImageInsets:{T:8,B:8,L:8,R:8},HintText:"",HintFont:{Family:"Arial",Size:18},HintFontColor:{R:1,G:1,B:1,A:1},VendorText:"Powered by Viewst",VendorSite:"https://viewst.com",VendorTextFont:{Family:"Arial",Size:10},VendorTextColor:{R:1,G:1,B:1,A:1},VendorOpacity:.4,VendorColor:{R:0,G:0,B:0,A:1},HintOpacity:.8,HintImage:"https://cdn.viewst.com/images/probtn/hint.png",HintArrowSize:{W:8,H:8},HintArrowOffset:{T:0,B:0,L:0,R:0},HintArrowImageT:"",HintArrowImageB:"",HintArrowImageL:"",HintArrowImageR:"",ContentSize:{W:100,H:100,X:"90%",Y:"90%"},IsManualSize:!0,ContentInsets:{T:-2,B:-2,L:-2,R:-2},ContentWebViewInsets:{T:12,B:12,L:12,R:12},ContentImageInsets:{T:32,B:32,L:32,R:32},ContentOpacity:1,ContentBackOpacity:1,ContentBackColor:{R:0,G:0,B:0,A:1},ContentActivityColor:{R:0,G:0,B:0,A:1},ContentImage:"",ContentArrowSize:{W:14,H:14},ContentArrowOffset:{T:8,B:8,L:9,R:9},ContentArrowImageT:"",ContentArrowImageB:"",ContentArrowImageL:"",ContentArrowImageR:"",DefaultDuration:.1,DefaultDelay:0,OpenDuration:.2,OpenDelay:.5,CloseDuration:.2,CloseDelay:.5,ButtonShowDuration:.2,ButtonShowDelay:0,ButtonHideDuration:.2,ButtonHideDelay:0,ButtonDragDuration:.1,ButtonDragDelay:0,ButtonUndragDuration:.2,ButtonUndragDelay:0,ButtonInactiveDuration:.1,ButtonInactiveDelay:5,ButtonInertiaSpeed:512,ButtonInertiaSpeedMin:32,ButtonInertiaSpeedMax:1024,ButtonInertiaFactor:6,CloseShowDuration:.1,CloseShowDelay:0,CloseHideDuration:.2,CloseHideDelay:0,CloseActiveDuration:.1,CloseActiveDelay:0,CloseUnactiveDuration:.1,CloseUnactiveDelay:0,HintLaunchDuration:3e4,HintLaunchDelay:0,HintShowDuration:.1,HintShowDelay:0,HintHideDuration:.2,HintHideDelay:0,ContentShowDuration:.1,ContentShowDelay:0,ContentHideDuration:.2,ContentHideDelay:0,HideInFrame:!0,ZCustomCss:""},n),e.initFunctions.hintTextStyle={opacity:e.params.HintOpacity,"font-size":e.params.HintFont.Size,"font-family":e.params.HintFont.Family,color:"white",padding:"4px",background:"url('"+e.params.HintImage+"')"},""!==e.params.HintText&&null!==e.params.HintText||(e.initFunctions.hintTextStyle.display="none",e.initFunctions.hintTextStyle.opacity="0.0"),e.closeButton=void 0,e.currentDomain=document.domain.replace("www.",""),""!==e.currentDomain&&null!==e.currentDomain||(e.currentDomain="example.com"),""!==e.params.domain&&null!==e.params.domain&&(e.currentDomain=e.params.domain);window,e.additionalButtonFunctions.getWindowHeight(),e.additionalButtonFunctions.getWindowWidth();e.additionalButtonFunctions.closeAfterOrientationChange=!1;var a="",o=function(){e.statistics.callSuperPixelExt("CheckInFrameAndEnabled1");try{!0===e.params.UseExternalDataAboutUser&&void 0!==document.getElementById("probtn_guidIframe")&&document.getElementById("probtn_guidIframe").contentWindow.postMessage({command:"amber_matching"},e.guidCookieControlPath)}catch(t){console.log(t)}e.DMP.launchIDataScript();var n=function(){{if(e.statistics.callSuperPixelExt("startAppBanner"),"smartbanner"===e.params.ButtonType||!0===e.params.IsSmartBanner){""!==e.params.ZCustomCss&&null!==e.params.ZCustomCss&&void 0!==e.params.ZCustomCss&&t("head").append('<style type="text/css" id="probtn_ZCustomCss">'+e.params.ZCustomCss+"</style>");var n=function(){e.params.Debug&&console.log(e.params.smartbanner),e.statistics.SendStatObject({Opened:1,Showed:1});try{try{e.params.smartbanner.androidAppId&&""!==e.params.smartbanner.androidAppId||t("meta[name=apple-itunes-app]").length||t("head").append('<meta name="apple-itunes-app" content="app-id='+e.params.smartbanner.iosAppId+'" />'),e.params.smartbanner.androidAppId&&""!==e.params.smartbanner.androidAppId||t("meta[name=google-play-app]").length||t("head").append('<meta name="google-play-app" content="app-id='+e.params.smartbanner.androidAppId+'" />')}catch(t){e.params.Debug&&console.log(t)}"extrusion"===e.params.smartbanner.isFixedMode&&(e.params.smartbanner.appendToSelector="html"),t.smartbanner(e.params.smartbanner),e.params.Debug&&console.log(e.params.smartbanner.isFixed),!0===e.params.smartbanner.isFixed&&t("#smartbanner").css("position","fixed"),t("#smartbanner .sb-info").append('<div style="margin-left: -1px;" class="rating"><span></span><span></span><span></span><span></span><span></span></div>'),"extrusion"==e.params.smartbanner.isFixedMode&&(e.params.Debug&&console.log("extrusion"),t("#smartbanner").css("position","fixed"),t("body").css("top","78px"),t("body").css("margin","0px"),t("body").css("position","absolute"),t("body").css("width","100%"));try{t("#smartbanner .sb-button").attr("target","_blank")}catch(t){e.params.Debug&&console.log(t)}try{t(document).on("click","#smartbanner .sb-button",function(){e.params.Debug&&console.log("smartbanner click"),e.statistics.SendStatisticsData("ContentShowed",1)})}catch(t){e.params.Debug&&console.log(t)}try{t(document).on("click","#smartbanner a.sb-close",function(){e.params.Debug&&console.log("smartbanner close"),e.statistics.SendStatObject({Closed:1,Hidded:1}),"extrusion"==e.params.smartbanner.isFixedMode&&t("body").css("top","0px"),t("#smartbanner").hide(300)})}catch(t){e.params.Debug&&console.log(t)}}catch(t){e.params.Debug&&console.log(t)}};return"function"==typeof t.smartbanner?(n(),!0):(t("head").append('<link rel="stylesheet" href="'+e.params.smartbannerCssPath+'" type="text/css" />'),t.getScript(e.params.smartbannerJsPath,function(){n()}),!0)}return!1}}();if(function(){if(e.statistics.callSuperPixelExt("CheckAndRunButtonAtParent1"),e.params.showInParent&&window.window!==window.top)try{e.statistics.callSuperPixelExt("CheckAndRunButtonAtParent2_showinparent"),e.params.showInParent=!1,e.params.HideInFrame=!0;window.top.document.getElementsByTagName("HEAD").item(0);console.log("CheckAndRunButtonAtParent loadJS probtn_concat.js"),function(t,n){var e=window.top.document.createElement("script");e.src=t,e.async=!0,e.onreadystatechange=e.onload=function(){var t=e.readyState;n.done||t&&!/loaded|complete/.test(t)||(n.done=!0,n())},window.top.document.getElementsByTagName("head")[0].appendChild(e)}("//cdn.probtn.com/probtn_concat.js",function(){})}catch(t){e.params.Debug&&console.log(t)}}(),e.params.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonSize),e.params.ButtonDragSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonDragSize),!0===e.params.HideInFrame&&window.window!==window.top||n)e.params.Debug&&console.log("do nothing");else if(!0===e.params.ButtonEnabled){!0===e.params.LoadFancyboxCSS&&t("head").append('<link rel="stylesheet" href="'+e.params.fancyboxCssPath+'" type="text/css" />'),""!==e.params.ZCustomCss&&null!==e.params.ZCustomCss&&void 0!==e.params.ZCustomCss&&t("head").append('<style type="text/css" id="probtn_ZCustomCss">'+e.params.ZCustomCss+"</style>"),""!==e.params.BrandingImage&&null!==e.params.BrandingImage&&void 0!==e.params.BrandingImage&&t("head").append('<style type="text/css" id="probtn_BrandingImage">#probtn_wrapper { background: url("'+e.params.BrandingImage+'") no-repeat top center; background-size: 100% !important; }</style>');!0===e.params.LockBody&&t("head").append('<style type="text/css" id="probtn_ZCustomCss_probtn_disable_scroll">.probtn_disable_scroll { overflow: hidden !important; height: 100% !important; width: 100% !important; position: fixed !important; }</style>'),t("head").append('<style type="text/css" id="probtn_ZCustomCss_probtnImg_max">#pizzabtnImg { max-width: inherit !important; max-height: inherit !important;}</style>');var i=e.params.RoundButton.split("_"),a="",o=20;switch(i[0]){case"auto":o=e.params.ButtonSize.W/2,e.params.ButtonSize.W>e.params.ButtonSize.H&&(o=e.params.ButtonSize.H/2);var r="";"fill"===i[1]?(r="iframe"===e.params.ButtonImageType?"#probtn_button { background: "+i[2]+"} #pizzabtnImg { margin-left: 10% !important; margin-top: 10% !important; }":"#probtn_button { background: "+i[2]+"} #pizzabtnImg { width: 80% !important; height: 80% !important; margin-top: 10% !important; }",a='<style type="text/css" id="probtn_ZCustomCss_round_button">#probtn_button { border-radius: '+o+"px; overflow: hidden !important; } "+r+"</style>"):a='<style type="text/css" id="probtn_ZCustomCss_round_button">#pizzabtnImg, #probtn_button { border-radius: '+o+"px; "+r+"}</style>";break;case"manual":o=i[1],a='<style type="text/css" id="probtn_ZCustomCss_round_button">#pizzabtnImg, #probtn_button { border-radius: '+o+"px; overflow: hidden; }</style>"}switch(t("head").append(a),e.params.ModalWindowMode){case"sidebarRight":t("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { height: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; right: 0px !important; left: initial !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarLeft":t("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { height: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; left: 0px !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarTop":t("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { width: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; left: 0px !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarBottom":t("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { width: 100% !important; top: initial !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { bottom: 0px !important; left: 0px !important; }.fancybox-close { bottom: 0px !important; right: 0px !important; }</style>')}t(window).bind("orientationchange",e.additionalButtonFunctions.onOrientationChange),t(window).bind("resize",e.additionalButtonFunctions.onOrientationChange),0!==e.params.ButtonInitDelay&&null!==e.params.ButtonInitDelay&&void 0!==e.params.ButtonInitDelay?setTimeout(s,e.params.ButtonInitDelay):s()}else e.additionalButtonFunctions.callPassback()},s=function(){e.statistics.callSuperPixelExt("BeginButtonProcess");var n=function(t){void 0===t&&(t="duplicateDetected"),e.statistics.callSuperPixelExt(t);try{e.params.isServerCommunicationEnabled&&e.statistics.SendStatisticsData("performedAction",t)}catch(t){e.params.Debug&&console.log(t)}};if(t("#probtn_wrapper").length>0)n("duplicateDetected");else{if(t("#probtn_passback").length>0)return n("duplicateDetected"),void n("duplicateByPassback");var i=!1,a=function(n){try{switch(n.data.command.toLowerCase()){case"probtn_message_to_creative":null!==n.data.object&&void 0!==n.data.object&&e.additionalButtonFunctions.sendMessageToCreative(n.data.object);break;case"probtn_creative_loaded_message":console.log("probtn_creative_loaded_message recieved");try{e.buttonMainParams.hidden&&(e.pizzabtn.show(),e.wrapper.removeClass("hide"),e.additionalButtonFunctions.animation.checkAndRunAnimation(),e.buttonMainParams.hidden=!1,e.statistics.SendStatisticsData("Showed",1))}catch(t){console.log(t)}break;case"probtn_opened_and_showed":e.statistics.SendStatisticsData("ContentShowed",1);break;case"probtn_change_content_url":""!==n.data.value&&void 0!==n.data.value&&null!==n.data.value&&(e.params.ContentURL=n.data.value);break;case"probtn_performed_action":var a="buy";""!==n.data.value&&void 0!==n.data.value&&null!==n.data.value&&(a=n.data.value.toLowerCase()),e.statistics.SendStatisticsData("performedAction",a);break;case"probtn_start_content_showed_timer":i||(e.contentTime.startTimer(),i=!0);break;case"probtn_stop_content_showed_timer":i=!1,e.contentTime.endTimer();break;case"probtn_close":window.proBtn.close();break;case"probtn_hide":window.proBtn.hide();break;case"probtn_hide_content":window.proBtn.hideContent();break;case"button_image_iframe_disable_overlay":t("#pizzabtnIframeOverlay").hide();break;case"probtn_restore_button_size":e.pizzabtn.css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,left:n.data.position.left,top:n.data.position.top}),t("#pizzabtnImg").css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t(e.pizzabtn).css({opacity:e.params.ButtonOpacity});break;case"button_image_iframe_done":t("#pizzabtnIframeOverlay").show();break;case"button_image_iframe_size":var o=0,s=0,r="";n.data.size.important&&(r=" !important"),o=-1!==n.data.size.w.toString().indexOf("%")?n.data.size.w+r:n.data.size.w+"px "+r,s=-1!==n.data.size.h.toString().indexOf("%")?n.data.size.h+r:n.data.size.h+"px "+r,t("#pizzabtnIframeOverlay").css({width:o,height:s}),t("head").append("<style type='text/css'> #pizzabtnIframeOverlay { width: "+o+"; height: "+s+"; } </style>"),void 0!==n.data.size.top&&t("#pizzabtnIframeOverlay").css({top:n.data.size.top});break;case"probtn_video_part_event":e.statistics.SendStatObject({VideoPart:n.data.videoPart,VideoFullDuration:n.data.videoFullDuration})}}catch(t){}try{e.params.ParentParams.width=n.data.width,e.params.ParentParams.height=n.data.height,e.params.Debug&&console.log(e.params.ParentParams)}catch(t){e.params.Debug&&console.log(t)}};window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),e.HpmdFunctions.probtnHpmdTrack(2),t("head").append('<link rel="stylesheet" href="'+e.params.mainStyleCss+'" type="text/css" />'),"iOS"===e.userData.os&&(t("body").addClass("btn_os_ios"),!0===e.userData.isiPad?t("body").addClass("btn_device_ipad"):t("body").addClass("btn_device_iphone")),e.userData.mobile?t("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch; overflow: scroll !important; } </style>"):t("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch; overflow: hidden !important; } </style>");var o=t("<div/>",{id:"probtn_wrapper"});switch(e.params.ExtrusionMode){case"insertBlock":t("head").append('<style type="text/css">#probtn_wrapper { width: 100% !important; display: inline-block !important; position: relative !important; height:'+e.params.ButtonSize.H+"px !important; } #probtn_button { top: 0px !important; left: 0px !important; width:100% !important; }</style>"),o.prependTo(e.params.ExtrusionPath);break;case"fixedTop":t("head").append('<style type="text/css">#probtn_wrapper { width: 100% !important; display: inline-block !important; position: fixed !important;  } #probtn_button { top: 0px !important; left: 0px !important; width:100% !important; }</style>'),o.prependTo(e.params.ButtonInjectPath);break;default:o.prependTo(e.params.ButtonInjectPath)}if(e.wrapper=o,e.additionalItemsContainer=t("<div/>",{id:"probtn_additionalItemsContainer"}).prependTo(e.wrapper),e.closeButton=e.initFunctions.initCloseButton(),e.closeButton.attr("src",e.params.CloseImage),!1===e.params.NeverClose&&t("head").append(t("<style/>",{id:"probtn_style",type:"text/css",html:["#probtn_button.pizzabtn_normal { display: block; clear: both; position: device-fixed !important; }",".close_pro_button_normal{ width:"+e.params.CloseSize.W+"px; height:"+e.params.CloseSize.H+"px; opacity:"+e.params.CloseOpacity+"; display: block; clear: both; }"].join("\n")})),"fullscreen_fancybox"!=e.params.ButtonType&&"fullscreen"!=e.params.ButtonType||(e.params.ButtonVisible=!1),e.statistics.callSuperPixelExt("BeginButtonProcess2"),e.initFunctions.initStartScrollParams(),e.pizzabtn=e.initFunctions.initPizzaButton(),window.probtn_ButtonContentType=e.params.ButtonContentType,e.initFunctions.initScrollChange(),e.initFunctions.initActiveZones(),"fullscreen"!==e.params.ButtonType){var s=null;try{null!==(s=jQuery.fancybox)&&void 0!==s&&(s=jQuery.fancybox.open)}catch(t){}"function"==typeof s||!1===e.params.loadFancyboxJS?c():t.getScript(e.params.fancyboxJsPath,c)}else e.initFunctions.fullscreenInitAndShow();if(e.initFunctions.initScrollChange(!0),!0!==e.params.waitIframeLoadedMsg&&e.additionalButtonFunctions.animation.checkAndRunAnimation(),!0===e.params.CheckPageAjaxUpdate){window;var r=window.location.pathname;setInterval(function(){!0===e.params.HideButtonAfterAjaxUpdate&&window.location.pathname!==r&&e.additionalButtonFunctions.hideAll()},50),window.onhashchange=function(){!0===e.params.HideButtonAfterAjaxUpdate&&e.additionalButtonFunctions.hideAll()}}}function c(){var n,i;n=jQuery,(i=jQuery.fancybox).transitions.dropIn=function(){var t=i._getPosition(!0);t.top=parseInt(t.top,10)-200+"px",i.wrap.css(t).show().animate({top:"+=200px"},{duration:i.current.openSpeed,complete:i._afterZoomIn})},i.transitions.perspectiveOut=function(){var t=e.additionalButtonFunctions.getWindowHeight();e.additionalButtonFunctions.getWindowWidth()>e.additionalButtonFunctions.getWindowHeight()&&(t=e.additionalButtonFunctions.getWindowWidth()),n("body").css("perspective",t+"px"),i.wrap.removeClass("fancybox-opened"),n({deg:0}).animate({deg:350},{duration:i.current.closeSpeed,step:function(t){var e="rotateX("+t/50+"deg) scaleX("+(1-t/720)+")";n(".fancybox-wrap").css("transform",e),n(".fancybox-skin").css("transform",e)},complete:function(t){n("body").css("perspective","inherit"),i._afterZoomOut(t)}}),i.wrap.removeClass("fancybox-opened").animate({top:"-300px"},{duration:i.current.closeSpeed})};try{"function"==typeof t.pep.toggleAll||!1===e.params.loadJqueryPepJS?d():t.getScript(e.params.jqueryPepPath,d)}catch(n){t.getScript(e.params.jqueryPepPath,d)}}function d(){e.statistics.callSuperPixelExt("AllLoadedButtonProcess"),e.statistics.SendStatisticsData(),e.statistics.SendBrowserStatsInfo();window.addEventListener("time_to_start_video_expansion_event",function(){e.additionalButtonFunctions.toExpanseView(),e.pizzabtn.css("top",e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H),a=!0},!1);if(window.addEventListener("time_to_stop_video_expansion_event",function(){e.additionalButtonFunctions.fromExpanseToNormalView(),e.additionalButtonFunctions.checkAndCorrentButtonPosition(),clearInterval(e.contentTime.intervalId.ExpansionVideoTimer)},!1),e.params.ButtonEnabled&&e.params.ButtonVisible&&(e.statistics.callSuperPixelExt("ButtonEnabled"),e.statistics.createClickCounterImage(e.params.OnShowPixel),e.statistics.checkAdBlock(),e.pizzabtn.show(),e.closeButton.center(),null!==e.params.ExpansionVideoData&&void 0!==e.params.ExpansionVideoData&&""!==e.params.ExpansionVideoData)){var n=e.params.ExpansionVideoData;e.params.ExpansionVideoData=t("<div/>").html(n).text();var i="";try{i=JSON.parse(e.params.ExpansionVideoData)}catch(t){console.log("aaaaaaaaaaaaaaaaa"),i=""}if(null!==i&&void 0!==i&&""!==i){e.params.ExpansionVideoData=i,console.log("test",e.params.ExpansionVideoData);var a=!1,o=function(t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),document.dispatchEvent(n)};e.contentTime.intervalId.ExpansionVideoTimer=setInterval(function(){e.contentTime.timeValue.ButtonShowedDuration>=e.params.ExpansionVideoData.startTime&&!a&&o("time_to_start_video_expansion_event"),e.contentTime.timeValue.ButtonShowedDuration>=e.params.ExpansionVideoData.stopTime&&o("time_to_stop_video_expansion_event")}.bind(this),200)}}if("fullscreen_fancybox"===e.params.ButtonType&&(e.statistics.SendStatisticsData("Showed",1),e.onButtonTap()),"fullscreen"===e.params.ButtonType&&e.initFunctions.fullscreenInitAndShow(),"fullscreen_and_button"===e.params.ButtonType&&e.initFunctions.fullscreenInitAndShow(),e.params.ButtonVisible){e.params.waitIframeLoadedMsg||e.statistics.SendStatisticsData("Showed",1);var s=0,r=function(){var t=function(n,e){if(e<n.length){for(var i=0,a=0;a<e;a++)i+=n[a];return i}return t(n,n.length-1)};if(s<e.params.ButtonShowedDurationPeriod.length)e.contentTime.intervalId.ButtonShowedDurationPeriod=setTimeout(function(){var n=t(e.params.ButtonShowedDurationPeriod,s);e.statistics.SendStatObject({ButtonShowedDurationPeriodic:(n/1e3).toFixed(2)}),s++,r()},e.params.ButtonShowedDurationPeriod[s]);else{var n=e.params.ButtonShowedDurationPeriod.length,i=t(e.params.ButtonShowedDurationPeriod,s),a=e.params.ButtonShowedDurationPeriod[n-1];e.contentTime.intervalId.ButtonShowedDurationPeriod=setInterval(function(){s++,e.statistics.SendStatObject({ButtonShowedDurationPeriodic:((i+a*(s-n))/1e3).toFixed(2)})},a)}};e.params.ButtonShowedDurationPeriod.length>0&&r()}e.pizzabtn.hideHintDelay(),e.pizzabtn.showHint(),e.overlaped=!1,window.probtn_pizzabtn_moved=!1,e.pizzabtn.moved=!1;var c=e.params.cssEaseDuration;!0===e.params.ControlInIframeFromParent&&(c=0);var d="parent";"corner"===e.params.CloseAreaType&&(d="");var l=!1;e.pizzabtn.pep({useCSSTranslation:!1,constrainTo:d,cssEaseString:"cubic-bezier(0, .50, .50, 1)",cssEaseDuration:c,allowDragEventPropagation:!1,shouldPreventDefault:!0,velocityMultiplier:1,startThreshold:[1,1],droppable:".probtn_active_zone",elementsWithInteraction:"#probtn_closeButton",initiate:e.additionalButtonFunctions.changeBodySize,start:function(){e.once_moved=!0,window.probtn_pizzabtn_moved=!1;try{e.pizzabtn.stop(!0,!0),void 0!==e.lookOutTimeout&&(e.pizzabtn.stop(!0,!0),clearTimeout(e.lookOutTimeout)),void 0!==e.lookOutTimeout2&&(e.pizzabtn.stop(!0,!0),clearTimeout(e.lookOutTimeout2))}catch(t){console.log(t)}e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start"}),e.interactionFunctions.wasInteraction=!0,window.probtn_button_tap=!1,!1===e.params.MainButtonClickable&&t("#probtn_menu").length>0&&e.initFunctions.initRemoveMenu(),window.probtn_dropedActiveZone=null,e.initFunctions.initScrollChange(!0),e.additionalButtonFunctions.animation.animationRuning&&e.additionalButtonFunctions.animation.doneAnimation(),t.each(e.initializedActiveZones,function(t,n){n.currentActiveZone.VisibleOnlyInteraction&&n.show()}),e.additionalButtonFunctions.MaximizeWrapper(function(){if(!1===e.pizzabtn.moved&&e.pizzabtn.dragAnimate(),e.pizzabtn.moved=!0,e.once_moved=!0,e.pizzabtn.hintTextActive&&e.pizzabtn.hideHint(),!1===e.params.NeverClose)try{e.closeButton.show()}catch(t){}e.statistics.SendStatisticsData("Moved",1),e.contentTime.startTimer("MovedDuration"),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_start_move"}),e.additionalButtonFunctions.sendMessageToActiveZones({message:"probtn_start_move"})})},drag:function(n,i){if(window.probtn_pizzabtn_moved=!0,e.initFunctions.initScrollChange(!0),!0===e.params.DisableButtonMove||l)return window.probtn_pizzabtn_moved=!1,!1;e.additionalButtonFunctions.MaximizeWrapper(function(){var n=t(".fancybox-wrap"),i=e.pizzabtn[0].getBoundingClientRect(),a=e.closeButton[0].getBoundingClientRect();if(t(".fancybox-inner").length>0){var o=t(".fancybox-inner iframe").width(),s=t(".fancybox-inner iframe").height(),r=n.position().top,c=n.position().left;e.additionalButtonFunctions.sendMessageToModal({message:"probtn_drag_event",rect:{left:i.left,right:i.right,top:i.top,bottom:i.bottom},modal:{width:o,height:s,top:r,left:c}})}if(i.top,i.height,e.additionalButtonFunctions.getWindowHeight(),""===e.params.CloseAreaType||"default"===e.params.CloseAreaType){var d=!(i.right<a.left||i.left>a.right||i.bottom<a.top||i.top>a.bottom);if(d&&0!==a.width)e.overlaped||(e.closeButton.overlayActive(),e.overlaped=!0);else if(e.overlaped)try{e.closeButton.overlayUnactive(),e.overlaped=!1}catch(t){e.params.Debug&&console.log(t)}}});try{if(this.activeDropRegions.length>0){var a=jQuery(this.activeDropRegions[this.activeDropRegions.length-1]).attr("rel"),o=e.initializedActiveZones[a];null!==o&&void 0!==o&&(o.animateActive(),window.probtn_dropedActiveZone=o)}else t.each(e.initializedActiveZones,function(t,n){"iframe"!==n.currentActiveZone.ButtonImageType&&n.attr("src",n.currentActiveZone.InactiveImage),null!==n.currentActiveZone.ButtonIframeInitialSize&&void 0!==n.currentActiveZone.ButtonIframeInitialSize||(n.currentActiveZone.ButtonIframeInitialSize={W:0,H:0}),e.additionalButtonFunctions.checkExistInitIframeSIze(n)?n.css({opacity:n.currentActiveZone.InactiveOpacity}):(n.currentActiveZone.InactiveSize=e.additionalButtonFunctions.convertPercentButtonSize(n.currentActiveZone.InactiveSize),n.css({width:n.currentActiveZone.InactiveSize.W,height:n.currentActiveZone.InactiveSize.H,opacity:n.currentActiveZone.InactiveOpacity}))})}catch(t){console.log(t)}if("corner"===e.params.CloseAreaType&&!l){var s=document.documentElement.clientWidth,r=document.documentElement.clientHeight,c=parseInt(e.pizzabtn.css("left")),d=parseInt(e.pizzabtn.css("top"));c+=e.params.ButtonSize.W/2,d+=e.params.ButtonSize.H/2;var p=!1;(c>s||c<0||d>r||d<0)&&(p=!0),p&&(e.statistics.SendStatObject({Closed:1}),e.additionalButtonFunctions.hideAll(),l=!0,t.pep.toggleAll(!1))}},stop:function(){e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop"}),e.additionalButtonFunctions.sendMessageToModal({message:"probtn_stop_event"}),e.additionalButtonFunctions.sendMessageToActiveZones({message:"probtn_stop_event"}),e.contentTime.endTimer("MovedDuration");var n=null;if(this.activeDropRegions.length>0)try{var i=jQuery(this.activeDropRegions[this.activeDropRegions.length-1]).attr("rel");e.params.Debug&&console.log(i),n=e.initializedActiveZones[i],window.probtn_dropedActiveZone=n,null!==n.requestClickCounterLink&&void 0!==n.requestClickCounterLink&&n.requestClickCounterLink(),"video"!==n.currentActiveZone.ButtonContentType?e.onButtonTap(n.currentActiveZone.ActionURL,i,n.currentActiveZone.ButtonContentType):(e.params.Debug&&console.log("ProBtnControl.userData.isiPad - "+e.userData.isiPad),"iOS"!==e.userData.os||e.userData.isiPad,e.onButtonTap(n.currentActiveZone.ActionURL,i,n.currentActiveZone.ButtonContentType))}catch(t){e.params.Debug&&console.log(t),window.probtn_dropedActiveZone=null}if(t.each(e.initializedActiveZones,function(t,n){n.currentActiveZone.VisibleOnlyInteraction&&("iframe"!==n.currentActiveZone.ButtonImageType&&n.attr("src",n.currentActiveZone.InactiveImage),null!==n.currentActiveZone.ButtonIframeInitialSize&&void 0!==n.currentActiveZone.ButtonIframeInitialSize||(n.currentActiveZone.ButtonIframeInitialSize={W:0,H:0}),e.additionalButtonFunctions.checkExistInitIframeSIze(n)?n.css({opacity:n.currentActiveZone.InactiveOpacity}):n.css({width:n.currentActiveZone.InactiveSize.W,height:n.currentActiveZone.InactiveSize.H,opacity:n.currentActiveZone.InactiveOpacity}),n.hide())}),!0===e.params.MainButtonClickable&&t("#probtn_menu").length>0){e.additionalButtonFunctions.MaximizeWrapper(),e.pizzabtn.stop(!0,!1);var a=0,o=e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height(),s=e.params.MenuTemplateVariant.split("_");"circularCenter"===s[0]&&(o=e.additionalButtonFunctions.getWindowHeight()/2-e.pizzabtn.height()/2,a=e.additionalButtonFunctions.getWindowWidth()/2-e.pizzabtn.width()/2),e.pizzabtn.css({left:a,top:o})}if(e.pizzabtn.moved){t("#probtn_menu").length>0?!0===e.params.MainButtonClickable&&e.additionalButtonFunctions.MaximizeWrapper():e.additionalButtonFunctions.MinimizeWrapper();var r=e.pizzabtn.moved=!1;if(null!==window.probtn_dropedActiveZone&&void 0!==window.probtn_dropedActiveZone&&!1===r&&"video"==window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType){var c=jQuery("#video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name).get(0);c.pause()}e.overlaped?(e.statistics.SendStatObject({Closed:1}),e.additionalButtonFunctions.hideAll()):e.pizzabtn.undragAnimate()}else null!==n&&void 0!==n||("video"!==e.params.ButtonContentType?e.additionalButtonFunctions.MaximizeWrapper(function(){e.onButtonTap()}):("iOS"!==e.userData.os||e.userData.isiPad,e.additionalButtonFunctions.MaximizeWrapper(function(){e.onButtonTap()})));""!==e.params.CloseAreaType&&"default"!==e.params.CloseAreaType||e.closeButton.hide(),e.pizzabtn.moved=!1,e.overlaped=!1,!0===e.params.MainButtonClickable&&t("#probtn_menu").length>0&&e.additionalButtonFunctions.MaximizeWrapper()}}),e.initFunctions.initWebAudio()}};e.cookieFunctions.getDeviceCID(function(i){console.log("guid",i),e.DeviceCID=i,e.initFunctions.initExternalData.initFirstAvailable(function(){e.statistics.callSuperPixelExt("initFirstAvailable_done"),e.geolocation.checkAndRunGeolocation(function(){!function(i){e.params.Debug&&console.log("getSettingsAndLaunchButton");var s=1;"iOS"!==e.userData.os&&"Mac OS"!==e.userData.os&&"Mac OS X"!==e.userData.os||(s=window.devicePixelRatio);function r(i){e.statistics.callSuperPixelExt("parseResultData"),e.params.Debug&&console.log(i);try{try{i.result.HintText=HintText}catch(t){}var a=function(i){if(100===i.code)i.MSMediaKeyNeededEvent.location;else{e.params.Debug&&console.log(e.params);try{i.result&&""==i.result.CloseImage&&(i.result.CloseImage=e.params.CloseImage)}catch(t){console.log(t)}var a=t.extend(!0,{},e.params,i.result);e.params=a;try{e.params.PassbackCustomCode=i.PassbackCustomCode,e.params.PassbackCodeSelector=i.PassbackCodeSelector,e.params.OnShowPixel=i.OnShowPixel,e.params.OnNoShowPixel=i.OnNoShowPixel,i.DmpEnabledApp&&(e.params.DmpEnabled=i.DmpEnabledApp),""!==e.params.PassbackCodeSelector&&void 0!==e.params.PassbackCodeSelector&&null!==e.params.PassbackCodeSelector||(e.params.PassbackCodeSelector="#probtn_passback")}catch(t){}e.params.Debug&&console.log("after server",e.params),e.params=t.extend(!0,e.params,n),e.params.Debug&&console.log("after options",e.params),e.params.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonSize),e.params.Debug&&console.log(e.params.ButtonSize),e.params.ButtonDragSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonDragSize),e.params.Debug&&console.log(e.params.ButtonDragSize);try{if(t("#probtn_additional_params").length>0){var o=t("#probtn_additional_params").text();o=JSON.parse(o),t.extend(!0,e.params,e.params,o)}}catch(t){e.params.Debug&&console.log(t)}!function(t){try{for(var n in t)if(t.hasOwnProperty(n)&&"string"==typeof t[n])try{if("PassbackCustomCode"!==n&&"JsImpressionCode"!==n&&"ContentURL"!==n){t[n];t[n]=t[n].split("<style>").join("").split("</style>").join("").split("<script>").join("").split("<\/script>").join("")}}catch(t){e.params.Debug&&console.log(t)}}catch(t){e.params.Debug&&console.log(t)}}(e.params),e.additionalButtonFunctions.checkProtocolLinks(e.params),"#probtnDebug"==window.location.hash&&(e.params.ButtonVisible=!0,e.params.ButtonEnabled=!0,e.params.Debug=!0),e.initFunctions.hintTextStyle={opacity:e.params.HintOpacity,"font-size":e.params.HintFont.Size,"font-family":e.params.HintFont.Family,color:"rgb("+100*e.params.HintFontColor.R+"%, "+100*e.params.HintFontColor.G+"%, "+100*e.params.HintFontColor.B+"%)","padding-left":e.params.HintLabelInsets.L,"padding-top":e.params.HintLabelInsets.T,"padding-right":e.params.HintLabelInsets.R,"padding-bottom":e.params.HintLabelInsets.B,background:"url('"+e.params.HintImage+"')"},""!==e.params.HintText&&null!==e.params.HintText||(e.initFunctions.hintTextStyle.display="none",e.initFunctions.hintTextStyle.opacity="0.0"),"js"==e.params.ButtonType&&t.getScript("https://cdn.probtn.com/libs/postscribe/htmlParser.js",function(){t.getScript("https://cdn.probtn.com/libs/postscribe/postscribe.js",function(){e.loadedStatus.postscribe=!0})})}};e.params.UseGeoLocation,a(i)}catch(t){e.params.Debug&&console.log(t)}}e.userData.retina=s,e.params.isServerCommunicationEnabled||e.params.useLocalFileSettings?(e.statistics.callSuperPixel(),e.statistics.callSuperPixelExt("getSettingsAndLaunchButton"),e.additionalButtonFunctions.testSpeed(function(n){e.userData.kbs=n,e.params.Debug;try{if(t("#probtn_additional_params").length>0){var i=t("#probtn_additional_params").text();i=JSON.parse(i),t.extend(!0,e.params,e.params,i),""!==e.params.domain&&(e.currentDomain=e.params.domain)}}catch(t){e.params.Debug&&console.log(t)}e.params.useLocalFileSettings&&(a=e.params.localSettingsPath);!function(){if(e.params.useLocalFileSettings)a=e.params.localSettingsPath;else{document.domain.replace("www.","");var n="";!0===e.params.UseExternalDataAboutUser&&(n="Details="+JSON.stringify(e.params.ExternalData)+"&");var i="&";try{void 0!==navigator.connection&&null!==navigator.connection&&(void 0!==navigator.connection.effectiveType&&null!==navigator.connection.effectiveType&&(i="&NetworkType="+navigator.connection.effectiveType+"&"),0===e.userData.kbs&&(e.userData.kbs=1024*navigator.connection.downlink))}catch(t){i="&",console.log(t)}a=""!==e.params.CreativeId&&null!==e.params.CreativeId&&void 0!==e.params.CreativeId?e.statistics.createStatisticsLink("getClientSettings","&SelectAdSet="+e.params.SelectAdSet+"&ForceCampaign="+e.params.CreativeId+i+n):e.statistics.createStatisticsLink("getClientSettings","&SelectAdSet="+e.params.SelectAdSet+i+n)}e.statistics.callSuperPixelExt("getClientSettings");try{t.getJSON(a,r).done(function(){e.statistics.callSuperPixelExt("getClientSettings_loaded"),e.params.Debug&&console.log("done settings load")}).fail(function(t,n,i){e.params.Debug&&console.log(i),e.params.Debug&&console.log(n),!0}).always(function(){e.params.RequireLocation?(e.statistics.SendStatisticsData("performedAction","checkLocation"),e.geolocation.checkAndRunGeolocation(function(){e.params.RequireLocation?e.geolocation.checkPlaces(function(t,n){if(!t)return e.statistics.SendStatisticsData("performedAction","notNearPlaces"),e.additionalButtonFunctions.callPassback(),!1;e.statistics.SendStatisticsData("performedAction","isNearPlace"),o()}):o()})):o()})}catch(n){console.log(n),t.getJSON(a,function(t){r(t),o()})}}()})):e.params.Debug&&console.log("Dont load settings")}()})})})}else;}()},initExternalData:{initFirstAvailable:function(t){if(e.statistics.callSuperPixelExt("initFirstAvailable1"),!0===e.params.UseExternalDataAboutUser)if(e.params.ExternalDataSources.length>0){e.params.ExternalDataSources.sort(function(t,n){return t.Priority-n.Priority}),window.addEventListener("message",n,!1);var n=function(n){var i=n.origin||n.originalEvent.origin;i=e.additionalButtonFunctions.extractDomain(i),e.additionalButtonFunctions.extractDomain(e.params.ExternalDataSources[0].Source)===i&&(e.params.ExternalData={},e.params.ExternalData=n.data,t())};e.initFunctions.initExternalData.createExternalDataIframe(e.params.ExternalDataSources[0])}else t();else e.statistics.callSuperPixelExt("initFirstAvailable2"),t()},initSupplementing:function(){},createExternalDataIframe:function(n){t("<iframe/>",{id:n.Name,scrolling:"no",seamless:"seamless",src:n.Source,css:{width:"0px",height:"0px",position:"absolute",top:"-10000px",left:"-10000px"}}).appendTo("body")}},circularMenuPositionUpdate:function(){var n=t("#probtn_menu_ul li");var i=0,a=0;e.params.MenuOptions.MenuRadius>0&&(i=e.params.MenuOptions.MenuRadius),e.params.MenuOptions.ItemWidth>0&&(a=e.params.MenuOptions.ItemWidth);var o=e.additionalButtonFunctions.getWindowHeight()/2-e.pizzabtn.height()/2,s=e.additionalButtonFunctions.getWindowWidth()/2-e.pizzabtn.width()/2;n.each(function(n,r){try{var c=360/e.params.MenuItems.length*(Math.PI/180),d={position:"absolute",top:o+e.pizzabtn.height()/2-a/2-1.1*i*Math.cos(c*n),left:s+e.pizzabtn.width()/2-a/2+1.1*i*Math.sin(c*n)};t(r).css(d)}catch(t){console.log(t)}})},initFloatingMenu:function(){if(console.log("initFloatingMenu"),e.params.ClickCounterLink&&""!==e.params.ClickCounterLink)try{e.statistics.createClickCounterImage(e.params.ClickCounterLink)}catch(t){e.params.Debug&&console.log(t)}e.statistics.SendStatObject({MenuOpened:1}),e.initFunctions.initRemoveMenu(),e.hintText.makeInvisible(),e.pizzabtn.stop(!0,!0),e.additionalButtonFunctions.MaximizeWrapper(function(){e.wrapper.css("background","rgba(0, 0, 0, 0.5)");var n,i=e.params.MenuClose;null!==i&&void 0!==i&&(console.log("ProBtnControl.params.MenuOptions",e.params.MenuOptions),i.MenuCloseEnabled&&((n=t("<img/>",{id:"probtn_menu_close_button",src:i.MenuCloseImage,scrolling:"no",css:{position:"fixed",width:i.MenuCloseSize.W,height:i.MenuCloseSize.H,border:"0px",overflow:"hidden",cursor:"pointer"}}).prependTo(e.additionalItemsContainer)).setPosition=function(){var n=e.params.MenuClose.MenuClosePosition.X/100,i=e.params.MenuClose.MenuClosePosition.Y/100,a=this.height();0===this.height()&&(a=e.params.MenuClose.MenuCloseSize.H);var o=this.width();0===this.width()&&(o=e.params.MenuClose.MenuCloseSize.W),this.css("top",e.additionalButtonFunctions.getWindowHeight()*i-a/2+"px"),this.css("left",e.additionalButtonFunctions.getWindowWidth()*n-o/2+t(window).scrollLeft()+"px")},n.on("click",function(){e.initFunctions.initRemoveMenu()}),n.setPosition(),e.menuClose=n)),e.pizzabtn.stop(!0,!0),setTimeout(function(){var n=0,i=e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height(),a=e.params.MenuTemplateVariant.split("_");console.log("ProBtnControl.params.MenuTemplateVariant",e.params.MenuTemplateVariant),"circularCenter"===a[0]&&(i=e.additionalButtonFunctions.getWindowHeight()/2-e.pizzabtn.height()/2,n=e.additionalButtonFunctions.getWindowWidth()/2-e.pizzabtn.width()/2),e.pizzabtn.animate({left:n,top:i},500,function(){setTimeout(function(){var o=t("<div/>",{id:"probtn_menu",style:"opacity: 0.1"}).prependTo(e.wrapper),s=t("<ul/>",{id:"probtn_menu_ul"}).prependTo(o),r=0,c=0;if(e.params.MenuOptions.MenuRadius>0&&(r=e.params.MenuOptions.MenuRadius),e.params.MenuOptions.ItemWidth>0&&(c=e.params.MenuOptions.ItemWidth),a[0].toLowerCase()!=="radialcorner".toLowerCase()&&a[0].toLowerCase()!=="circularcenter".toLowerCase()||t("head").append('<style type="text/css">#probtn_menu_ul li {     background:transparent!important; padding:0px!important; margin:0px!important; width:auto!important; display:inline-block!important; }#probtn_menu_ul { position: absolute; } #probtn_menu_ul img { height: '+c+"px !important; width: "+c+"px !important;     max-width: inherit !important; } #probtn_menu_ul {padding-left: 0px; }#probtn_menu_ul li a span { display: none; } </style>"),e.params.MenuItems){var d=1,l="style='font-size:"+e.params.MenuOptions.FontSize+"; font-family: "+e.params.MenuOptions.FontFamily+"; color: "+e.params.MenuOptions.ForegroundColor+" '";t.each(e.params.MenuItems,function(o,p){var u="";u=void 0!==p.Image&&null!==p.Image&&""!==p.Image?"<img style='height: 50px; margin-right: 10px;' src='"+p.Image+"'/>":"<div class='probtn_image_placeholder' style='display: inline-block; width: 40px; height:40px; margin-right: 10px;'>&nbsp;</div>";var m=p.ActionURL;"video"===p.Type&&(m="#video_item_"+p.Name);var g="return false;";function h(t){return t*(Math.PI/180)}"video"===p.Type&&e.userData.mobile&&(g=e.params.ButtonOnClick+" return false"),s.append("<li class='menu_item_elem_count"+d+"' style='opacity: 0;'><a "+l+" class='probtn_menu_link "+p.Type+"' rel='"+p.Name+"' rev='"+p.Type+"' target='_blank' onclick='"+g+"' href='"+m+"'><table><tr><td>"+u+"</td><td><span "+l+"><span>"+p.Text+"</span></a></span></td></tr></table></a></li>"),r<1&&(r=e.pizzabtn.height());var b=0,f=0,v=0,w={};switch(a[0]){case"radialcorner":2===e.params.MenuItems.length?(b=h(90/(e.params.MenuItems.length+1)),f=-1.1*r*Math.cos(b*(d+0)),v=1.1*r*Math.sin(b*(d+0))):(b=h(90/(e.params.MenuItems.length-1)),console.log("anglePart",b),f=-1.1*r*Math.cos(b*(d-1)),v=1.1*r*Math.sin(b*(d-1))),w={position:"absolute",top:f,left:v},console.log("itemStyle",w),t(".menu_item_elem_count"+d).css(w);break;case"circularCenter":b=h(360/e.params.MenuItems.length),w={position:"absolute",top:f=i+e.pizzabtn.height()/2-c/2-1.1*r*Math.cos(b*d),left:v=n+e.pizzabtn.width()/2-c/2+1.1*r*Math.sin(b*d)},t(".menu_item_elem_count"+d).css(w);break;default:t("#probtn_menu li:last").css({"margin-left":-t("#probtn_menu li:last").width()})}d++,"video"==p.Type&&e.videoFunctions.createVideoItem(p.Name,p.ActionURL)})}t(document).on("click",".probtn_menu_link",function(n){switch(t(this).attr("rev")){case"external":return window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,window.probtn_ButtonContentType="external",e.statistics.sendAreaActivatedStats(t(this).attr("rel")),window.open(t(this).attr("href")),n.preventDefault(),!1;case"iframe":window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,window.probtn_ButtonContentType="iframe",e.onButtonTap(t(this).attr("href"),t(this).attr("rel"),"iframe");break;case"closeMenu":return e.initFunctions.initRemoveMenu(),!1;case"video":return window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone={},window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType="video",window.probtn_dropedActiveZone.currentActiveZone.Name=t(this).attr("rel"),window.probtn_ButtonContentType="video",e.onButtonTap(t(this).attr("href"),t(this).attr("rel"),"video"),!1;default:return e.statistics.sendAreaActivatedStats(t(this).attr("rel")),window.open(t(this).attr("href")),n.preventDefault(),!1}});var p=e.pizzabtn.position().top-s.height();"radialcorner"==a[0]&&(p=e.pizzabtn.position().top,p+=r/2),"circularCenter"==a[0]&&(p=0),o.css("top",p),o.css("left",0),o.css("display","block"),o.animate({left:1,opacity:1},500,function(){});var u=300;t.each(t("#probtn_menu li"),function(n,e){t(e).animate({"margin-left":0,opacity:1},u,function(){}),u+=300})},300)})},1)})},initRemoveMenu:function(){e.wrapper.css("background","rgba(0, 0, 0, 0)"),t("#probtn_menu").remove(),t("#probtn_menu_close_button").remove()},hintTextStyle:{},fullscreenInitAndShow:function(){var n=null;if(!0===e.params.HideAfterFirstShow?n=e.cookieFunctions.readCookie("probtnCloseFlag"):e.cookieFunctions.eraseCookie("probtnCloseFlag"),null===n){var i="return false;",a="";""!==e.params.FullscreenClickLink&&void 0!==e.params.FullscreenClickLink&&null!==e.params.FullscreenClickLink&&(i=e.additionalButtonFunctions.getContentUrlWithUtm(e.params.FullscreenClickLink),a='<div id="probtn_iframe_overlay" style="  z-index: 200000; display: inline-block; width: 100%; height: 100%; margin-top: -100%;"></div>'),"fullscreen_and_button"!==e.params.ButtonType&&t("body").append('<div class="fancybox-overlay fancybox-overlay-fixed" style="width: auto; height: auto; display: block;"></div>'),t("body").append('<div id="fullscreen_probtn"><div class="fancybox-wrap fancybox-mobile fancybox-type-iframe fancybox-opened" tabindex="-1" style="margin: 0 auto; height: auto; position: fixed; opacity: 1; overflow: visible;"><div class="fancybox-skin" style="padding: 0px; width: auto; height: auto;"><div class="fancybox-outer"><div class="fancybox-inner" style="overflow: scroll; "><iframe id="probtn_fullscreen_iframe" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto" src="'+e.additionalButtonFunctions.getContentUrlWithUtm(e.params.ContentURL)+'" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>'+a+'</div></div><a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a></div></div></div>'),"fullscreen_and_button"!==e.params.ButtonType?e.statistics.SendStatObject({ContentShowed:1,Showed:1}):e.statistics.SendStatObject({ContentShowed:1}),e.interactionFunctions.initInteractionTimer(),t("body").on("click","#probtn_iframe_overlay",function(){e.statistics.SendStatObject({Clicked:1}),window.open(i)}),e.contentTime.startTimer(),e.HpmdFunctions.expandHpmdTrack(),e.additionalButtonFunctions.onOrientationChange(null),t("body").on("click","#fullscreen_probtn .fancybox-close, .fancybox-overlay",function(){t("#fullscreen_probtn").hide(),t(".fancybox-overlay").hide(),e.contentTime.endTimer(),e.HpmdFunctions.closeHpmdTrack(),e.additionalButtonFunctions.hideAll()}),!0===e.params.HideAfterFirstShow&&e.cookieFunctions.createCookie("probtnCloseFlag",!0,60)}},initActiveZones:function(){if((null!==e.params.ActiveZones||e.params.ActiveZones.length>0)&&"button_and_active_zones"==e.params.ButtonType)for(var n=function(){var n=t("body"),i=this.currentActiveZone.Position.X,a=this.currentActiveZone.Position.Y,o=(e.additionalButtonFunctions.getWindowHeight()-this.height())*a,s=(n.innerWidth()-this.width())*i+t(window).scrollLeft();o<=0&&(o=0),o+this.height()>e.additionalButtonFunctions.getWindowHeight()&&(o=e.additionalButtonFunctions.getWindowHeight()-this.height()),s<=0&&(s=0),s+this.width()>n.innerWidth()&&(s=n.innerWidth()-this.width()),this.css("top",o+"px"),this.css("left",s+"px")},i=function(){this.setTransitionDuration(e.params.CloseActiveDuration),this.isActive=!0,"iframe"!==this.currentActiveZone.ButtonImageType&&this.attr("src",this.currentActiveZone.ActiveImage);e.additionalButtonFunctions.checkExistInitIframeSIze(this)?this.css({opacity:this.currentActiveZone.ActiveOpacity}):(this.currentActiveZone.ActiveSize=e.additionalButtonFunctions.convertPercentButtonSize(this.currentActiveZone.ActiveSize),this.css({opacity:this.currentActiveZone.ActiveOpacity,width:this.currentActiveZone.ActiveSize.W,height:this.currentActiveZone.ActiveSize.H}))},a=function(t){var n=t+"s";this.css({"transition-duration":n,"-webkit-transition-duration":n,"-moz-transition-duration":n,"-o-transition-duration":n})},o=function(){this.setTransitionDuration(e.params.CloseActiveDuration);var t=this;e.additionalButtonFunctions.checkExistInitIframeSIze(t)?t.css({opacity:t.currentActiveZone.InactiveOpacity}):(this.currentActiveZone.InactiveSize=e.additionalButtonFunctions.convertPercentButtonSize(this.currentActiveZone.InactiveSize),t.css({opacity:t.currentActiveZone.InactiveOpacity,width:t.currentActiveZone.InactiveSize.W,height:t.currentActiveZone.InactiveSize.H}))},s=function(){if(this.currentActiveZone.ClickCounterLink&&""!==this.currentActiveZone.ClickCounterLink)try{e.statistics.createClickCounterImage(this.currentActiveZone.ClickCounterLink)}catch(t){e.params.Debug&&console.log(t)}},r=0;r<e.params.ActiveZones.length;r++){var c=e.params.ActiveZones[r];c.ActiveSize=e.additionalButtonFunctions.convertPercentButtonSize(c.ActiveSize),c.InactiveSize=e.additionalButtonFunctions.convertPercentButtonSize(c.InactiveSize),""!==c.Name&&null!==c.Name&&void 0!==c.Name||(c.Name=e.additionalButtonFunctions.randomString(12));var d="<img/>";"iframe"==c.ButtonImageType&&(d="<iframe/>"),null!==c.ButtonIframeInitialSize&&void 0!==c.ButtonIframeInitialSize||(c.ButtonIframeInitialSize={W:0,H:0});var l=t(d,{id:"probtn_active_zone_"+c.Name,src:c.InactiveImage,class:"probtn_active_zone",rel:c.Name,scrolling:"no",css:{position:"fixed",width:c.InactiveSize.W,height:c.InactiveSize.H,opacity:c.InactiveOpacity,border:"0px",overflow:"hidden"}}).prependTo(e.additionalItemsContainer);"iframe"==c.ButtonImageType&&e.additionalButtonFunctions.applyIframeScale(l,c.ButtonIframeInitialSize,c.InactiveSize),e.additionalButtonFunctions.preloadImage(c.ActiveImage),"video"==c.ButtonContentType&&e.videoFunctions.createVideoItem(c.Name,c.ActionURL),"video_and_iframe"===c.ButtonContentType&&e.videoFunctions.createVideoAndIframeItem(c.ActionURL,c.Name),c.VisibleOnlyInteraction&&l.hide(),l.isActive=!1,l.currentActiveZone=c,l.setPosition=n,l.setTransitionDuration=a,l.animateActive=i,l.animateInactive=o,l.requestClickCounterLink=s,l.setPosition(),e.initializedActiveZones[c.Name]=l}},scrollZoneFirstRun:!1,initScrollChange:function(n){var i=function(n){var i=e.initFunctions.initStartScrollParams("get");null===i&&null!==e.currentScrollZone&&void 0!==e.currentScrollZone?e.statistics.sendScrollAreaShowedStats(e.currentScrollZone.Name):!0===e.initFunctions.scrollZoneFirstRun&&e.statistics.sendScrollAreaShowedStats(i.Name),null!==i&&(e.currentScrollZone.Name===i.Name&&t("#pizzabtnImg",e.pizzabtn).hasClass("pizzabtnImg_iframe_cached")||("iframe"===i.ButtonImageType?i.CustomContentURL===e.currentScrollZone.CustomContentURL&&i.ButtonImageType===e.currentScrollZone.ButtonImageType&&i.ButtonImage===e.currentScrollZone.ButtonImage||(t("#pizzabtnImg",e.pizzabtn).hide(),t("#pizzabtnImg",e.pizzabtn).attr("id",""),t(".pizzabtnImg_iframe_cached[rel='"+i.Name+"']",e.pizzabtn).length>0?(t(".pizzabtnImg_iframe_cached[rel='"+i.Name+"']",e.pizzabtn).attr("id","pizzabtnImg"),t(".pizzabtnImg_iframe_cached[rel='"+i.Name+"']",e.pizzabtn).show()):(t(".pizzabtnImg_iframe_cached."+i.Name,e.pizzabtn).attr("id","pizzabtnImg"),t(".pizzabtnImg_iframe_cached."+i.Name,e.pizzabtn).show())):(t("#pizzabtnImg",e.pizzabtn).hide(),t("#pizzabtnImg",e.pizzabtn).attr("id",""),t(".pizzabtnImg_cached[rel='"+i.Name+"']",e.pizzabtn).attr("id","pizzabtnImg"),t("#pizzabtnImg",e.pizzabtn).attr("src",i.ButtonImage),t(".pizzabtnImg_cached[rel='"+i.Name+"']",e.pizzabtn).show()),!0!==e.initFunctions.scrollZoneFirstRun&&e.currentScrollZone.Name!==i.Name&&e.statistics.sendScrollAreaShowedStats(i.Name)),i.CustomButtonParams?i.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(i.ButtonSize):i.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonSize),null!==i.ButtonIframeInitialSize&&void 0!==i.ButtonIframeInitialSize||(i.ButtonIframeInitialSize=e.params.ButtonIframeInitialSize),i.CustomButtonParams?(t(e.pizzabtn).css({width:i.ButtonSize.W,height:i.ButtonSize.H}),e.currentScrollZone!==i&&("iframe"===i.ButtonImageType||t("#pizzabtnImg").attr("src",i.ButtonImage)),i.ButtonIframeInitialSize.W>0&&i.ButtonIframeInitialSize.H>0?i.CustomButtonParams&&(t("#pizzabtnImg").css({width:i.ButtonIframeInitialSize.W,height:i.ButtonIframeInitialSize.H}),t(e.pizzabtn).css({opacity:e.params.ButtonOpacity})):t("#pizzabtnImg").css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t(e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,opacity:e.params.ButtonOpacity}),i.ButtonIframeInitialSize.W>0&&i.ButtonIframeInitialSize.H>0&&e.additionalButtonFunctions.applyIframeScale(t("#pizzabtnImg"),i.ButtonIframeInitialSize,i.ButtonSize)):!1===e.buttonMainParams.isEmpty?(e.currentScrollZone==i&&("iframe"===i.ButtonImageType||t("#pizzabtnImg",e.pizzabtn).attr("src",i.ButtonImage)),t("#pizzabtnImg").css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t(e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,opacity:e.params.ButtonOpacity})):"iframe"!==i.ButtonImageType&&(t("#pizzabtnImg").css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t(e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,opacity:e.params.ButtonOpacity})),e.currentScrollZone!=i&&("iframe"==i.ButtonImageType&&e.additionalButtonFunctions.applyIframeScale(t("#pizzabtnImg"),i.ButtonIframeInitialSize,i.ButtonSize),!0===e.params.DisableButtonMove&&e.additionalButtonFunctions.setButtonStartPosition(e.pizzabtn))),e.initFunctions.scrollZoneFirstRun=!1,e.currentScrollZone=i};"button_and_scroll_zones"==e.params.ButtonType&&(null!==n&&void 0!==n?i():(t.each(e.params.ScrollZones,function(n,i){e.additionalButtonFunctions.preloadImage(i.ButtonImage),e.additionalButtonFunctions.preloadImage(i.ButtonDragImage),t("body").on("click","#video_probtn_"+i.Name,function(n){console.log("");try{t("#video_probtn_"+i.Name).get(0).pause()}catch(t){console.log(t)}""!==e.params.VideoClickURL&&(e.statistics.SendStatisticsData("VideoClicked",1),window.open(e.params.VideoClickURL))})}),e.initFunctions.scrollZoneFirstRun=!0,e.additionalButtonFunctions.preloadIframeScrollZones(),i(),t(window).scroll(i)))},initStartScrollParams:function(n){if("button_and_scroll_zones"==e.params.ButtonType){var i=null,a=document.documentElement,o=(window.pageXOffset||a.scrollLeft,a.clientLeft,(window.pageYOffset||a.scrollTop)-(a.clientTop||0)),s=navigator.userAgent.toLowerCase(),r=s.indexOf("opera")>-1,c=!r&&s.indexOf("msie")>-1,d=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!c||r?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)};!1===e.params.ChangeScrollButtonAtFullSiteHeight&&(d=function(){return window.innerHeight},o=0);var l=0;if(null===n||void 0===n){l=(e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H/2)*e.params.ButtonPosition.Y;t("body").innerWidth(),e.params.ButtonSize.W,e.params.ButtonPosition.X,t(window).scrollLeft()}else l=e.pizzabtn.position().top;var p=0;return t.each(e.params.ScrollZones,function(n,a){void 0!==a.Name&&null!==a.Name||(a.Name="scrollZone"+n),"video"===a.ButtonContentType&&e.videoFunctions.createVideoItem(a.Name,a.CustomContentURL),"video_and_iframe"===a.ButtonContentType&&e.videoFunctions.createVideoAndIframeItem(a.CustomContentURL,a.Name);var s=p+d()*a.ZoneHeight,r=l+o;if(r<=s&&r>p){window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,i=a,window.probtn_dropedActiveZone.currentActiveZone=a,null!==e.currentScrollZone&&void 0!==e.currentScrollZone||(e.currentScrollZone=i);try{e.params.currentContentURL=a.CustomContentURL,e.params.currentButtonContentType=a.ButtonContentType,e.params.currentAreaName=a.Name}catch(t){}e.params.ButtonImage=a.ButtonImage;var c="";if("iframe"===a.ButtonImageType?(t("#probtn_hintText").remove(),t("#pizzabtnImg").css("border","0px solid transparent"),e.currentScrollZone!=a&&void 0!==(c=t(e.pizzabtn).html())&&null!==c&&e.currentScrollZone.ButtonImageType,e.params.ButtonImageType=a.ButtonImageType):(t("#pizzabtnIframeOverlay").remove(),c=t(e.pizzabtn).html(),e.currentScrollZone!=a&&"iframe"===e.currentScrollZone.ButtonImageType&&void 0!==c&&null!==c&&"image"==a.ButtonImageType&&e.additionalButtonFunctions.hideIframeScrollZones(),e.params.ButtonImageType="image"),null!==a.ButtonIframeInitialSize&&void 0!==a.ButtonIframeInitialSize||(a.ButtonIframeInitialSize={W:0,H:0}),null!==a.ButtonSize&&void 0!==a.ButtonSize||(a.ButtonSize=e.params.ButtonSize),"iframe"===a.ButtonImageType){if((t("#pizzabtnIframeOverlay").length<=0||e.currentScrollZone!=a)&&(pizzabtnCss={width:a.ButtonSize.W,height:a.ButtonSize.H,opacity:1},pizzabtnCss.position="absolute",pizzabtnCss.top="0px","iframe"!==e.currentScrollZone.ButtonImageType))t("<div/>",{id:"pizzabtnIframeOverlay",css:pizzabtnCss}).appendTo(e.pizzabtn)}else e.additionalButtonFunctions.setTransform(t("#pizzabtnImg"),1,1);""!==a.ButtonDragImage?e.params.ButtonDragImage=a.ButtonDragImage:e.params.ButtonDragImage=a.ButtonImage,"iframe"==a.ButtonImageType&&(e.params.ButtonDragImage=""),a.CustomButtonParams?(e.buttonMainParams.isEmpty&&(e.buttonMainParams.ButtonSize=e.params.ButtonSize,e.buttonMainParams.ButtonDragSize=e.params.ButtonDragSize,e.buttonMainParams.ButtonOpacity=e.params.ButtonOpacity,e.buttonMainParams.ButtonDragOpacity=e.params.ButtonDragOpacity,e.buttonMainParams.isEmpty=!1),"iframe"!==a.ButtonImageType&&(a.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(a.ButtonSize),a.ButtonDragSize=e.additionalButtonFunctions.convertPercentButtonSize(a.ButtonDragSize)),e.params.ButtonSize=a.ButtonSize,null!==a.ButtonDragSize&&void 0!==a.ButtonDragSize&&(e.params.ButtonDragSize=a.ButtonDragSize),e.params.ButtonOpacity=a.ButtonOpacity,e.params.ButtonDragOpacity=a.ButtonDragOpacity):!1===e.buttonMainParams.isEmpty&&(e.params.ButtonSize=e.buttonMainParams.ButtonSize,e.params.ButtonDragSize=e.buttonMainParams.ButtonDragSize,e.params.ButtonOpacity=e.buttonMainParams.ButtonOpacity,e.params.ButtonDragOpacity=e.buttonMainParams.ButtonDragOpacity)}p+=d()*a.ZoneHeight,e.additionalButtonFunctions.checkAndCorrentButtonPosition()}),i}return null},initPizzaButton:function(){var n=e.wrapper,i=t("body");if("youtube"===e.params.ButtonContentType){var a;a=e.additionalButtonFunctions.getTitleTextForModalWindow(),i.append('<div class="fancybox-overlay fancybox-overlay-fixed" id="youtube_fullscreen" style="width: auto; height: auto; display: none;""></div>'),i.append('<div id="fullscreen_probtn" style="display: none;"><div class="fancybox-wrap fancybox-mobile fancybox-type-iframe fancybox-opened" tabindex="-1" style="margin: 0 auto; height: auto; position: fixed; opacity: 1; overflow: visible;"><div class="fancybox-skin" style="padding: 0px; width: auto; height: auto;"><div class="fancybox-outer"><div class="fancybox-inner" style="overflow: scroll; "><iframe id="video_probtn" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto" src="'+e.additionalButtonFunctions.getContentUrlWithUtm(e.params.ContentURL)+'" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe></div></div><div style="background: white;" class="fancybox-title fancybox-title-inside-wrap">'+a+'</div><a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a></div></div></div>'),i.on("click","#fullscreen_probtn .fancybox-close, .fancybox-overlay",function(){t("#fullscreen_probtn").hide(),t(".fancybox-overlay").hide(),e.contentTime.endTimer(),e.HpmdFunctions.closeHpmdTrack(),e.additionalButtonFunctions.MinimizeWrapper(function(){},e.params.MinimizeWrapperTime),t.pep.toggleAll(!0),probtn_callPlayer("video_probtn","pauseVideo"),probtn_callPlayer("video_probtn","stopVideo")})}if("video"===e.params.ButtonContentType){""!==e.params.VideoClickURL&&null!==e.params.VideoClickURL&&void 0!==e.params.VideoClickURL||(e.params.VideoClickURL=e.params.VideoPoster);var o,s="";""!==e.params.VideoItemHeaderImage&&(s='<tr id="probtn_video_header_tr"><td id="probtn_video_header_td" style="height: 1px;text-align: center;"><img src="'+e.params.VideoItemHeaderImage+'" id="probtn_video_header_img" alt="" style="width: 70%; margin-top: 5%;"></td></tr>');var r="";if(null!==e.params.VideoFooterButton&&void 0!==e.params.VideoFooterButton&&""!==e.params.VideoFooterButton){var c="";try{var d=e.params.VideoFooterButton;e.params.VideoFooterButton=t("<div/>").html(d).text(),c=JSON.parse(e.params.VideoFooterButton)}catch(t){c=""}if(null!==c&&void 0!==c&&""!==c){Array.isArray(c)||(c=[c]),c=c.map(function(t,n){return null!==t.id&&void 0!==t.id&&""!==t.id||(t.id="clickableVideoArea_"+n),t}),e.params.VideoFooterButton=c;var l=!1,p=null;c.forEach(function(n,i){var a="position: absolute; z-index: 1000; display: none;width:"+n.width+"px;height:"+n.height+"px;top:"+n.top+"px;left:"+n.left+"px;",o='<div class="clickableVideoAreaClass" id="'+n.id+'" style="'+a+'"></div>';if(void 0!==n.href&&null!==n.href&&""!==n.href)r+='<a href="'+n.href+'" target="_blank">'+o+"</a>",t(document).on("click","#"+n.id,function(t){e.statistics.SendStatisticsData("VideoClicked",1)});else if(void 0!==n.html&&null!==n.html&&""!==n.html){var s="";if(void 0!==n.htmlCloseImg&&null!==n.htmlCloseImg&&""!==n.htmlCloseImg){var c=n.id+"closeHtmlArea";s='<img class="closeAreaImgClass" src="'+n.htmlCloseImg+'" id="'+c+'"/>',t(document).on("click","#"+c,function(e){t("#"+n.id+"_htmlArea").css("display","none"),document.getElementById("video_probtn").play(),l=!1,console.log(l)})}var d='<div class="htmlAreaClass" id="'+n.id+'_htmlArea" style="display: none">'+s+n.html+"</div>";r+=o+d,t(document).on("click","#"+n.id,function(i){t("#"+n.id).css("display","none"),t("#"+n.id+"_htmlArea").css("display","block"),document.getElementById("video_probtn").pause(),l=!1,null!==p&&clearTimeout(p);var a=8e3;void 0!==n.closeWithoutInteractionTime&&null!==n.closeWithoutInteractionTime&&""!==n.closeWithoutInteractionTime&&(a=n.closeWithoutInteractionTime),p=setTimeout(function(){t("#"+n.id+"_htmlArea").css("display","none");var e=document.getElementById("video_probtn");console.log("timeout",l),e.paused&&!l&&e.play()}.bind(this),a),e.statistics.SendStatisticsData("performedAction","ClickOnClickableArea")}),t(document).on("click",".custom_clickable",function(t){t.stopPropagation(),t.stopImmediatePropagation(),e.statistics.SendStatisticsData("VideoClicked",1),document.getElementById("video_probtn").pause(),l=!0,console.log(l)})}}),e.additionalButtonFunctions.recalculateVideoClickableAreasPos=function(){var n=document.getElementById("video_probtn").offsetWidth/e.params.VideoSize.X,i=document.getElementById("video_probtn").offsetHeight/e.params.VideoSize.Y,a=t("#video_probtn").position().left,o=t("#video_probtn").position().top;e.params.VideoFooterButton.forEach(function(e){!function(e){var s=e.id,r={};if(r.left=n*e.left+a,r.top=i*e.top+o,r.width=n*e.width,r.height=i*e.height,t("#"+s).css("left",r.left),t("#"+s).css("top",r.top),t("#"+s).css("width",r.width),t("#"+s).css("height",r.height),void 0!==e.html&&null!==e.html&&""!==e.html){t("#"+e.id+"_htmlArea").css("top",o);var c=t("#video_probtn").height();t("#"+e.id+"_htmlArea").css("height",c)}}(e)})},t(window).bind("scroll",e.additionalButtonFunctions.recalculateVideoClickableAreasPos)}}var u='preload="none"';!0===e.params.VideoPreload&&(u=""),o='<div id="video_item" class="probtn_video_wrapper2" style="display: none; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table cellspacing="0" cellpadding="0" class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0px;">'+s+'<tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline '+u+' onclick="" poster="'+e.params.VideoPoster+'" id="video_probtn" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+e.params.ContentURL+'" type="video/mp4">Your browser does not support the video tag. </video>'+r+"</td></tr></table></div>",e.additionalItemsContainer.append(o),console.log(t("#probtn_video").width()),""!==e.params.VideoClickURL&&null!==e.params.VideoClickURL&&void 0!==e.params.VideoClickURL&&(console.log("ProBtnControl.params.VideoClickURL1",e.params.VideoClickURL),t("body").on("click","#video_probtn",function(n){try{t("#video_probtn").get(0).pause()}catch(t){console.log(t)}e.statistics.SendStatisticsData("VideoClicked",1),window.open(e.params.VideoClickURL)}));var m=e.additionalButtonFunctions.getWindowWidth()-30,g=e.additionalButtonFunctions.getWindowHeight()-60;!0===e.params.IsManualSize&&(m=-1!==e.params.ContentSize.X.indexOf("%")?e.additionalButtonFunctions.getWindowWidth()*(parseFloat(e.params.ContentSize.X)/100):e.params.ContentSize.X,g=-1!==e.params.ContentSize.Y.indexOf("%")?e.additionalButtonFunctions.getWindowHeight()*(parseFloat(e.params.ContentSize.Y)/100):e.params.ContentSize.Y);var h=0,b=0;m<g?b=(h=g)/e.params.VideoSize.Y*e.params.VideoSize.X:h=(b=m)/e.params.VideoSize.X*e.params.VideoSize.Y,t(".probtn_video_wrapper").width(m),t(".probtn_video_wrapper").height(g),t(".probtn_video").width(b),t(".probtn_video").height(h)}"video_and_iframe"===e.params.ButtonContentType&&e.videoFunctions.createVideoAndIframeItem(e.params.ContentURL);(e.statistics.callSuperPixelExt("TrackingLink"),null!==e.params.TrackingLink&&null!==e.params.TrackingLink&&""!==e.params.TrackingLink)&&e.params.TrackingLink.split("%7C").forEach(function(t,n){e.statistics.createClickCounterImage(t)});n.css({width:"auto",height:"auto",position:"fixed"});var f=e.params.ExtrusionMode.split("_"),v=0,w=0,B={};switch(f[0]){case"topButton":t("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+e.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+e.params.ButtonSize.H+"px !important; position: absolute !important; }</style>");break;case"topButtonTimeout":var S=f[1];v=parseInt(f[2]),w=parseInt(f[3]),t("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+e.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+e.params.ButtonSize.H+"px !important; position: absolute !important; }</style>"),setTimeout(function(){t("#extrusionMode_topButton").remove(),e.params.ButtonSize.W=v,e.params.ButtonSize.H=w,e.params.ButtonSize.Initial={},"iframe"==e.params.ButtonImageType&&e.additionalButtonFunctions.applyIframeScale(t("#pizzabtnImg"),e.params.ButtonIframeInitialSize,e.params.ButtonSize),t(e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t("#pizzabtnIframeOverlay").css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H})},S);break;case"topButtonScroll":var z=f[1];v=parseInt(f[2]),w=parseInt(f[3]),t("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+e.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+e.params.ButtonSize.H+"px !important; position: absolute !important; }</style>");var y=!1;t(window).scroll(function(n){var i=document.documentElement,a=(window.pageXOffset||i.scrollLeft,i.clientLeft,(window.pageYOffset||i.scrollTop)-(i.clientTop||0)),o=(e.additionalButtonFunctions.getWindowHeight(),e.params.ButtonSize.H,e.params.ButtonPosition.Y,navigator.userAgent.toLowerCase()),s=o.indexOf("opera")>-1,r=!s&&o.indexOf("msie")>-1;e.pizzabtn.position().top;a/Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!r||s?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)>z&&!1===y&&(y=!0,e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_banner_to_button"}),t("#extrusionMode_topButton").remove(),e.params.ButtonSize.W=v,e.params.ButtonSize.H=w,e.params.ButtonSize.Initial={},"iframe"==e.params.ButtonImageType&&e.additionalButtonFunctions.applyIframeScale(t("#pizzabtnImg"),e.params.ButtonIframeInitialSize,e.params.ButtonSize),t(e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t("#pizzabtnIframeOverlay").css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}))});break;case"insertBlock":case"fixedTop":B.width="100%"}var x=t("#probtn_button");0===x.length&&(x=t("<div/>",{id:"probtn_button"}).prependTo(n)),x.addClass("pizzabtn_normal"),x.addClass("probtn_normal"),e.userData.mobile&&(x.attr("onclick",e.params.ButtonOnClick),x.attr("ontouchend",e.params.ButtonOnTouchEnd),x.attr("ontouchstart",e.params.ButtonOnTouchStart)),!0===e.params.ControlInIframeFromParent?(x.css({display:"none",width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,opacity:e.params.ButtonOpacity}),B={width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,"max-width":"inherit !important","max-height":"inherit !important"}):(x.css({display:"none",opacity:e.params.ButtonOpacity,"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":1e3,"-moz-perspective":1e3,"-ms-perspective":1e3,perspective:1e3,"-webkit-transition":"top, left "+e.params.buttonAnimationTimeAfterFancybox+"ms linear","-moz-transition":"top, left "+e.params.buttonAnimationTimeAfterFancybox+"ms linear","-ms-transition":"top, left "+e.params.buttonAnimationTimeAfterFancybox+"ms linear","-o-transition":"top, left "+e.params.buttonAnimationTimeAfterFancybox+"ms linear",transition:"top, left "+e.params.buttonAnimationTimeAfterFancybox+"ms linear",width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),B={width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,"max-width":"inherit !important","max-height":"inherit !important","transition-property":"opacity, width, height","timing-function":"linear","-webkit-transition-property":"opacity, width, height","-webkit-timing-function":"linear","-moz-transition-property":"opacity, width, height","-moz-timing-function":"linear","-o-transition-property":"opacity, width, height","-o-timing-function":"linear"});var _=null;if("iframe"===e.params.ButtonImageType){B.border="0px",B.overflow="hidden",_=t("<iframe/>",{id:"pizzabtnImg",scrolling:"no",seamless:"seamless",src:e.params.ButtonImage,css:B}).appendTo(x),e.additionalButtonFunctions.applyIframeScale(_,e.params.ButtonIframeInitialSize,e.params.ButtonSize),B.position="absolute",B.top="0px";t("<div/>",{id:"pizzabtnIframeOverlay",css:B}).appendTo(x);if(e.params.waitForIframeButtonLoaded){e.params.Debug&&console.log("waitForIframeButtonLoaded hide1");var C=document.getElementById("pizzabtnImg");x.hide();try{C.onload=function(){e.params.Debug&&console.log("waitForIframeButtonLoaded show1"),x.show(),e.closeButton.initAlwaysShowCloseStyles()}}catch(t){}}try{t("#pizzabtnIframeOverlay").hover(function(){var t=document.getElementById("pizzabtnImg");null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_hover_started"},"*")},function(){var t=document.getElementById("pizzabtnImg");null!==t&&void 0!==t&&null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_hover_stoped"},"*")})}catch(t){}}else _=t("<img/>",{id:"pizzabtnImg",src:e.params.ButtonImage,css:B}).appendTo(x),t("#pizzabtnImg").attr("src",e.params.ButtonImage),e.closeButton.initAlwaysShowCloseStyles();e.additionalButtonFunctions.preloadImage(e.params.ButtonDragImage),e.hintText=t("<span/>",{id:"probtn_hintText",css:{opacity:0,"transition-property":"opacity","timing-function":"linear","-webkit-transition-property":"opacity","-webkit-timing-function":"linear","-moz-transition-property":"opacity","-moz-timing-function":"linear","-o-transition-property":"opacity","-o-timing-function":"linear","transition-duration":e.params.HintShowDuration+"s","-webkit-transition-duration":e.params.HintShowDuration+"s","-moz-transition-duration":e.params.HintShowDuration+"s","-o-transition-duration":e.params.HintShowDuration+"s"},html:e.params.HintText.replace(/ /g,"&nbsp;")}).appendTo(x),x.hintTextActive=!1,e.additionalButtonFunctions.MinimizeWrapper(function(){},e.params.MinimizeWrapperTime),e.hintText.makeInvisible=function(){this.css({"transition-duration":e.params.HintHideDuration+"s","-webkit-transition-duration":e.params.HintHideDuration+"s","-moz-transition-duration":e.params.HintHideDuration+"s","-o-transition-duration":e.params.HintHideDuration+"s"}),this.css("opacity",0)},x.startShowedTimer=function(){e.contentTime.startTimer("ButtonShowedDuration")},x.stopShowedTimer=function(){e.contentTime.endTimer("ButtonShowedDuration")},x.center=function(){e.wrapper;this.css("top",(e.additionalButtonFunctions.getWindowHeight()-this.height())/2+t(window).scrollTop()+"px"),this.css("left",(e.additionalButtonFunctions.getWindowWidth()-this.width())/2+t(window).scrollLeft()+"px")},x.show=function(){var t=this;t.startShowedTimer(),setTimeout(function(){t.stop(!0,!0).fadeIn(1e3*e.params.ButtonShowDuration)},1e3*e.params.ButtonShowDelay)},x.hide=function(){var t=this;setTimeout(function(){e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_closed"}),console.log("btn hide"),t.stop(!0,!0).fadeOut(1e3*e.params.ButtonHideDuration)},1e3*e.params.ButtonHideDelay)},window.proBtn={},window.proBtn.hide=x.hide,window.proBtn.hideContent=function(){t.fancybox.close()},window.proBtn.close=function(){t.fancybox.close(),e.statistics.SendStatObject({Closed:1}),e.additionalButtonFunctions.MinimizeWrapper(),t("body").removeClass("probtn_disable_scroll"),e.additionalButtonFunctions.hideAll()},window.proBtn.performAction=function(){null!==e.params.CampaignID&&t.getJSON(e.serverUrl+"/1/functions/performAction?DeviceType=web&DeviceUID="+e.GetDeviceUID()+"&DeviceCUID="+e.DeviceCID+"&X-ProBtn-Token="+XProBtnToken+"&CampaignID="+e.params.CampaignID+"&random="+Math.random()+"&callback=?",function(t){})},x.dragAnimate=function(){""!==e.params.ButtonDragImage&&void 0!==e.params.ButtonDragImage&&null!==e.params.ButtonDragImage&&"iframe"!==e.params.ButtonImageType&&(e.params.Debug&&console.log("drag image apply"),_.attr("src",e.params.ButtonDragImage)),setTimeout(function(){!0!==e.params.ControlInIframeFromParent&&_.css({"transition-duration":e.params.ButtonDragDuration+"s","-webkit-transition-duration":e.params.ButtonDragDuration+"s","-moz-transition-duration":e.params.ButtonDragDuration+"s","-o-transition-duration":e.params.ButtonDragDuration+"s"}),"iframe"!==e.params.ButtonImageType&&_.css({opacity:e.params.ButtonDragOpacity,width:e.params.ButtonDragSize.W,height:e.params.ButtonDragSize.H})},1e3*e.params.ButtonDragDelay)},x.undragAnimate=function(){"iframe"!==e.params.ButtonImageType&&_.attr("src",e.params.ButtonImage),setTimeout(function(){!0!==e.params.ControlInIframeFromParent&&_.css({"transition-duration":e.params.ButtonUndragDuration+"s","-webkit-transition-duration":e.params.ButtonUndragDuration+"s","-moz-transition-duration":e.params.ButtonUndragDuration+"s","-o-transition-duration":e.params.ButtonUndragDuration+"s"}),"iframe"!==e.params.ButtonImageType&&(_.css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t(e.pizzabtn).css({opacity:e.params.ButtonOpacity}))},1e3*e.params.ButtonUndragDelay)},x.showHint=function(){var t=this;setTimeout(function(){e.hintText.css(e.initFunctions.hintTextStyle),t.hintTextActive=!0;var n=(e.hintText.width()-e.params.ButtonSize.W)/2;e.hintText.css("margin-left","-"+n+"px")},1e3*e.params.HintLaunchDelay)},x.hideHint=function(){var t=this;e.hintText.makeInvisible(),setTimeout(function(){t.animateDuringHintHide()},100),t.hintTextActive=!1},x.hideHintDelay=function(){setTimeout(function(){e.hintText.makeInvisible()},1e3*e.params.HintLaunchDuration)},x.animateDuringHintHide=function(){var t=(e.hintText.outerWidth()-e.params.ButtonSize.W)/2;t>0&&this.css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H,left:this.position().left+t})},e.additionalButtonFunctions.setButtonStartPosition(x),e.additionalButtonFunctions.changeBodySize(),e.interactionFunctions.initInteractionTimer();try{if(t("#pizzabtnImg").is("iframe"))try{var I=document.getElementById("pizzabtnImg");window.addEventListener("deviceorientation",function(t){null!==I.contentWindow&&I.contentWindow.postMessage({message:"probtn_page_deviceorientation",dataEvent:{alpha:t.alpha,beta:t.beta,gamma:t.gamma}},"*")}),window.addEventListener("devicemotion",function(t){null!==I.contentWindow&&I.contentWindow.postMessage({message:"probtn_page_devicemotion",dataEvent:{x:t.accelerationIncludingGravity.x,y:t.accelerationIncludingGravity.y,z:t.accelerationIncludingGravity.z,alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma,uaparser:e.parsed_ua}},"*")},!1)}catch(t){}}catch(t){console.log(t)}return e.params.waitIframeLoadedMsg&&(console.log("waitIframeLoadedMsg hide1"),t("head").append('<style type="text/css" id="probtn_waitIframeLoadedMsg">#probtn_wrapper.hide {display: none !important;} #probtn_wrapper.show {display: inherit;}</style>'),e.buttonMainParams.hidden=!0,e.wrapper.addClass("hide"),x.hide()),e.initFunctions.initProbtnBadge(x),e.initFunctions.initProbtnClosingArea(x),e.additionalButtonFunctions.checkPostscribe(function(){if(null!==e.params.JsImpressionCode&&void 0!==e.params.JsImpressionCode&&""!==e.params.JsImpressionCode){var n=t("<textarea/>").html(e.params.JsImpressionCode).html();console.log("jscode",n),e.statistics.SendStatisticsData("performedAction","jsImpressionCode_started"),t("#probtn_button").append('<div id="jsImpressionCode" style="top: 0px; left: 0px; position: absolute; width: 100%; height: 100%;"></div>'),postscribe("#jsImpressionCode",""+n)}}),x},initCloseButton:function(){var n=t("<img/>",{id:"probtn_closeButton",src:e.params.CloseImage,class:"close_pro_button_normal probtn_active_zone",onclick:'console.log("onclick");',css:{position:"fixed",display:"none"}});return"attached"===e.params.CloseAreaType&&(""===e.params.AttachedClosePosition&&null===e.params.AttachedClosePosition&&void 0===e.params.AttachedClosePosition&&(e.params.AttachedClosePosition="top_left"),n.setClosePosition=function(){var t=e.params.AttachedClosePosition.split("_"),i=e.params.CloseSize.W/2,a=e.params.ButtonSize.H-e.params.CloseSize.H/2;switch("top"===t[0]&&(a=-e.params.CloseSize.H/2),t[1]){case"center":i=(e.params.ButtonSize.W-e.params.CloseSize.W)/2;break;case"right":i=e.params.ButtonSize.W-e.params.CloseSize.W/2;break;case"left":default:i=-e.params.CloseSize.W/2}n.css({margin:"0 auto",display:"none",top:a+"px",position:"absolute",left:i+"px","z-index":"9999"})},n.setClosePosition(),e.params.CloseButtonShowDelay>0?setTimeout(function(){n.css({display:"block"})},e.params.CloseButtonShowDelay):n.css({display:"block"})),n.ready=!1,n.clickOnCloseButton=function(){if(!0===e.params.ClickOnCloseButton){n.css("cursor","pointer"),console.log("probtn_closeButton click set");var t=function(){e.statistics.SendStatObject({Closed:1}),e.additionalButtonFunctions.hideAll()};e.closeButtonClicked=!1,document.getElementById("probtn_closeButton")?(document.getElementById("probtn_closeButton").addEventListener("click",function(n){if(!e.closeButtonClicked)return e.closeButtonClicked=!0,t(),n.preventDefault(),!1},!1),document.getElementById("probtn_closeButton").addEventListener("touchstart",function(n){if(!e.closeButtonClicked)return e.closeButtonClicked=!0,t(),n.preventDefault(),!1},!1)):console.log("probtn_closeButton does not exists")}},n.active=!1,n.rect={},n.css({"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":1e3,"-moz-perspective":1e3,"-ms-perspective":1e3,perspective:1e3,"transition-property":"opacity, width, height, left, top","timing-function":"linear","-webkit-transition-property":"opacity, width, height, left, top","-webkit-timing-function":"linear","-moz-transition-property":"opacity, width, height, left, top","-moz-timing-function":"linear","-o-transition-property":"opacity, width, height, left, top","-o-timing-function":"linear"}),n.center=function(){if(""===e.params.CloseAreaType||"default"===e.params.CloseAreaType){t("body");var n=e.params.ClosePosition.X,i=e.params.ClosePosition.Y;e.params.ControlInIframeFromParent,e.params.CloseSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.CloseSize);var a=this.height();0===this.height()&&(a=e.params.CloseSize.H);var o=this.width();0===this.width()&&(o=e.params.CloseSize.W),this.css("top",(e.additionalButtonFunctions.getWindowHeight()-a)*i+"px"),this.css("left",(e.additionalButtonFunctions.getWindowWidth()-o)*n+t(window).scrollLeft()+"px")}else"corner"===e.params.CloseAreaType&&this.css("display","none")},n.show=function(){var t=this;t.center(),setTimeout(function(){t.stop(!0,!0).fadeIn(1e3*e.params.CloseShowDuration)},1e3*e.params.CloseShowDelay)},n.hide=function(){var t=this;setTimeout(function(){t.stop(!0,!0).fadeOut(1e3*e.params.CloseHideDuration)},1e3*e.params.CloseHideDelay)},n.setTransitionDuration=function(t){var n=t+"s";this.css({"transition-duration":n,"-webkit-transition-duration":n,"-moz-transition-duration":n,"-o-transition-duration":n})},n.initAlwaysShowCloseStyles=function(){var n=this,i=function(){!0===e.params.AlwaysShowCloseButton&&(n.setUnactiveSize(),setTimeout(function(){var n="block";"corner"===e.params.CloseAreaType&&(n="none"),t("head").append('<style type="text/css">#probtn_closeButton { display: '+n+" !important; }</style>")},e.params.CloseButtonShowDelay))};if(console.log("this.ready",this.ready),this.ready)null!==a?(i(),clearInterval(a)):i();else var a=setInterval(function(){i()},100)},n.overlayActive=function(){if(""===e.params.CloseAreaType||"default"===e.params.CloseAreaType){var t=this;t.position();t.setTransitionDuration(e.params.CloseActiveDuration),e.params.CloseActiveSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.CloseActiveSize),setTimeout(function(){t.css({opacity:e.params.CloseActiveOpacity,width:e.params.CloseActiveSize.W,height:e.params.CloseActiveSize.H})},1e3*e.params.CloseActiveDelay)}},n.overlayUnactive=function(){var n=this,i=(t("body"),e.params.ClosePosition.X),a=e.params.ClosePosition.Y;e.additionalButtonFunctions.getWindowHeight(),this.height(),e.additionalButtonFunctions.getWindowWidth(),e.closeButton.width(),t(window).scrollLeft();n.setTransitionDuration(e.params.CloseUnactiveDuration),setTimeout(function(){n.setUnactiveSize()},1e3*e.params.CloseUnactiveDelay)},n.setUnactiveSize=function(){e.params.CloseSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.CloseSize);var t={opacity:e.params.CloseOpacity,width:e.params.CloseSize.W,height:e.params.CloseSize.H};this.css(t)},n.setTransitionDuration(e.params.CloseActiveDuration),n.center(),n.ready=!0,n}},interactionFunctions:{time:0,initInteractionTimer:function(){void 0!==e.interactionFunctions.intervalId||clearInterval(e.interactionFunctions.intervalId),e.interactionFunctions.time=0,e.params.HideWithoutInteractionTime>0&&(e.contentTime.intervalId=setTimeout(function(){if((!1===e.interactionFunctions.wasInteraction||void 0===e.interactionFunctions.wasInteraction)&&(e.additionalButtonFunctions.hideAll(),"fullscreen"===e.params.ButtonType))try{t(".fancybox-overlay").remove(),t("#fullscreen_probtn").remove()}catch(t){}},e.params.HideWithoutInteractionTime))},intervalId:void 0,wasInteraction:!1},vastFunctions:{initVast:function(){return!1},onClickCheck:function(t){return t=t||"default",e.params.VASTparams.customParams.plc?(e.vastFunctions.sendMessageToApp("action",{type:"AdClickThru",id:t,url:getClickURL(e.params.VASTparams.clicks,t)},e.params.VASTparams.id),!1):(e.vastFunctions.sendMessageToApp("action",{type:"AdClickThru",id:t},e.params.VASTparams.id),e.vastFunctions.getClickURL(e.params.VASTparams.clicks,t))},sendVastMessage:function(t){if(e.params.VASTbutton){var n=function(t){for(var n=location.search.substr(1).split("&"),e={},i=0;i<n.length;i++){var a=n[i].split("=");e[a[0]]=decodeURIComponent(a[1])}return t?e[t]:e}("id"),i="default";switch(t){case"Closed":case"Hidded":e.vastFunctions.sendMessageToApp("action",{type:"AdUserClose",id:i},n)}}},sendMessageToApp:function(t,n,e){try{parent.postMessage(JSON.stringify({type:t,data:n,id:e}),"*")}catch(t){console.log(t)}},getClickURL:function(t,n){return t[n||"default"]}},DMP:{launchIDataScript:function(){try{if(!0===e.params.DmpEnabled){var t=document.createElement("script");t.src="//x01.aidata.io/pixel.js?pixel=PROBTN&id="+e.DeviceCID+"&v="+Date.now(),t.type="text/javascript",t.async=!0;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}catch(t){console.log("aidata exception",t)}}},additionalButtonFunctions:{resizeButton:function(n,i){var a=i;return n=e.additionalButtonFunctions.convertPercentButtonSize(n),e.params.ButtonSize=n,a?(e.params.ButtonIframeInitialSize.W=a.W,e.params.ButtonIframeInitialSize.H=a.H,a=e.params.ButtonIframeInitialSize):a=e.params.ButtonIframeInitialSize,0!=e.params.ButtonIframeInitialSize.W&&0!=e.params.ButtonIframeInitialSize.H||(e.params.ButtonIframeInitialSize.W=n.W,e.params.ButtonIframeInitialSize.H=n.H),t("#pizzabtnImg").css("width",n.W+"px"),t("#pizzabtnImg").css("height",n.H+"px"),"iframe"==e.params.ButtonImageType&&(e.additionalButtonFunctions.applyIframeScale(t("#pizzabtnImg"),a,e.params.ButtonSize),t("#pizzabtnImg").css("width",a.W+"px"),t("#pizzabtnImg").css("height",a.H+"px")),e.pizzabtn.css("width",n.W+"px"),e.pizzabtn.css("height",n.H+"px"),t("#pizzabtnIframeOverlay").css("height",n.H+"px"),t("#pizzabtnIframeOverlay").css("width",n.W+"px"),e.badge&&"function"==typeof e.badge.setBadgePosition&&e.badge.setBadgePosition(),e.closeButton&&"function"==typeof e.closeButton.setClosePosition&&e.closeButton.setClosePosition(),!0},checkPostscribe:function(n){"undefined"==typeof postscribe?t.getScript("https://cdn.probtn.com/libs/postscribe/htmlParser.js",function(){t.getScript("https://cdn.probtn.com/libs/postscribe/postscribe.js",n)}):n()},callPassback:function(){void 0!==e.params.OnNoShowPixel&&null!==e.params.OnNoShowPixel&&""!==e.params.OnNoShowPixel&&e.statistics.createClickCounterImage(e.params.OnNoShowPixel);e.additionalButtonFunctions.checkPostscribe(function(){var n=function(t){void 0===t&&(t="duplicateDetected"),e.statistics.callSuperPixelExt(t);try{e.params.isServerCommunicationEnabled&&e.statistics.SendStatisticsData("performedAction",t)}catch(t){e.params.Debug&&console.log(t)}};if(t("#probtn_passback").length>0)return n("duplicateDetected"),void n("duplicateByPassback");t("body").append("<div id='probtn_passback'></div>");new Date;e.currentDomain,null!==e.params.PassbackCustomCode&&void 0!==e.params.PassbackCustomCode&&""!==e.params.PassbackCustomCode&&(e.statistics.SendStatisticsData("performedAction","passback_added"),postscribe(e.params.PassbackCodeSelector,""+e.params.PassbackCustomCode))})},extractDomain:function(t){return(t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0]},checkProtocolInUrl:function(t){"https:"===window.location.protocol&&(0===t.indexOf("http://")&&(t=t.replace("http://","https://")));return t},checkProtocolLinks:function(t){try{for(var n in t)if(t.hasOwnProperty(n)&&"iframe"==e.params.ButtonImageType)switch(n){case"ButtonImage":case"ButtonImage2x":case"ButtonDragImage":case"ButtonOpenImage":t[n]=e.additionalButtonFunctions.checkProtocolInUrl(t[n])}}catch(t){}},setButtonStartPosition:function(n){try{var i=(e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H/2)*e.params.ButtonPosition.Y;i<0&&(i=0),i+e.params.ButtonSize.H>e.additionalButtonFunctions.getWindowHeight()&&(i=e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H);var a=(e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W/2)*e.params.ButtonPosition.X+t(window).scrollLeft();switch(a<0&&(a=0),a+e.params.ButtonSize.W>=e.additionalButtonFunctions.getWindowWidth()&&(a=e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W),a<0&&(a=0),e.params.ExtrusionMode){case"insertBlock":a=0,i=0}var o=e.params.isAnimation.split("_");if("lookoutAndOut"===o[0]){var s=0;void 0!==o[3]&&(s=o[3]);var r=!0;try{null!==o[4]&&void 0!==o[4]&&"noAuto"===o[4]&&(r=!1)}catch(t){console.log(t)}r&&(i=(e.additionalButtonFunctions.getWindowHeight()-e.params.ContentSize.H)/2+parseFloat(s),console.log("lookoutAndOut top",i,e.params.ContentSize.H))}n.css({left:a,top:i,position:"absolute"})}catch(t){}},getTitleTextForModalWindow:function(){var n="",i="";if(""!==(i=!0===e.params.Debug?e.params.VendorText+" "+e.mainVersion:e.params.VendorText)&&!0===e.params.ButtonEnabled&&!0===e.params.ButtonVisible)try{n="<style> .fancybox-title-inside-wrap { padding-top: 0px; color: rgba("+e.params.VendorColor.R+","+e.params.VendorColor.G+","+e.params.VendorColor.B+","+e.params.VendorColor.A+"); text-align: center; } </style><a style='font-family: "+e.params.VendorTextFont.Family+"; font-size: "+e.params.VendorTextFont.Size+"px; color: rgba("+e.params.VendorTextColor.R+","+e.params.VendorTextColor.G+","+e.params.VendorTextColor.B+","+e.params.VendorTextColor.A+")' href='"+e.params.VendorSite+"' target='_blank' class='probtn_vendor_site_link' id='probtn_vendor_site_link_id'>"+i+"</a>",t(document).on("click","#probtn_vendor_site_link_id",function(t){window.postMessage({command:"probtn_performed_action",value:"VendorSite_clicked"},"*");try{document.getElementById("video_probtn")&&document.getElementById("video_probtn").pause()}catch(t){console.log(t)}"video"===e.params.ButtonContentType&&e.statistics.SendStatisticsData("VideoClicked",1)})}catch(t){console.log(t)}return n},youtubeModalWindowSizes:function(){if(t("#youtube_fullscreen:visible").length>0){var n=e.additionalButtonFunctions.getFancyboxMargins(),i=t(".fancybox-title").first().height(),a={width:e.additionalButtonFunctions.getWindowWidth()-n[1]-n[3],height:e.additionalButtonFunctions.getWindowHeight()-n[0]-n[2]-i};t("#fullscreen_probtn .fancybox-wrap").css(a),t("#fullscreen_probtn .fancybox-wrap").css({"margin-left":n[3],"margin-right":n[1],"margin-top":n[0],"margin-bottom":n[2]}),t("#fullscreen_probtn .fancybox-skin").css(a),t("#fullscreen_probtn .fancybox-outer").css(a),t("#fullscreen_probtn .fancybox-inner").css(a)}},hideAll:function(){switch(e.closed=!0,e.params.ExtrusionMode){case"topButton":case"fixedTop":t("body").css("margin-top","0px"),t("head").append('<style type="text/css">#probtn_wrapper { margin-top: 0px !important; position: absolute !important; }</style>')}e.statistics.SendStatObject({Hidded:1}),console.log("hideall"),e.additionalButtonFunctions.MinimizeWrapper(),e.pizzabtn.hide(),e.pizzabtn.stopShowedTimer(),e.closeButton.remove(),t("#pizzabtnImg").remove(),e.pizzabtn.css("display","none !important;"),t("head").append('<style type="text/css">#probtn_wrapper, #probtn_badge, #pizzabtnImg { display: none !important; }</style>'),e.additionalButtonFunctions.hideAllActiveZones(),e.initFunctions.initRemoveMenu(),e.initFunctions.stopWebAudio(),t("#fullscreen_probtn").remove(),e.pizzabtn.stop(!0,!0);try{e.contentTime.intervalId.ButtonShowedDurationPeriod&&clearInterval(e.contentTime.intervalId.ButtonShowedDurationPeriod)}catch(t){console.log(t)}try{e.contentTime.intervalId.ExpansionVideoTimer&&clearTimeout(e.contentTime.intervalId.ExpansionVideoTimer)}catch(t){console.log(t)}if("video"===e.params.ButtonContentType)try{null!==e.params.currentAreaName&&void 0!==e.params.currentAreaName?t("#video_probtn_"+e.params.currentAreaName).get(0).pause():t("#video_probtn").get(0).pause()}catch(t){}},checkAndCorrentButtonPosition:function(){switch(e.params.ExtrusionMode){case"insertBlock":e.pizzabtn.css("top",0),e.pizzabtn.css("left",0);break;default:!0===e.params.CorrectPositionBeforeMove&&!1===e.once_moved?e.additionalButtonFunctions.setButtonStartPosition(e.pizzabtn):void 0!==e.pizzabtn&&null!==e.pizzabtn&&(e.pizzabtn.position().left>e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W&&e.pizzabtn.css("left",e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W),e.pizzabtn.css("top").replace("px","")>e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H&&e.pizzabtn.css("top",e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H))}},updateAllPercentSizes:function(){"iframe"!==e.params.ButtonImageType&&(e.params.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonSize),e.params.ButtonDragSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonDragSize)),e.params.CloseSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.CloseSize),e.params.CloseActiveSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.CloseActiveSize),t("#pizzabtnImg",e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),t(e.pizzabtn).css({opacity:e.params.ButtonOpacity}),"iframe"==e.params.ButtonImageType&&e.additionalButtonFunctions.applyIframeScale(t("#pizzabtnImg"),e.params.ButtonIframeInitialSize,e.params.ButtonSize),t(e.pizzabtn).css({width:e.params.ButtonSize.W,height:e.params.ButtonSize.H}),(null!==e.params.ActiveZones||e.params.ActiveZones.length>0)&&"button_and_active_zones"==e.params.ButtonType&&t.each(e.initializedActiveZones,function(t,n){"iframe"!==n.currentActiveZone.ButtonImageType&&(n.currentActiveZone.ActiveSize=e.additionalButtonFunctions.convertPercentButtonSize(n.currentActiveZone.ActiveSize),n.currentActiveZone.InactiveSize=e.additionalButtonFunctions.convertPercentButtonSize(n.currentActiveZone.InactiveSize))})},convertPercentButtonSize:function(n){try{var i=n.W,a=n.H,o=n.W,s=n.H;try{void 0!==n.Initial&&null!==n.initial?(i=n.Initial.W,a=n.Initial.H,o=n.Initial.W,s=n.Initial.H,n.W=n.Initial.W,n.H=n.Initial.H,n.Initial={},n.Initial.W=i,n.Initial.H=a):(n.Initial={},n.Initial.W=i,n.Initial.H=a)}catch(t){n.Initial={},n.Initial.W=i,n.Initial.H=a,e.params.Debug&&console.log(t)}if((-1!==i.toString().indexOf("%")||parseFloat(i)<0)&&(parseFloat(o)<0&&(i=Math.abs(parseFloat(i))),i="insertBlock"===e.params.ExtrusionMode||"fixedTop"===e.params.ExtrusionMode?t(e.params.ExtrusionPath).width()*(parseFloat(i)/100):e.additionalButtonFunctions.getWindowWidth()*(parseFloat(i)/100),parseFloat(s)>0&&-1==n.W.toString().indexOf("%")&&(a=i*parseFloat(s))),(-1!==a.toString().indexOf("%")||parseFloat(a)<0)&&(parseFloat(s)<0&&(a=Math.abs(parseFloat(a))),a="insertBlock"===e.params.ExtrusionMode||"fixedTop"===e.params.ExtrusionMode?t(e.params.ExtrusionPath).height()*(parseFloat(a)/100):e.additionalButtonFunctions.getWindowHeight()*(parseFloat(a)/100),parseFloat(o)>0&&-1==n.H.toString().indexOf("%")&&(i=parseFloat(o)*a)),a>e.additionalButtonFunctions.getWindowHeight()){var r=i/a;a=e.additionalButtonFunctions.getWindowHeight()-2,i=r*a,console.log("buttonSize proportions",n,r)}if(i>e.additionalButtonFunctions.getWindowWidth()){r=i/a;i=e.additionalButtonFunctions.getWindowWidth()-2,a=i/r,console.log("buttonSize proportions2",n,r)}n.W=i,n.H=a,"fixedTop"===e.params.ExtrusionMode&&(null!==t("#probtn_button").height()?(t("body").css("margin-top",t("#probtn_button").height()+"px"),t("head").append('<style type="text/css">#probtn_wrapper { margin-top:-'+t("#probtn_button").height()+"px !important; position: fixed !important; }</style>")):(t("body").css("margin-top",a+"px"),t("head").append('<style type="text/css">#probtn_wrapper { margin-top:-'+a+"px !important; position: fixed !important; }</style>")))}catch(t){}return n},checkExistInitIframeSIze:function(t){return"iframe"==t.currentActiveZone.ButtonImageType&&t.currentActiveZone.ButtonIframeInitialSize.W>0&&t.currentActiveZone.ButtonIframeInitialSize.H>0&&void 0!==t.currentActiveZone.ButtonIframeInitialSize.W&&null!==t.currentActiveZone.ButtonIframeInitialSize.W&&void 0!==t.currentActiveZone.ButtonIframeInitialSize.H&&null!==t.currentActiveZone.ButtonIframeInitialSize.H},applyIframeScale:function(t,n,i){if(n.W>0&&n.H>0&&void 0!==n.W&&null!==n.W&&void 0!==n.H&&null!==n.H){var a=e.params.RoundButton.split("_"),o=i.W/n.W,s=i.H/n.H;"fill"===a[1]&&"auto"===a[0]&&(o=.8*i.W/n.W,s=.8*i.H/n.H),t.css("width",n.W),t.css("height",n.H),e.additionalButtonFunctions.setTransform(t,o,s)}},setTransform:function(t,n,e){t.css({transform:"scale("+n+","+e+")","-moz-transform":"scale("+n+","+e+")","-webkit-transform":"scale("+n+","+e+")","-o-transform":"scale("+n+","+e+")","-ms-transform":"scale("+n+","+e+")"}),t.css("transform-origin","top left"),t.css("-moz-transform-origin","top left"),t.css("-webkit-transform-origin","top left"),t.css("-o-transform-origin","top left"),t.css("-ms-transform-origin","top left")},replaceRandom:function(t){var n=t.replace(/\[RANDOM\]/g,e.additionalButtonFunctions.randomString(12));n=n.replace(/\[DOMAIN\]/g,e.realDomain);var i=(new Date).getTime();return n=(n=(n=(n=n.replace(/\[timestamp\]/g,i)).replace(/\[TIMESTAMP\]/g,i)).replace(/\%random\%/g,e.additionalButtonFunctions.randomString(12))).replace(/\%RANDOM\%/g,e.additionalButtonFunctions.randomString(12))},replaceDeviceUID:function(t){return t.replace(/\[DEVICEUID\]/g,e.GetDeviceUID())},replaceDeviceCUID:function(t){return t.replace(/\[DEVICECUID\]/g,e.DeviceCID)},hideAllActiveZones:function(){try{t.each(e.initializedActiveZones,function(t,n){n.hide()})}catch(t){}},getContentUrlWithUtm:function(t){try{if(e.params.isAddUtmSource){var n=window.location.href;e.params.UtmSourceUseOnlyDomain&&(n=e.realDomain),""!==e.params.UtmSource&&(n=e.params.UtmSource),t=e.additionalButtonFunctions.replaceUrlParam(t,"utm_source",n),""!==e.params.UtmCampaign&&null!==e.params.UtmCampaign&&void 0!==e.params.UtmCampaign&&(t=e.additionalButtonFunctions.replaceUrlParam(t,"utm_campaign",e.params.UtmCampaign)),e.params.Debug&&console.log("newpath - "+t)}}catch(t){e.params.Debug&&console.log(t)}return t},testSpeed:function(t){if(e.params.isTestSpeed){var n=339234;measureSpeedByImage=function(){var i,a,o=new Image;o.onload=function(){a=(new Date).getTime(),function(){var o=(8*n/((a-i)/1e3)).toFixed(2),s=(o/1024).toFixed(2),r=(s/1024).toFixed(2),c="Your connection speed is: \n\r"+o+" bps\n\r"+s+" kbps\n\r"+r+" Mbps\n\r";e.params.Debug&&console.log(c);null!==t&&void 0!==t&&t(s)}()},o.onerror=function(t,n){e.params.Debug&&console.log(t)};var s="?nnn="+(i=(new Date).getTime());o.src="https://cdn.probtn.com/load2.png"+s},setTimeout(measureSpeedByImage,1)}else null!==t&&void 0!==t&&t(0)},preloadImage:function(n){var i=n,a=t("<img/>",{id:"probtn_ClickCounterLink_"+e.additionalButtonFunctions.randomString(12),src:i,style:"width: 1px; height: 1px; position: absolute; left: -10001px; top: -10001px;"}).prependTo(e.additionalItemsContainer);t(a).attr("src",i)},preloadIframe:function(t){},preloadIframeScrollZonesDone:!1,hideIframeScrollZones:function(){t("iframe.pizzabtnImg_iframe_cached").attr("id",""),t("iframe.pizzabtnImg_iframe_cached").hide()},preloadIframeScrollZones:function(){if(!1===e.additionalButtonFunctions.preloadIframeScrollZonesDone){e.additionalButtonFunctions.preloadIframeScrollZonesDone=!0;for(var n=0;n<e.params.ScrollZones.length;n++){var i=e.params.ScrollZones[n];i.CustomButtonParams?i.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(i.ButtonSize):i.ButtonSize=e.additionalButtonFunctions.convertPercentButtonSize(e.params.ButtonSize);var a={width:i.ButtonSize.W,height:i.ButtonSize.H,display:"none",border:"0px",position:"absolute",top:"0px"};if("iframe"==i.ButtonImageType){for(var o=!1,s=0;s<e.params.ScrollZones.length;s++)s!==n&&t(".pizzabtnImg_iframe_cached[rel='"+e.params.ScrollZones[s].Name+"']",e.pizzabtn).attr("src")===i.ButtonImage&&(t(".pizzabtnImg_iframe_cached[rel='"+e.params.ScrollZones[s].Name+"']",e.pizzabtn).addClass(i.Name),o=!0);!1===o&&t("<iframe/>",{class:"pizzabtnImg_iframe_cached "+i.Name,scrolling:"no",rel:i.Name,seamless:"seamless",src:i.ButtonImage,css:a}).prependTo(e.pizzabtn)}else t("<img/>",{class:"pizzabtnImg_cached",scrolling:"no",rel:i.Name,seamless:"seamless",src:i.ButtonImage,css:a}).prependTo(e.pizzabtn)}}},sendMessageToParent:function(t){null!==t&&void 0!==t||(t="probtn_end_move");var n={};void 0!==e.pizzabtn&&(n=e.pizzabtn.position()),e.additionalButtonFunctions.sendCustomMessageToParent({type:t,params:e.params,button:n})},sendMessageToCreative:function(n){t("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage(n,"*")},sendMessageToActiveZones:function(n){t.each(e.initializedActiveZones,function(t,e){void 0!==e[0].contentWindow&&e[0].contentWindow.postMessage(n,"*")})},sendMessageToModal:function(n){var e=t(".fancybox-iframe").first().attr("id");if(t("#"+e).is("iframe"))try{var i=document.getElementById(e);null!==i.contentWindow&&(iframeLoadedSend=!0,i.contentWindow.postMessage(n,"*"))}catch(t){console.log(t)}},sendCustomMessageToParent:function(t){!0===e.params.ControlInIframeFromParent&&window.window!==window.top&&window.top.postMessage(t,"*")},getWindowHeight:function(){var t=window.innerHeight;return t>window.outerHeight&&e.params.UseScreenSizes&&(t=window.outerHeight),!0===e.params.ControlInIframeFromParent&&e.params.ParentParams.height>0&&void 0!==e.params.ParentParams.height&&null!==e.params.ParentParams.height?e.params.ParentParams.height:t},getWindowWidth:function(){var t=window.innerWidth;return t>window.outerWidth&&e.params.UseScreenSizes&&(t=window.outerWidth),!0===e.params.ControlInIframeFromParent&&e.params.ParentParams.width>0&&void 0!==e.params.ParentParams.width&&null!==e.params.ParentParams.width?e.params.ParentParams.width:t},replaceUrlParam:function(t,n,e){var i=new RegExp("(\\?|\\&)("+n+"=).*?(&|$)"),a=t;return a=t.search(i)>=0?t.replace(i,"$1$2"+e+"$3"):a+(a.indexOf("?")>0?"&":"?")+n+"="+e},onOrientationChange:function(n){try{if(("expansionButton"===e.params.ButtonType||"expansion_video"===e.params.ButtonType)&&e.onButtonTapCountCheck>0)return void(e.onButtonTapCountCheck>0&&(e.additionalButtonFunctions.resizeButton(e.params.ButtonSize),e.additionalButtonFunctions.checkAndCorrentButtonPosition()));e.additionalButtonFunctions.updateAllPercentSizes(),e.additionalButtonFunctions.resizeButton(e.params.ButtonSize),e.additionalButtonFunctions.checkAndCorrentButtonPosition();try{e.closeButton.center()}catch(t){e.params.Debug&&console.log(t)}if("youtube"==e.params.ButtonContentType&&e.additionalButtonFunctions.youtubeModalWindowSizes(),"button_and_scroll_zones"==e.params.ButtonType&&e.initFunctions.initScrollChange("orientationChange"),"menu"==e.params.ButtonType&&t("#probtn_menu").length>0)switch(e.additionalButtonFunctions.MaximizeWrapper(function(){}),e.params.MenuTemplateVariant){case"radialcorner":t("#probtn_menu").css("left",0),t("#probtn_menu").css("top",e.additionalButtonFunctions.getWindowHeight()-t("#probtn_menu").height()),e.pizzabtn.position().left<e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W&&e.pizzabtn.css("left","0px"),e.pizzabtn.position().top<e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H&&e.pizzabtn.css("top",e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H);break;case"circularCenter":e.pizzabtn.css("top",window.innerHeight/2-e.pizzabtn.height()/2),e.pizzabtn.css("left",e.additionalButtonFunctions.getWindowWidth()/2-e.pizzabtn.width()/2),e.menuClose.setPosition(),e.initFunctions.circularMenuPositionUpdate();break;default:t("#probtn_menu").css("left",0),t("#probtn_menu").css("top",e.additionalButtonFunctions.getWindowHeight()-t("#probtn_menu").height()-e.params.ButtonSize.H),e.pizzabtn.position().left<e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W&&e.pizzabtn.css("left","0px"),e.pizzabtn.position().top<e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H&&e.pizzabtn.css("top",e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H)}if("video"===e.params.ButtonContentType&&(null!==e.params.VideoFooterButton&&void 0!==e.params.VideoFooterButton&&""!==e.params.VideoFooterButton&&e.additionalButtonFunctions.recalculateVideoClickableAreasPos(),!0===e.params.DisableVideoFullscreen)){var i=window.document;if(!0===i.fullscreen)(i.exitFullscreen||i.mozCancelFullScreen||i.webkitExitFullscreen||i.msExitFullscreen).call(i)}}catch(t){}var a=!1;try{void 0!==t.fancybox&&(a=t.fancybox.isOpen)}catch(t){}if((void 0!==t.fancybox||"fullscreen"===e.params.ButtonType)&&(a||"fullscreen"===e.params.ButtonType)){e.params.ContentSize.X,e.params.ContentSize.Y;var o=e.additionalButtonFunctions.getFancyboxMargins(),s=e.additionalButtonFunctions.getWindowWidth()-o[1]-o[3],r=e.additionalButtonFunctions.getWindowHeight()-o[0]-o[2];!0===e.params.IsManualSize?(-1!==e.params.ContentSize.X.indexOf("%")?(s=e.additionalButtonFunctions.getWindowWidth()*(parseFloat(e.params.ContentSize.X)/100),parseFloat(e.params.ContentSize.X)/100):s=e.params.ContentSize.X,-1!==e.params.ContentSize.Y.indexOf("-")?(r=s*Math.abs(e.params.ContentSize.H))>e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height()&&(s=(r=e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height())/Math.abs(e.params.ContentSize.H)):r=-1!==e.params.ContentSize.Y.indexOf("%")?e.additionalButtonFunctions.getWindowHeight()*(parseFloat(e.params.ContentSize.Y)/100):e.params.ContentSize.Y):(r=e.params.ContentSize.H,s=e.params.ContentSize.W),o[0]>0&&o[2]>0&&(r=r-o[0]-o[2]),o[1]>0&&o[3]>0&&(s=s-o[1]-o[3]);var c=function(n,i,a,o){!0===e.params.IsManualSize?(t(".fancybox-wrap").width(i),t(".fancybox-wrap").height(n),t(".fancybox-inner").width(i),t(".fancybox-inner").height(a),"fullscreen"!=e.params.ButtonType&&0!==o[0]&&0!==o[1]&&0!==o[2]&&0!==o[3]||(t(".fancybox-wrap").css("left",o[1]),t(".fancybox-wrap").css("top",o[0]),t(".fancybox-wrap").css("bottom",o[2]),t(".fancybox-wrap").css("right",o[3])),document.documentElement.clientHeight>e.additionalButtonFunctions.getWindowHeight()&&t(".fancybox-wrap").css("top",o[0]+(document.documentElement.clientHeight-e.additionalButtonFunctions.getWindowHeight()))):(console.log("IsManualSize",e.params.IsManualSize),console.log("margins",o),o[0]>0||o[1]>0||o[2]>0||o[3]>0?(t(".fancybox-wrap").css("left",o[1]),t(".fancybox-wrap").css("top",o[0]),t(".fancybox-wrap").css("bottom",o[2]),t(".fancybox-wrap").css("right",o[3])):(console.log("fancyboxWidth and fancyboxHeight",i,n),t(".fancybox-wrap").css("left",(e.additionalButtonFunctions.getWindowWidth()-i)/2),t(".fancybox-wrap").css("top",(e.additionalButtonFunctions.getWindowHeight()-n)/2))),e.additionalButtonFunctions.setIfameSizes()},d=(t(".fancybox-title").width(),r-t(".fancybox-title").height());c(r,s,d,o);var l=0,p=0;t(".fancybox-inner").width()>t(".fancybox-inner").height()?(p=(l=t(".fancybox-inner").height())/e.params.VideoSize.Y*e.params.VideoSize.X)>t(".fancybox-inner").width()&&(l=(p=t(".fancybox-inner").width())/e.params.VideoSize.X*e.params.VideoSize.Y):(l=(p=t(".fancybox-inner").width())/e.params.VideoSize.X*e.params.VideoSize.Y)>t(".fancybox-inner").height()&&(p=(l=t(".fancybox-inner").height())/e.params.VideoSize.Y*e.params.VideoSize.X),t(".probtn_video_wrapper2").width(t(".fancybox-inner").width()),t(".probtn_video_wrapper2").height(t(".fancybox-inner").height()),t(".probtn_video").width(p),t(".probtn_video").height(l);var u=document.getElementsByClassName("video_iframe");u.length>0&&Array.prototype.forEach.call(u,function(n){n.setAttribute("width",t(".fancybox-inner").width()),n.setAttribute("height",t(".fancybox-inner").height())}),c(r,s,d,o),setTimeout(function(){var n=e.params.isAnimation.split("_"),i="";try{null!==n[3]&&void 0!==n[3]&&(i=n[3].toLowerCase())}catch(t){}"openmodal"===i&&(e.additionalButtonFunctions.setIfameSizes(),t(".fancybox-skin").width(t(".fancybox-wrap").width()),t(".fancybox-skin").height(t(".fancybox-wrap").height()),e.pizzabtn.css("top",parseFloat(t(".fancybox-wrap").position().top+t(".fancybox-wrap").height())))},500)}},changeBodySize:function(){var n={width:window.availWidth,height:window.availHeight};"Microsoft Internet Explorer"===e.userData.browser&&(n.overflow="auto");try{t("body").css(n)}catch(t){}},MinimizeWrapper:function(n,i){var a=n;function o(){var n=e.wrapper,i="fixed !important";e.params.ConstrainByBlock&&(i="relative !important");var o={width:"auto",height:"auto",position:i};e.additionalButtonFunctions.sendMessageToParent("probtn_end_move");try{t.pep.toggleAll(!1),n.css(o),t.pep.toggleAll(!0)}catch(t){n.css(o)}null!==a&&void 0!==a&&a()}null!==i?setTimeout(o,i):o()},MaximizeWrapper:function(n){var i=e.wrapper,a=window.innerWidth,o=window.innerHeight;try{if(e.params.ConstrainByBlock){var s=t(e.params.ButtonInjectPath);a=s.innerWidth(),o=s.innerHeight()}}catch(t){console.log(t)}var r={width:a,height:o,left:0,right:0,position:"fixed !important"};e.additionalButtonFunctions.sendMessageToParent("probtn_start_move"),i.css(r);try{var c;if(c=t(window).scrollLeft(),e.pizzabtn.offset().left-c>i.width()){var d=i.width()-e.pizzabtn.width();e.pizzabtn.css({left:d+"px"})}}catch(t){}try{var l;if(l=t(window).scrollTop(),e.pizzabtn.offset().top-l>i.height()){var p=i.height()-e.pizzabtn.height();e.pizzabtn.css({top:p+"px"})}}catch(t){}try{n()}catch(t){}},animation:{animationRuning:!1,_setAnimationCSS:function(){e.pizzabtn.css("-webkit-transform","translateZ(0)"),e.pizzabtn.css("transform","translateZ(0)"),e.pizzabtn.css("transform","translateZ(0)"),e.pizzabtn.css("transition-property","left, top"),e.pizzabtn.css("-webkit-transition-property","left, top")},probtnIframeEvent:function(t,n){e.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})},pathAnimation:function(n){!function(t){t.crSpline={};var n=function(t,n,e,i,a){return Math.floor((t*((2-t)*t-1)*n+(t*t*(3*t-5)+2)*e+t*((4-3*t)*t+1)*i+(t-1)*t*t*a)/2)},i=function(t,n){return[n[0]+(n[0]-t[0]),n[1]+(n[1]-t[1])]};t.crSpline.buildSequence=function(t){var a,o={},s=[],r=function(t){var n,i=[],a=t.length,o=0;!0!==t[0].relative&&(i[0]=[e.pizzabtn.position().left,e.pizzabtn.position().top],o=1);for(var s=0;s<a;s++){var r=t[s].x,c=t[s].y;t[s].scalable&&(r=Math.round(t[s].x*e.additionalButtonFunctions.getWindowWidth()),c=Math.round(t[s].y*e.additionalButtonFunctions.getWindowHeight())),0===s&&(n=e.pizzabtn.position().left-r,ay=e.pizzabtn.position().top-c),!0===t[s].relative&&(c+=ay,r+=n),i[s+o]=[r,c]}return console.log("new pointList",i,JSON.stringify(i)),i}(t);if(r.length<2)throw"crSpline.buildSequence requires at least two points";s.push(i(r[1],r[0]));for(var c=0;c<r.length;c++)s.push(r[c]);return s.push(i(s[s.length-2],s[s.length-1])),a=s.length-3,o.getPos=function(t){var e=Math.floor(t*a);if(e===a)return{left:s[s.length-2][0],top:s[s.length-2][1]};var i=(t-e/a)*a;return{left:n(i,s[e][0],s[e+1][0],s[e+2][0],s[e+3][0])+"px",top:n(i,s[e][1],s[e+1][1],s[e+2][1],s[e+3][1])+"px"}},o},t.fx.step.crSpline=function(t){var n=t.end.getPos(t.pos);for(var e in n)t.elem.style[e]=n[e]}}(jQuery);var i=n.split("_"),a="",o=e.params.animationData;e.params.animationData=t("<div/>").html(o).text();try{a=JSON.parse(e.params.animationData)}catch(t){a=""}""!==a&&void 0!==a&&null!==a||(a=[{x:10,y:10,type:"point"},{x:30,y:80,type:"point"},{x:100,y:200,type:"point"},{x:320,y:10,type:"point"}]),"path"===i[0]&&e.additionalButtonFunctions.MaximizeWrapper(function(){setTimeout(function(){t("#probtn_button").animate({crSpline:t.crSpline.buildSequence(a)},e.params.animationDuration,function(){console.log("pathAnimation finished")})},e.params.animationDuration/5)})},opacityAnimation:function(n){var i={finalOpacity:.5,startType:"",delay:e.params.animationDuration/2};if("opacity"==(i=this._checkAndGetActualParams(i)).name){var a=function(){setTimeout(function(){e.additionalButtonFunctions.animation.animationRuning=!0,e.pizzabtn.animate({opacity:i.finalOpacity},{duration:e.params.animationDuration,step:function(t){},complete:e.additionalButtonFunctions.animation.doneAnimation})},i.delay)};"scroll"==i.startType?t(window).scroll(a):a()}},rolloutAnimation:function(){var n={side:"left",rollOutPercent:80};if("rollout"==(n=this._checkAndGetActualParams(n)).name){"right"==n.side?e.pizzabtn.css("left",t("body").innerWidth()-.2*e.params.ButtonSize.W):e.pizzabtn.css("left",-.8*e.params.ButtonSize.W);t(window).scroll(function(i){e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_page_scroll"});var a=document.documentElement,o=(window.pageXOffset||a.scrollLeft,a.clientLeft,(window.pageYOffset||a.scrollTop)-(a.clientTop||0)),s=(e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H/2)*e.params.ButtonPosition.Y,r=navigator.userAgent.toLowerCase(),c=r.indexOf("opera")>-1,d=!c&&r.indexOf("msie")>-1,l=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!d||c?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)},p=e.pizzabtn.position().top+o;"right"===n.side?e.pizzabtn.css("left",t("body").innerWidth()-.2*e.params.ButtonSize.W-n.rollOutPercent/100*t("body").innerWidth()*((p-s)/l())):e.pizzabtn.css("left",-.8*e.params.ButtonSize.W+n.rollOutPercent/100*t("body").innerWidth()*((p-s)/l()))})}},lookoutAndOutAnimation:function(){var n={side:"left",rollOutPercent:50};if("lookoutAndOut"==(n=this._checkAndGetActualParams(n)).name){this._setAnimationCSS(),n.rollOutPercent=n.rollOutPercent/100;"right"==n.side?e.pizzabtn.css("left",t("body").innerWidth()-.2*e.params.ButtonSize.W):e.pizzabtn.css("left",-.8*e.params.ButtonSize.W);var i=0,a=function(a){console.log("onBackLookOut"),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop",count:i}),e.lookOutTimeout2=setTimeout(function(){var a=-.8*e.params.ButtonSize.W;"right"===n.side&&(a=t("body").innerWidth()-.2*e.params.ButtonSize.W),e.pizzabtn.stop(!0,!1),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start",count:i}),e.pizzabtn.animate({left:a},{duration:e.params.animationDuration,easing:"linear",complete:o})},e.params.animationDuration/2)},o=function(o){console.log("onLookOut");var s=0;++i<2?(s=-e.params.ButtonSize.W*n.rollOutPercent,"right"==n.side&&(s=t("body").innerWidth()-e.params.ButtonSize.W*n.rollOutPercent),console.log("left",s),e.pizzabtn.stop(!0,!1),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start",count:i}),e.pizzabtn.animate({left:s},{duration:e.params.animationDuration,easing:"linear",complete:a,queue:!0})):(s=1.2*e.params.ButtonSize.W,"right"==n.side&&(s=t("body").innerWidth()-1.2*e.params.ButtonSize.W),e.pizzabtn.animate({left:s},{duration:e.params.animationDuration,easing:"linear",complete:function(t){console.log("finish animation done"),e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop",step:"last"}),e.lookOutTimeout=setTimeout(function(){console.log("lookout timeout click now"),e.statistics.SendStatisticsData("Showed",1),e.onButtonTap()},1e4)}}))};e.lookOutTimeout2=setTimeout(o,e.params.animationDuration/2)}},lookoutAnimation:function(){var n={side:"left"};if("lookout"==(n=this._checkAndGetActualParams(n)).name){this._setAnimationCSS(),"right"==n.side?e.pizzabtn.css("left",t("body").innerWidth()-.2*e.params.ButtonSize.W):e.pizzabtn.css("left",-.8*e.params.ButtonSize.W);var i=function(i){setTimeout(function(){var i=-.8*e.params.ButtonSize.W;"right"===n.side&&(i=t("body").innerWidth()-.2*e.params.ButtonSize.W),e.pizzabtn.stop(!0,!0),e.pizzabtn.animate({left:i},{duration:e.params.animationDuration,easing:"linear",complete:a})},e.params.animationDuration)},a=function(a){setTimeout(function(){var a=-.1*e.params.ButtonSize.W;"right"==n.side&&(a=t("body").innerWidth()-.9*e.params.ButtonSize.W),e.pizzabtn.stop(!0,!0),e.pizzabtn.animate({left:a},{duration:e.params.animationDuration,easing:"linear",complete:i})},e.params.animationDuration)};setTimeout(a,e.params.animationDuration)}},cornerToCornerAnimation:function(){if("anim1"===e.params.isAnimation||"anim2"===e.params.isAnimation){e.pizzabtn.position().left,e.pizzabtn.position().top;e.additionalButtonFunctions.animation.animationRuning=!0,e.additionalButtonFunctions.MaximizeWrapper(function(){var n=0;e.pizzabtn.animate({top:e.additionalButtonFunctions.getWindowHeight()-e.pizzabtn.height(),left:t("body").innerWidth()-e.pizzabtn.width()},{duration:e.params.animationDuration,step:function(i){e.userData.mobile?n+=2:n=i,"anim2"==e.params.isAnimation?(n=-n,t(this).css(e.additionalButtonFunctions.animation.getRotationCss(n,"60% 50%"))):t(this).css(e.additionalButtonFunctions.animation.getRotationCss(n))},complete:e.additionalButtonFunctions.animation.doneAnimation})})}},_checkAndGetActualParams:function(n){var i,a=e.params.animationData;e.params.animationData=t("<div/>").html(a).text();try{i=JSON.parse(e.params.animationData)}catch(t){i=null}if(null!==i&&void 0!==i){for(var o in n)void 0!==i[o]&&null!==i[o]&&(n[o]=i[o]);try{n.name=e.params.isAnimation.split("_")[0]}catch(t){n.nameAnimation=null}}else{var s=e.params.isAnimation.split("_"),r=1;for(var o in n)void 0!==s[r]&&null!==s[r]&&(n[o]=s[r]),r++;try{n.name=s[0]}catch(t){n.name=null}}return n},forwardStopAndAwayAnimation:function(){var n={side:"left"};"forwardStopAndAway"==(n=this._checkAndGetActualParams(n)).name&&(e.pizzabtn.stop(!0,!0),"right"===n.side?e.pizzabtn.css("left",t("body").innerWidth()):(e.pizzabtn.css("left",-e.params.ButtonSize.W-10),e.pizzabtn.stop(!0,!0)),window.setTimeout(function(){var i=t("body").innerWidth()/2-e.params.ButtonSize.W/2;"right"===n.side&&(i=t("body").innerWidth()/2-e.params.ButtonSize.W/2),e.additionalButtonFunctions.animation._setAnimationCSS(),e.pizzabtn.stop(!0,!0),null===e.params.ButtonDragImage&&void 0===e.params.ButtonDragImage||t("#pizzabtnImg",e.pizzabtn).attr("src",e.params.ButtonDragImage),e.pizzabtn.animate({left:i},{duration:e.params.animationDuration,easing:"linear",done:function(){null===e.params.ButtonImage&&void 0===e.params.ButtonImage||t("#pizzabtnImg",e.pizzabtn).attr("src",e.params.ButtonImage),window.setTimeout(function(){var i=t("body").innerWidth()+e.params.ButtonSize.W+20;"right"===n.side&&(i=t("body").innerWidth()-e.params.ButtonSize.W-20),e.pizzabtn.stop(!0,!0),null===e.params.ButtonDragImage&&void 0===e.params.ButtonDragImage||t("#pizzabtnImg",e.pizzabtn).attr("src",e.params.ButtonDragImage),e.pizzabtn.animate({left:i},{step:function(t){},duration:e.params.animationDuration,easing:"linear"})},e.params.animationDuration)}})},e.params.animationDuration))},forwardAndStopAnimation:function(){e.params.isAnimation.split("_");var n={side:"left",waitDuration:e.params.animationDuration/2,widthPercent:1,additionalMode:"",startWidthPercent:0},i=(n=this._checkAndGetActualParams(n)).additionalMode,a=n.widthPercent;if("forwardAndStop"==n.name){"right"==n.side?e.pizzabtn.css("left",t("body").innerWidth()-t("body").innerWidth()*n.startWidthPercent-e.params.ButtonSize.W):e.pizzabtn.css("left",t("body").innerWidth()*n.startWidthPercent);var o=t("body").innerWidth()*a-e.params.ButtonSize.W;"right"===n.side&&(o=t("body").innerWidth()*(1-a)),this._setAnimationCSS(),e.pizzabtn.stop(!0,!0);var s=function(t,n){e.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})};setTimeout(function(){s("probtn_forwardAndStop_start"),e.pizzabtn.animate({left:o},{duration:e.params.animationDuration,complete:function(){switch(console.log("compelete"),s("probtn_forwardAndStop_stop",e.pizzabtn.position()),i){case"openModal":e.closed||(console.log("ProBtnControl.once_moved",e.once_moved),console.log("open modal param"),e.onButtonTap());break;case"maximizeButton":var a=e.additionalButtonFunctions.getWindowWidth()-0,o=e.additionalButtonFunctions.getWindowHeight()-0;e.pizzabtn.css("left","0px"),e.pizzabtn.css("top","0px"),e.pizzabtn.css("width",a),e.pizzabtn.css("height",o),t("#pizzabtnImg").css("width",a),t("#pizzabtnImg").css("height",o)}setTimeout(function(){"right"==n.side&&(t("body").innerWidth(),e.params.ButtonSize.W),e.pizzabtn.stop(!0,!0)},e.params.animationDuration)},done:function(){}})},n.waitDuration)}},forwardAndBackAnimation:function(){var n={side:"left",pauseDuration:0,stopDuration:0};if(n.pauseDuration=e.params.animationDuration/2,"forwardAndBack"==(n=this._checkAndGetActualParams(n)).name){"right"==n.side?e.pizzabtn.css("left",t("body").innerWidth()-e.params.ButtonSize.W):e.pizzabtn.css("left",0);var i=t("body").innerWidth()-e.params.ButtonSize.W;"right"==n.side&&(i=0),this._setAnimationCSS(),e.pizzabtn.stop(!0,!0);var a=function(t){e.additionalButtonFunctions.sendMessageToCreative({message:t})};setTimeout(function(){e.additionalButtonFunctions.MaximizeWrapper(function(){a("probtn_forwardAndBack_start"),e.pizzabtn.animate({left:i},{duration:e.params.animationDuration,easing:"linear",done:function(){a("probtn_forwardAndBack_stop"),window.setTimeout(function(){var i=0;"right"==n.side&&(i=t("body").innerWidth()-e.params.ButtonSize.W),e.pizzabtn.stop(!0,!0),a("probtn_forwardAndBack_reverse"),a("probtn_forwardAndBack_start"),a("probtn_forwardAndBack_start_reverse"),e.pizzabtn.animate({left:i},{duration:e.params.animationDuration,easing:"linear",done:function(){a("probtn_forwardAndBack_stop"),a("probtn_forwardAndBack_stop_reverse"),setTimeout(function(){e.additionalButtonFunctions.MinimizeWrapper()},n.stopDuration)}})},n.pauseDuration)}})},50)},e.params.animationDuration/2)}},TopToBottomAndStopAnimation:function(){var n={side:"top",waitDuration:e.params.animationDuration/2,heightPercent:1,startHeightPercent:0,dontChangeTop:!1};"down"==(n=this._checkAndGetActualParams(n)).side&&(n.side="bottom");var i=n.heightPercent,a=n.startHeightPercent;if(n.name.toLowerCase()=="TopToBottom".toLowerCase()||n.name.toLowerCase()=="upToDown".toLowerCase()){var o=0;"bottom"==n.side?o=e.additionalButtonFunctions.getWindowHeight()-(e.params.ButtonSize.H+t("body").innerHeight()*a):(o=e.additionalButtonFunctions.getWindowHeight(),o*=a),n.dontChangeTop||e.pizzabtn.css("top",o);var s=e.additionalButtonFunctions.getWindowHeight()*i-e.params.ButtonSize.H;"bottom"==n.side&&(s=0+e.additionalButtonFunctions.getWindowHeight()*(1-i)),this._setAnimationCSS(),e.pizzabtn.stop(!0,!0);var r=function(n,e){t("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage({message:n,data:e},"*")};setTimeout(function(){r("probtn_topToBottomAndStop_start"),r("probtn_upToDown_start"),e.pizzabtn.animate({top:s},{duration:e.params.animationDuration,done:function(){r("probtn_topToBottomAndStop_stop",e.pizzabtn.position()),r("probtn_upToDown_stop",e.pizzabtn.position()),setTimeout(function(){"bottom"==n.side&&(e.additionalButtonFunctions.getWindowHeight(),e.params.ButtonSize.H),e.pizzabtn.stop(!0,!0)},e.params.animationDuration)}})},n.waitDuration)}},ToCenterAnimation:function(){var t={waitDuration:1e3};if((t=this._checkAndGetActualParams(t)).name.toLowerCase()=="ToCenter".toLowerCase()){var n=(e.additionalButtonFunctions.getWindowHeight()-e.params.ButtonSize.H)/2,i=(e.additionalButtonFunctions.getWindowWidth()-e.params.ButtonSize.W)/2;this._setAnimationCSS(),e.pizzabtn.stop(!0,!0);var a=function(t,n){e.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})};setTimeout(function(){a("probtn_topToCenter_start"),e.pizzabtn.animate({top:n,left:i},{duration:e.params.animationDuration,done:function(){a("probtn_topToCenter_stop",e.pizzabtn.position())}})},t.waitDuration)}},resizeAnimation:function(){var t=[{autoStart:!0,width:200,height:100,waitDuration:6e3,name:"step2"}],n=0;if((t=this._checkAndGetActualParams(t)).name.toLowerCase()=="resizeAnimation".toLowerCase()){var i=!0;t[0]&&null!==t[0].autoStart&&void 0!==t[0].autoStart&&""!==t[0].autoStart&&(i=t[0].autoStart),console.log("autoStart",i,t[0]);var a=function(t,i){if(!(n<t.length))return!0;var o=t[n],s=o.waitDuration;setTimeout(function(){var s=e.additionalButtonFunctions.convertPercentButtonSize({W:o.width,H:o.height});console.log("newButtonSize1",s);var r,c,d={W:o.width,H:o.height};e.additionalButtonFunctions.resizeButton(d,o.ButtonIframeInitialSize),r="probtn_resizeAnimation_step",c={name:o.name,count:n},e.additionalButtonFunctions.sendMessageToCreative({message:r,data:c}),n++,a(t,i)},s)};if(i)a(t,function(){console.log("callback")});else{window.self.addEventListener("message",function(n){try{"probtn_start_animation"===n.data.command&&a(t,function(){console.log("callback")})}catch(t){}},!1)}}},forwardMoveAndStopAndMoveAnimation:function(){e.params.isAnimation.split("_");var n={side:"left",stopDuration:2e3,stopWidth:.5,firstPartDuration:3e3,secondPartDuration:3e3,waitDuration:0};if("forwardMoveAndStopandMove"===(n=this._checkAndGetActualParams(n)).name){this._setAnimationCSS(),e.pizzabtn.stop(!0,!0),"right"===n.side?e.pizzabtn.css("left",t("body").innerWidth()-e.params.ButtonSize.W):e.pizzabtn.css("left",0);var i=t("body").innerWidth()*n.stopWidth-e.params.ButtonSize.W/2;"right"===n.side&&(i=t("body").innerWidth()*(1-n.stopWidth+e.params.ButtonSize.W/2));var a=this;setTimeout(function(){a.probtnIframeEvent("probtn_forwardMoveAndStopandMove_firstPart_start"),e.pizzabtn.animate({left:i},{duration:n.firstPartDuration,complete:function(){a.probtnIframeEvent("probtn_forwardMoveAndStopandMove_firstPart_stop",e.pizzabtn.position()),setTimeout(function(){a.probtnIframeEvent("probtn_forwardMoveAndStopandMove_secondPart_start");var i=t("body").innerWidth()-e.params.ButtonSize.W;"right"===n.side&&(i=0),e.pizzabtn.animate({left:i},{duration:n.secondPartDuration,complete:function(){a.probtnIframeEvent("probtn_forwardMoveAndStopandMove_secondPart_stop",e.pizzabtn.position())},done:function(){}})},n.stopDuration)},done:function(){}})},n.waitDuration)}},checkAndRunAnimation:function(){setTimeout(function(){e.additionalButtonFunctions.animation.cornerToCornerAnimation(),e.additionalButtonFunctions.animation.rolloutAnimation(),e.additionalButtonFunctions.animation.lookoutAnimation(),e.additionalButtonFunctions.animation.lookoutAndOutAnimation(),e.additionalButtonFunctions.animation.forwardAndBackAnimation(),e.additionalButtonFunctions.animation.forwardAndStopAnimation(),e.additionalButtonFunctions.animation.TopToBottomAndStopAnimation(),e.additionalButtonFunctions.animation.forwardStopAndAwayAnimation(),e.additionalButtonFunctions.animation.opacityAnimation(e.params.isAnimation),e.additionalButtonFunctions.animation.pathAnimation(e.params.isAnimation),e.additionalButtonFunctions.animation.ToCenterAnimation(e.params.isAnimation),e.additionalButtonFunctions.animation.resizeAnimation(),e.additionalButtonFunctions.animation.forwardMoveAndStopAndMoveAnimation()},400)},getRotationCss:function(t,n){return null===n&&void 0===n&&(n="50% 50%"),{transform:"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-webkit-transform-origin":n,"-moz-transform-origin":n,"-ms-transform-origin":n,"-o-transform-origin":n,"transform-origin":n}},doneAnimation:function(){e.pizzabtn.css(e.additionalButtonFunctions.animation.getRotationCss(0)),e.additionalButtonFunctions.animation.animationRuning=!1,""!==e.params.ButtonAnimationDoneImage&&void 0!==e.params.ButtonAnimationDoneImage&&(e.params.ButtonImage=e.params.ButtonAnimationDoneImage,t("#pizzabtnImg",e.pizzabtn).attr("src",e.params.ButtonAnimationDoneImage)),e.additionalButtonFunctions.MinimizeWrapper()}},getCurrentActiveArea:function(t){if((null!==e.params.ActiveZones||e.params.ActiveZones.length>0)&&"button_and_active_zones"===e.params.ButtonType){for(var n=0;n<e.params.ActiveZones.length;n++){var i=e.params.ActiveZones[n];if(i.Name===t)return i}return null}return null},randomString:function(t){return Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)},isLandscape:function(){return e.additionalButtonFunctions.getWindowWidth()>e.additionalButtonFunctions.getWindowHeight()},getFancyboxMargins:function(){var t=[70,70,70,70];(e.params.ContentInsets.T<0||e.params.ContentInsets.B<0||e.params.ContentInsets.L<0||e.params.ContentInsets.R<0)&&!0===e.params.isManualSize?(t=e.additionalButtonFunctions.isLandscape()&&e.userData.mobile?[e.params.ButtonSize.H/4,e.params.ButtonSize.H/4+5,e.params.ButtonSize.H/4,e.params.ButtonSize.H/4+5]:[e.params.ButtonSize.H+5,e.params.ButtonSize.H/2,e.params.ButtonSize.H+5,e.params.ButtonSize.H/2],e.userData.mobile&&e.params.ButtonSize.H>70?t=[e.params.ButtonSize.H/8,e.params.ButtonSize.H/8,e.params.ButtonSize.H/8,e.params.ButtonSize.H/8]:e.params.ButtonSize.H>70&&(t=[70,70,70,70])):t=[e.params.ContentInsets.T,e.params.ContentInsets.R,e.params.ContentInsets.B,e.params.ContentInsets.L];return t},setIfameSizes:function(){e.userData.mobile&&(t(".fancybox-iframe").first().css("margin-bottom","-5000px"),t(".fancybox-iframe").css("margin-bottom","-5000px")),0!==e.params.iframeScaleMinWidth&&e.params.iframeScaleMinWidth>t(".fancybox-inner").first().width()&&(e.params.iframeScale=t(".fancybox-inner").first().width()/e.params.iframeScaleMinWidth,t(".fancybox-iframe").first().css("margin-bottom","-5000px"),t(".fancybox-iframe").css("margin-bottom","-5000px"));var n=function(n){t(".fancybox-iframe").first().css("transform","scale("+n+")"),t(".fancybox-iframe").first().css("-moz-transform","scale("+n+")"),t(".fancybox-iframe").first().css("-webkit-transform","scale("+n+")"),t(".fancybox-iframe").first().css("-o-transform","scale("+n+")"),t(".fancybox-iframe").first().css("-ms-transform","scale("+n+")"),t(".fancybox-iframe").first().css("transform-origin","top left"),t(".fancybox-iframe").first().css("-webkit-transform-origin","top left"),t(".fancybox-iframe").first().css("-moz-transform-origin","top left"),t(".fancybox-iframe").first().width(t(".fancybox-inner").first().width()/n),t(".fancybox-iframe").first().height(t(".fancybox-inner").first().height()/n)};if(1!==e.params.iframeScale)n(e.params.iframeScale);else switch(e.parsed_ua.ua_device_type){case"mobile":1!==e.params.iframeScaleMobile&&void 0!==e.params.iframeScaleMobile&&null!==e.params.iframeScaleMobile&&n(e.params.iframeScaleMobile);break;case"tablet":1!==e.params.iframeScaleTablet&&void 0!==e.params.iframeScaleTablet&&null!==e.params.iframeScaleTablet&&n(e.params.iframeScaleTablet);break;default:1!==e.params.iframeScaleDesktop&&void 0!==e.params.iframeScaleDesktop&&null!==e.params.iframeScaleDesktop&&n(e.params.iframeScaleDesktop)}},toExpanseView:function(){var n=null,i=null,a=null,o=null;null!==e.params.ExpansionVideoData&&void 0!==e.params.ExpansionVideoData&&""!==e.params.ExpansionVideoData&&(null!==e.params.ExpansionVideoData.marginLeft&&void 0!==e.params.ExpansionVideoData.marginLeft&&""!==e.params.ExpansionVideoData.marginLeft&&(a=e.params.ExpansionVideoData.marginLeft),null!==e.params.ExpansionVideoData.marginRight&&void 0!==e.params.ExpansionVideoData.marginRight&&""!==e.params.ExpansionVideoData.marginRight&&(o=e.params.ExpansionVideoData.marginRight),null!==e.params.ExpansionVideoData.width&&void 0!==e.params.ExpansionVideoData.width&&""!==e.params.ExpansionVideoData.width&&(n=e.params.ExpansionVideoData.width,null===a&&(a=null===o?0:e.additionalButtonFunctions.getWindowWidth()-n-o)),null!==e.params.ExpansionVideoData.height&&void 0!==e.params.ExpansionVideoData.height&&""!==e.params.ExpansionVideoData.height&&(i=e.params.ExpansionVideoData.height,marginTop=(e.additionalButtonFunctions.getWindowHeight()-i)/2)),null===n&&(null===a&&(a=0),null===o&&(o=0),n=100*(0-(n=e.additionalButtonFunctions.getWindowWidth()-a-o)/e.additionalButtonFunctions.getWindowWidth())),null===i&&(i=100*(0-(i=e.additionalButtonFunctions.getWindowHeight()-20)/e.additionalButtonFunctions.getWindowHeight()),"expansion_video"===e.params.ButtonType&&(i=.5625));t("head").append("<style type='text/css'> #pizzabtnImg { margin: 0px !important; } </style>"),t("body").addClass("probtn_disable_scroll");var s=e.params.ButtonSize.Initial;e.params.ButtonSize.BeforeClick=s;var r={};r.x=e.pizzabtn.css("left"),r.y=e.pizzabtn.css("top"),e.params.ButtonPosition.BeforeClick=r,console.log("tt",r),e.params.ButtonSize.W=n,e.params.ButtonSize.H=i,e.pizzabtn.css("left",a),e.params.ButtonSize.Initial=e.params.ButtonSize,e.additionalButtonFunctions.resizeButton(e.params.ButtonSize),e.isExpansed=!0,e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_button_expanded",size:e.params.ButtonSize})},fromExpanseToNormalView:function(){var t=e.params.ButtonSize.BeforeClick;e.params.ButtonSize=t;var n=e.params.ButtonPosition.BeforeClick;e.pizzabtn.css("left",n.x),e.pizzabtn.css("top",n.y),e.additionalButtonFunctions.resizeButton(e.params.ButtonSize),e.isExpansed=!1,e.additionalButtonFunctions.sendMessageToCreative({message:"probtn_button_minimized_to_normal",size:e.params.ButtonSize})}}}).statistics.callSuperPixelExt("StartButton");var i=function(){e.statistics.callSuperPixelExt("allButtonInitStart_"+e.allButtonInit),!1===e.allButtonInit&&(e.allButtonInit=!0,e.contentTime.startTimer("ButtonFromInitDuration"),e.initFunctions.initButtonAndUserDeviceInfo())},a=function(){e.userDataFunction(function(){window.probtn_ButtonContentType=null,e.HpmdFunctions.probtnHpmdTrack(1),"complete"===document.readyState&&(e.statistics.callSuperPixelExt("Init_document_readyState_complete"),i()),t(window).bind("load",function(){e.statistics.callSuperPixelExt("Init_load"),e.params.Debug&&console.log("windows bind load"),i()}),e.HpmdFunctions.probtnHpmdTrack(1),setTimeout(function(){e.statistics.callSuperPixelExt("Init_timeout"),e.params.Debug&&console.log("setTimeout"),i()},2e3)})};try{var o=function(){var n={};try{if(t("#probtn_additional_params").length>0){var i=t("#probtn_additional_params").text();i=JSON.parse(i),console.log("options",n),n=t.extend(!0,{},i,n)}}catch(t){e.params.Debug&&console.log(t)}return n}(),s=e.atlasPath;!1===o.CookieEnabled?void 0!==DeviceAtlas?a():(DeviceAtlas={cookieName:"DAPROPS",cookieExpiryDays:-1},void 0!==o.atlasPath&&(s=o.atlasPath),console.log("newAtlasPath",o),""!==s?(console.log("atlasPath1"),t.getScript(s,a)):(console.log("atlasPath2"),a())):a()}catch(t){console.log("ex deviceatlas",t),a()}}}(jQuery);