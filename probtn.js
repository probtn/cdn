var DeviceAtlas=void 0;function probtn_callPlayer(t,n,e){var i;null==n&&(n="playVideo");var a=window.JSON.stringify({event:"command",func:n});try{i=document.getElementById(t),console.log("probtn_callPlayer",t,n,e),i.contentWindow.postMessage(a,"https://www.youtube.com")}catch(t){console.log(t)}}function probtn_initTrackingLinkTest(){try{document.domain.replace("www.","");try{var t=document.getElementById("probtn_additional_params");if(null!==t){var n=JSON.parse(t.innerHTML);void 0!==n.domain&&n.domain}}catch(t){console.log(t)}}catch(t){}}probtn_initTrackingLinkTest(),function(A){!function(a,p){"use strict";var u="function",m="object",t="model",n="name",e="type",i="vendor",o="version",s="architecture",r="console",c="mobile",d="tablet",l="smarttv",g="wearable",h={extend:function(t,n){var e={};for(var i in t)n[i]&&n[i].length%2==0?e[i]=n[i].concat(t[i]):e[i]=t[i];return e},has:function(t,n){return"string"==typeof t&&-1!==n.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:p},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(t,n){for(var e,i,a,o,s,r,c=0;c<n.length&&!s;){var d=n[c],l=n[c+1];for(e=i=0;e<d.length&&!s;)if(s=d[e++].exec(t))for(a=0;a<l.length;a++)r=s[++i],typeof(o=l[a])==m&&0<o.length?2==o.length?typeof o[1]==u?this[o[0]]=o[1].call(this,r):this[o[0]]=o[1]:3==o.length?typeof o[1]!=u||o[1].exec&&o[1].test?this[o[0]]=r?r.replace(o[1],o[2]):p:this[o[0]]=r?o[1].call(this,r,o[2]):p:4==o.length&&(this[o[0]]=r?o[3].call(this,r.replace(o[1],o[2])):p):this[o]=r||p;c+=2}},str:function(t,n){for(var e in n)if(typeof n[e]==m&&0<n[e].length){for(var i=0;i<n[e].length;i++)if(h.has(n[e][i],t))return"?"===e?p:e}else if(h.has(n[e],t))return"?"===e?p:e;return t}},b={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,o],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],o],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],o],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[n,o],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],o],[/(edge)\/((\d+)?[\w\.]+)/i],[n,o],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],o],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],o],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],o],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],o],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],o],[/(QQ)\/([\d\.]+)/i],[n,o],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,o],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[o,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[o,[n,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[o,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],o],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],o],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[o,[n,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,o],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],o],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],o],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],o],[/fxios\/([\w\.-]+)/i],[o,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[o,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[o,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[o,f.str,b.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[n,o],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],o],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,o]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[s,/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[s,h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[t,i,[e,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[i,"Apple"],[e,d]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[i,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[i,t,[e,d]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[t,[i,"Amazon"],[e,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[t,f.str,b.device.amazon.model],[i,"Amazon"],[e,c]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,i,[e,c]],[/\((ip[honed|\s\w*]+);/i],[t,[i,"Apple"],[e,c]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[i,t,[e,c]],[/\(bb10;\s(\w+)/i],[t,[i,"BlackBerry"],[e,c]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[t,[i,"Asus"],[e,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[i,"Sony"],[t,"Xperia Tablet"],[e,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[t,[i,"Sony"],[e,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[i,t,[e,r]],[/android.+;\s(shield)\sbuild/i],[t,[i,"Nvidia"],[e,r]],[/(playstation\s[34portablevi]+)/i],[t,[i,"Sony"],[e,r]],[/(sprint\s(\w+))/i],[[i,f.str,b.device.sprint.vendor],[t,f.str,b.device.sprint.model],[e,c]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[i,t,[e,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[i,[t,/_/g," "],[e,c]],[/(nexus\s9)/i],[t,[i,"HTC"],[e,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[i,"Huawei"],[e,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[i,t,[e,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[i,"Microsoft"],[e,r]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[i,"Microsoft"],[e,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[i,"Motorola"],[e,c]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[i,"Motorola"],[e,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[i,h.trim],[t,h.trim],[e,l]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[i,"Samsung"],[e,l]],[/\(dtv[\);].+(aquos)/i],[t,[i,"Sharp"],[e,l]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[i,"Samsung"],t,[e,d]],[/smart-tv.+(samsung)/i],[i,[e,l],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[i,"Samsung"],t,[e,c]],[/sie-(\w+)*/i],[t,[i,"Siemens"],[e,c]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[i,"Nokia"],t,[e,c]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[t,[i,"Acer"],[e,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[i,"LG"],[e,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[i,"LG"],t,[e,d]],[/(lg) netcast\.tv/i],[i,t,[e,l]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[i,"LG"],[e,c]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[i,"Lenovo"],[e,d]],[/linux;.+((jolla));/i],[i,t,[e,c]],[/((pebble))app\/[\d\.]+\s/i],[i,t,[e,g]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[i,t,[e,c]],[/crkey/i],[[t,"Chromecast"],[i,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[i,"Google"],[e,g]],[/android.+;\s(pixel c)\s/i],[t,[i,"Google"],[e,d]],[/android.+;\s(pixel xl|pixel)\s/i],[t,[i,"Google"],[e,c]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[t,/_/g," "],[i,"Xiaomi"],[e,c]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[t,/_/g," "],[i,"Xiaomi"],[e,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[i,"Meizu"],[e,d]],[/android.+a000(1)\s+build/i],[t,[i,"OnePlus"],[e,c]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[i,"RCA"],[e,d]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[t,[i,"Dell"],[e,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[i,"Verizon"],[e,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[i,"Barnes & Noble"],t,[e,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[i,"NuVision"],[e,d]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[i,"ZTE"],t,[e,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[i,"Swiss"],[e,c]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[i,"Swiss"],[e,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[i,"Zeki"],[e,d]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[i,"Dragon Touch"],t,[e,d]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[t,[i,"Insignia"],[e,d]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[t,[i,"NextBook"],[e,d]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[i,"Voice"],t,[e,c]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[i,"LvTel"],t,[e,c]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[i,"Envizen"],[e,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[i,t,[e,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[i,"MachSpeed"],[e,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[i,t,[e,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[i,"Rotor"],[e,d]],[/android.+(KS(.+))\s+build/i],[t,[i,"Amazon"],[e,d]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[i,t,[e,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[e,h.lowerize],i,t],[/(android.+)[;\/].+build/i],[t,[i,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[o,[n,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,o],[/rv\:([\w\.]+).*(gecko)/i],[o,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,o],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[o,f.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[o,f.str,b.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],o],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[n,o],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[n,"Symbian"],o],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],o],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[n,o],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],o],[/(sunos)\s?([\w\.]+\d)*/i],[[n,"Solaris"],o],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[n,o],[/(haiku)\s(\w+)/i],[n,o],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[o,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[o,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[n,o]]},w=function(t,n){if("object"==typeof t&&(n=t,t=p),!(this instanceof w))return new w(t,n).getResult();var e=t||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),i=n?h.extend(v,n):v;return this.getBrowser=function(){var t={name:p,version:p};return f.rgx.call(t,e,i.browser),t.major=h.major(t.version),t},this.getCPU=function(){var t={architecture:p};return f.rgx.call(t,e,i.cpu),t},this.getDevice=function(){var t={vendor:p,model:p,type:p};return f.rgx.call(t,e,i.device),t},this.getEngine=function(){var t={name:p,version:p};return f.rgx.call(t,e,i.engine),t},this.getOS=function(){var t={name:p,version:p};return f.rgx.call(t,e,i.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return e},this.setUA=function(t){return e=t,this},this};w.VERSION="0.7.17",w.BROWSER={NAME:n,MAJOR:"major",VERSION:o},w.CPU={ARCHITECTURE:s},w.DEVICE={MODEL:t,VENDOR:i,TYPE:e,CONSOLE:r,MOBILE:c,SMARTTV:l,TABLET:d,WEARABLE:g,EMBEDDED:"embedded"},w.ENGINE={NAME:n,VERSION:o},w.OS={NAME:n,VERSION:o},a.UAParser=w;var B=a&&(a.jQuery||a.Zepto);if(void 0!==B){var S=new w;B.ua=S.getResult(),B.ua.get=function(){return S.getUA()},B.ua.set=function(t){S.setUA(t);var n=S.getResult();for(var e in n)B.ua[e]=n[e]}}}("object"==typeof window?window:this),A.fn.StartButton=function(s){var I;String.prototype.ProBtnHashCode=function(){var t=0,n=0;if(0===this.length)return t;for(n=0,l=this.length;n<l;n++)t=(t<<5)-t+this.charCodeAt(n),t|=0;return t},(I={guidCookieControlPath:"https://cdn.viewst.com/cookie_iframe/cookie-iframe.html",uaParserPath:"https://cdn.viewst.com/libs/ua-parser.js",atlasPath:"https://cdn.viewst.com/libs/atlas.js",currentDomain:document.domain.replace("www.",""),realDomain:document.domain.replace("www.",""),initializedActiveZones:{},mainVersion:"1.40.1814_02112017_dev",DeviceCID_log:"none",hintText:void 0,pizzabtn:void 0,pizzabtnImg:void 0,wrapper:void 0,additionalItemsContainer:void 0,closebutton:void 0,closeButtonClicked:!1,overlaped:!1,isExpansed:!1,buttonMainParams:{isEmpty:!0,hidden:!1},loadedStatus:{postscribe:!1},closed:!1,once_moved:!1,onButtonTapCountCheck:0,onButtonTap:function(t,u,m){if(!I.closeButtonClicked){if(I.params.VASTbutton){var n=I.vastFunctions.onClickCheck();console.log("vastClick",n),n&&(t=n,I.params.ContentURL=n,I.params.OpenExternal=!0)}I.params.Debug&&console.log("onButtonTap"),window.probtn_button_tap=!0;var e=I.params.isAnimation.split("_");if((e[0].toLowerCase()==="lookoutAndOut".toLowerCase()||e[0].toLowerCase()==="forwardAndStop".toLowerCase())&&(e[0].toLowerCase()==="forwardAndStop".toLowerCase()&&I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_forwardAndStop_stop",data:I.pizzabtn.position()}),A.fancybox.isOpen))return I.additionalButtonFunctions.hideAll(),void A.fancybox.close();try{void 0!==I.lookOutTimeout&&(I.pizzabtn.stop(!0,!1),clearTimeout(I.lookOutTimeout)),void 0!==I.lookOutTimeout2&&(I.pizzabtn.stop(!0,!1),clearTimeout(I.lookOutTimeout2))}catch(t){console.log(t)}if(!1!==I.params.MainButtonClickable||"menu"===I.params.ButtonType||(I.params.Debug&&console.log("ProBtnControl.params.ActiveZoneMainButtonClickEnabled "+I.params.MainButtonClickable),""!==u&&null!=u)){if(null!=t&&""!==t||(t=I.params.ContentURL),"button_and_scroll_zones"===I.params.ButtonType&&(""!==I.params.currentContentURL&&null!==I.params.currentContentURL&&void 0!==I.params.currentContentURL&&(t=I.params.currentContentURL),""!==I.params.currentButtonContentType&&null!==I.params.currentButtonContentType&&void 0!==I.params.currentButtonContentType&&(m=I.params.currentButtonContentType),u=I.params.currentAreaName),""!==u&&null!=u&&(I.params.currentAreaName=u),t=I.additionalButtonFunctions.replaceRandom(t),t=I.additionalButtonFunctions.replaceDeviceUID(t),t=I.additionalButtonFunctions.replaceDeviceCUID(t),t=I.additionalButtonFunctions.getContentUrlWithUtm(t),null!=m&&""!==m);else if(m=I.params.ButtonContentType,"menu"===I.params.ButtonType){if(!(0<A("#probtn_menu_ul").length))return void I.initFunctions.initFloatingMenu();I.initFunctions.initRemoveMenu()}if("js"!=I.params.ButtonType){if(("expansionButton"===I.params.ButtonType||"expansion_video"===I.params.ButtonType)&&-1<I.onButtonTapCountCheck)return I.onButtonTapCountCheck++,I.pizzabtn.stop(!0,!0),I.contentTime.intervalId.ExpansionVideoTimer&&clearInterval(I.contentTime.intervalId.ExpansionVideoTimer),I.isExpansed?I.additionalButtonFunctions.fromExpanseToNormalView():I.additionalButtonFunctions.toExpanseView(),A(".fancybox-wrap").fadeIn(),A(".fancybox-overlay").fadeIn(),void("expansion_video"!==I.params.ButtonType&&I.onButtonTap(I.params.ContentURL,"expansionButton","iframe"));if("iframe"===m&&(I.additionalButtonFunctions.sendMessageToParent("probtn_onbuttontap"),"https:"===window.location.protocol&&"http:"===t.split("/")[0]&&(console.log("detected protocols mismatch"),m="anchor_external")),I.contentTime.startTimer(),I.HpmdFunctions.expandHpmdTrack(),I.additionalButtonFunctions.animation.animationRuning&&I.additionalButtonFunctions.animation.doneAnimation(),I.params.dfp.isDFP)try{""!==I.params.dfp.clickUrlEsc&&A.get(I.params.dfp.clickUrlEsc,function(t){})}catch(t){I.params.Debug&&console.log(t)}if("menu"!==I.params.ButtonType){if(I.params.ClickCounterLink&&""!==I.params.ClickCounterLink)try{I.statistics.createClickCounterImage(I.params.ClickCounterLink)}catch(t){I.params.Debug&&console.log(t)}I.statistics.callSuperPixelExt("ClickCounterLink")}I.additionalButtonFunctions.MaximizeWrapper(function(){});var i=I.additionalButtonFunctions.isLandscape()&&I.userData.mobile,a=I.pizzabtn.position(),o=a.top,s=a.left,r=I.additionalButtonFunctions.getWindowWidth(),c=I.additionalButtonFunctions.getWindowHeight(),d="0px",l="0px",p=(r+I.params.ButtonSize.W)/2;(c+I.params.ButtonSize.H)/2<=o&&(d=c-I.params.ButtonSize.H+"px"),p<=s&&(l=r-I.params.ButtonSize.W+"px");var g=I.additionalButtonFunctions.getFancyboxMargins(),h={property:i?"left":"top",currentValue:i?s:o,finishValue:i?l:d},f=0,b=0;try{void 0!==A("#probtn_button").offset()&&(f=A("#probtn_button").offset().left,b=A("#probtn_button").offset().top)}catch(t){console.log(t)}if(A.pep.toggleAll(!1),"youtube"==I.params.ButtonContentType)return I.statistics.SendStatisticsData("ContentShowed",1),probtn_callPlayer("video_probtn"),A("#youtube_fullscreen").show(),A("#fullscreen_probtn").show(),I.additionalButtonFunctions.youtubeModalWindowSizes(),I.contentTime.startTimer(),I.HpmdFunctions.expandHpmdTrack(),I.additionalButtonFunctions.onOrientationChange(null),void probtn_callPlayer("video_probtn");var v=!1,w={href:t,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",type:"iframe",parent:I.params.ButtonInjectPath,autoCenter:!0,titlePosition:"inside",scrolling:"yes",margin:g,scrollOutside:!0,speedIn:0,openSpeed:100,closeMethod:I.params.FancyboxcloseMethod,closeSpeed:I.params.FancyboxCloseSpeed,speedOut:0,openOpacity:!1,padding:"0px",height:"100%",minWidth:100,minHeight:100,autoHeight:!1,autoWidht:!1,autoResize:!1,autoSize:!1,iframe:{sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",preload:!1,scrolling:"yes"},helpers:{overlay:{locked:!0,speedIn:0,speedOut:0,showEarly:!0},title:{type:"inside"}},beforeLoad:function(){I.hintText.hide(),A(".fancybox-iframe").first().attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");try{var t=I.params.isAnimation.split("_"),n=I.params.isAnimation.split("_"),e="";try{null!==n[3]&&void 0!==n[3]&&(e=n[3].toLowerCase())}catch(t){}"lookoutAndOut"===t[0]&&"noAuto"!==t[4]||"openmodal"===e||(I.pizzabtn.css(h.property,h.finishValue),"top"==h.property?I.pizzabtn.css("left",f+"px"):I.pizzabtn.css("top",b+"px"))}catch(t){console.log(t)}"iOS"===I.userData.os&&A(document.body).bind("touchmove",function(t){t.preventDefault(),t.stopPropagation(),t.returnValue=!1}),A("html").css("overflow","hidden")},beforeShow:function(){},afterShow:function(){var t=I.wrapper,n={width:I.additionalButtonFunctions.getWindowWidth(),height:I.additionalButtonFunctions.getWindowHeight(),position:"fixed"};t.css(n),A(".fancybox-iframe").first().attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");try{A(".fancybox-iframe").first().contents().find("html").css("visibility","visible !important")}catch(t){}var e=A(".fancybox-iframe").first().attr("id");I.additionalButtonFunctions.setIfameSizes(),I.pizzabtn.bind("click",A.fancybox.close);var i=0;try{var a=I.params.isAnimation.split("_");if("lookoutAndOut"===a[0]){I.additionalButtonFunctions.MaximizeWrapper();var o="left";void 0!==a[1]&&(o=a[1]);var s=0,r=0;if(void 0!==a[3]&&(s=a[3]),void 0!==a[4]&&(r=a[4]),"right"===o){i=A(".fancybox-wrap").position().left+A(".fancybox-wrap").width()-I.params.ButtonSize.W/2;I.pizzabtn.css("transition","0s !important"),I.pizzabtn.stop(!0,!1),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start"}),I.pizzabtn.animate({left:parseFloat(i)+parseFloat(r),top:parseFloat(A(".fancybox-wrap").position().top)+parseFloat(s)},3e3,function(){setTimeout(I.additionalButtonFunctions.MinimizeWrapper(),100),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop"})})}else{I.pizzabtn.stop(!0,!1);var c=A(".fancybox-wrap").position().left-I.params.ButtonSize.W/2;I.pizzabtn.animate({left:parseFloat(c)+parseFloat(r),top:parseFloat(A(".fancybox-wrap").position().top)+parseFloat(s)},3e3,function(){setTimeout(I.additionalButtonFunctions.MinimizeWrapper(),100)})}}var d=I.params.isAnimation.split("_"),l="";try{null!==d[3]&&void 0!==d[3]&&(l=d[3].toLowerCase())}catch(t){}"openmodal"===l&&(I.additionalButtonFunctions.MaximizeWrapper(),i=A(".fancybox-wrap").position().left+A(".fancybox-wrap").width()-I.params.ButtonSize.W/2,I.pizzabtn.css("transition","0s !important"),I.pizzabtn.stop(!0,!1),I.pizzabtn.animate({top:parseFloat(A(".fancybox-wrap").position().top+A(".fancybox-wrap").height())},3e3,function(){setTimeout(I.additionalButtonFunctions.MinimizeWrapper(),100)}))}catch(t){console.log(t)}if(function(){if("video"===m||"video_and_iframe"===m){I.additionalButtonFunctions.onOrientationChange(null);try{var a;if(null!=u)try{(a=A("#video_probtn_"+u).get(0)).play()}catch(t){console.log("video error1",t)}else(a=A("#video_probtn").get(0)).play()}catch(t){I.params.Debug&&console.log(t)}finally{if(A(a).on("pause",function(){var t=a.currentTime.toFixed(2);I.statistics.SendStatisticsData("VideoPaused",t)}),A(a).on("playing",function(){var t=a.currentTime.toFixed(2);I.statistics.SendStatisticsData("VideoStarted",t)}),A(a).on("seeked",function(){var t=a.currentTime.toFixed(2);I.statistics.SendStatisticsData("VideoSeeked",t)}),"video_and_iframe"===m){var t="#video_item",n="#skip_video_btn";null!=u&&(t="#video_item_"+u,n="#skip_video_btn_"+u),A(a).on("ended",function(){A(t).remove(),A(n).remove()})}null===I.params.VideoPixels&&void 0===I.params.VideoPixels&&""===I.params.VideoPixels&&(I.params.VideoPixels=[]);var e=I.params.VideoPixels;I.params.VideoPixels=A("<div/>").html(e).text();var i=[];try{i=JSON.parse(I.params.VideoPixels)}catch(t){i=[]}function o(t){return t.forEach(function(t){(1<t.StartPosition||t.StartPosition<0||1<t.EndPosition||t.EndPosition<0)&&(s=!1),t.StartPosition=t.StartPosition*a.duration,t.EndPosition=t.EndPosition*a.duration}),t}var s=!0,r=[{StartPosition:0,EndPosition:.05},{StartPosition:.25,EndPosition:.5},{StartPosition:.5,EndPosition:.75},{StartPosition:.75,EndPosition:.95},{StartPosition:.95,EndPosition:1}];if(!s)return;var c=null,d=null,l=null,p=!1;A(a).on("timeupdate",function(){p||(i=o(i),r=o(r),p=!0);function t(e,t,i){t.forEach(function(t,n){a.currentTime>t.StartPosition&&a.currentTime<t.EndPosition&&e!==n&&i(t,n)})}if(t(d,r,function(t,n){try{I.statistics.SendStatObject({VideoPart:n,VideoFullDuration:a.duration.toFixed(2)}),d=n}catch(t){console.log(t)}}),t(c,i,function(t,n){try{I.statistics.SendStatisticsData("performedAction","videoPixel_"+n+"_from("+t.StartPosition.toFixed(2)+")_to("+t.EndPosition.toFixed(2)+")"),I.statistics.createClickCounterImage(t.TrackingLink)}catch(t){console.log(t)}c=n}),null!==I.params.VideoFooterButton&&void 0!==I.params.VideoFooterButton&&""!==I.params.VideoFooterButton){I.params.VideoFooterButton.forEach(function(t){!function(t){var n=t.startTime,e=t.stopTime;void 0===e&&(e=a.duration);var i=t.id;a.currentTime>n&&a.currentTime<e?null===l&&(A("#"+i).css("display","block"),l=i,console.log(i,"start")):l===i&&(A("#"+i).css("display","none"),l=null,console.log(i,"stop"))}(t)})}}),A(".fancybox-wrap").on("close",function(){})}}}(),!1===v&&(v=!0,A("#"+e).is("iframe")))try{var p=document.getElementById(e);null!==p.contentWindow&&(v=!0,p.contentWindow.postMessage({message:"iframe_showed_and_loaded"},"*"))}catch(t){}},afterClose:function(){if(A("body").removeClass("probtn_disable_scroll"),"video"===m)try{var t;null!=u?(t=A("#video_probtn_"+u).get(0)).pause():(t=A("#video_probtn").get(0)).pause()}catch(t){}finally{var n=t.currentTime.toFixed(2);I.statistics.SendStatisticsData("VideoClosed",n)}"menu"!==I.params.ButtonType&&I.additionalButtonFunctions.MinimizeWrapper(function(){},I.params.MinimizeWrapperTime),"iOS"===I.userData.os&&A(document.body).unbind("touchmove"),A("html").css("overflow","auto"),I.pizzabtn.unbind("click"),A.pep.toggleAll(!0),I.additionalButtonFunctions.closeAfterOrientationChange?(I.pizzabtn.center(),I.additionalButtonFunctions.closeAfterOrientationChange=!1):I.pizzabtn.css(h.property,h.currentValue+"px"),!0===I.params.HideAfterFirstShow&&I.additionalButtonFunctions.hideAll(),"lookoutAndOut"===e[0]&&I.additionalButtonFunctions.hideAll(),I.contentTime.endTimer(),I.HpmdFunctions.closeHpmdTrack()},onUpdate:function(){I.additionalButtonFunctions.onOrientationChange(null)}};if(w.type=I.params.FancyboxType,"video"===m||"video_and_iframe"===m){w.type="inline";try{var B;if(null!=u)null===(B=document.getElementById("video_and_iframe_item_"+u))&&(B="#video_item_"+u),w.href=B,console.log("fancyboxParams.href",w.href);else"video"===m&&(B="#video_item"),"video_and_iframe"===m&&(B="#video_and_iframe_item"),w.href=B}catch(t){}}var S="";""!==(S=!0===I.params.Debug?I.params.VendorText+" "+I.mainVersion:I.params.VendorText)&&" "!==S&&!0===I.params.ButtonEnabled&&!0===I.params.ButtonVisible&&(w.title=I.additionalButtonFunctions.getTitleTextForModalWindow(),w.titleShow=!0),!0===I.params.IsManualSize?(w.width=I.params.ContentSize.X,w.height=I.params.ContentSize.Y,-1!==I.params.ContentSize.X.indexOf("%")?w.width=I.additionalButtonFunctions.getWindowWidth()*(parseFloat(I.params.ContentSize.X)/100):w.width=I.params.ContentSize.X,-1!==I.params.ContentSize.Y.indexOf("-")?(w.height=w.width*Math.abs(I.params.ContentSize.H),w.height>I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height()&&(w.height=I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height(),w.width=w.height/Math.abs(I.params.ContentSize.H))):-1!==I.params.ContentSize.Y.indexOf("%")?w.height=I.additionalButtonFunctions.getWindowHeight()*(parseFloat(I.params.ContentSize.Y)/100):w.height=I.params.ContentSize.Y):(w.width=I.params.ContentSize.W,w.height=I.params.ContentSize.H),0<I.params.MaxWidth&&(w.maxWidth=I.params.MaxWidth),0<I.params.MaxHeight&&(w.maxHeight=I.params.MaxHeight);function y(){!0===I.params.HideAfterFirstShow&&I.additionalButtonFunctions.hideAll()}if(!0===I.params.OpenExternal||"anchor_external"===m){I.statistics.SendStatisticsData("ContentShowed",1),A.pep.toggleAll(!0);window.open(t,"_blank");I.additionalButtonFunctions.MinimizeWrapper(function(){}),y()}else if("anchor"===m)"#"===t.charAt(0)?(I.statistics.SendStatisticsData("ContentShowed",1),A.pep.toggleAll(!0),window.location.hash="",window.location.hash=t,I.additionalButtonFunctions.MinimizeWrapper()):I.statistics.SendStatisticsData("ContentShowed",1,null,function(){A.pep.toggleAll(!0),window.open(t,"_top"),y()});else{if(null!=u)I.statistics.sendAreaActivatedStats(u);else try{var z="";null!==e[3]&&void 0!==e[3]&&(z=e[3].toLowerCase()),"lookoutAndOut"===e[0]||"openmodal"===z.toLowerCase()||I.statistics.SendStatisticsData("ContentShowed",1)}catch(t){I.statistics.SendStatisticsData("ContentShowed",1)}var x=I.wrapper,_={width:I.additionalButtonFunctions.getWindowWidth(),height:I.additionalButtonFunctions.getWindowHeight(),position:"fixed"};x.css(_),A.fancybox.open(w)}}else var C=setInterval(function(){if(I.loadedStatus.postscribe){clearInterval(C);var t=I.additionalButtonFunctions.randomString(12);A("<div/>",{id:t,css:{display:"none"}}).prependTo(I.additionalItemsContainer);postscribe("#"+t,""+I.params.ContentURL)}},100)}else I.params.Debug&&console.log("areaname empty")}},contentTime:{timeValue:{ContentShowedDuration:0,MovedDuration:0,ButtonShowedDuration:0,ButtonFromInitDuration:0},contentOpenedTime:0,movedTime:0,startTimer:function(t){null==t&&(t="ContentShowedDuration"),void 0!==I.contentTime.intervalId[t]&&clearInterval(I.contentTime.intervalId[t]),I.contentTime.timeValue[t]=0,I.contentTime.intervalId[t]=setInterval(function(){I.contentTime.timeValue[t]+=.01},10)},endTimer:function(t){null==t&&(t="ContentShowedDuration"),clearInterval(I.contentTime.intervalId[t]),I.contentTime.intervalId[t]=void 0;function n(){(null!==I.params.ActiveZones||0<I.params.ActiveZones.length)&&"button_and_active_zones"===I.params.ButtonType&&"ContentShowedDuration"===t&&(I.params.currentAreaName="")}if("ContentShowedDuration"===t&&"video"===I.params.ButtonContentType){var e=0;try{e=Math.floor(document.getElementById("video_probtn").duration)}catch(t){}I.statistics.SendStatObject({ContentShowedDuration:I.contentTime.timeValue[t].toFixed(2),VideoFullDuration:e.toFixed(2)},n)}else"MovedDuration"===t?.01<I.contentTime.timeValue[t]&&I.statistics.SendStatisticsData(t,I.contentTime.timeValue[t].toFixed(2),"",n):I.statistics.SendStatisticsData(t,I.contentTime.timeValue[t].toFixed(2),"",n)},intervalId:{ContentShowedDuration:void 0,MovedDuration:void 0}},userData:{},geolocation:{checkPlaces:function(t){for(var n=0;n<I.params.LocationPoints.length;n++){var e=I.params.LocationPoints[n],i=I.geolocation.calculateDistance(I.geolocation.latitude,I.geolocation.longitude,e.lat,e.lon);if(e.rad>=i)return console.log("In radius "+e.name+" "+i,I.geolocation.position,e),void t(!0,e)}t(!1,null)},calculateDistance:function(t,n,e,i){function a(t){return t*Math.PI/180}var o=a(e-t),s=a(i-n),r=(t=a(t),e=a(e),Math.sin(o/2)*Math.sin(o/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(e));return 1e3*(6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))))},checkAndRunGeolocation:function(n){!0===I.params.UseGeoLocation?!0===I.params.WaitForGeoLocation?I.geolocation.getLocation(function(t){I.geolocation.getPosition(t),n()}):(I.geolocation.getLocation(function(t){I.geolocation.getPosition(t)}),n()):n()},getLocation:function(t){t({coords:{longitude:0,latitude:0}})},getPosition:function(t){try{I.params.Debug&&console.log("position",t),I.geolocation.position=t,I.geolocation.longitude=t.coords.longitude,I.geolocation.latitude=t.coords.latitude}catch(t){I.params.Debug&&console.log(t)}},position:{},longitude:0,latitude:0},userDataFunction:function(n){try{var e="Unbekannt",t="",i="",a="";screen.width&&(t+=(i=screen.width?screen.width:"")+" x "+(a=screen.height?screen.height:""));var o,s,r,c=navigator.appVersion,d=navigator.userAgent,l=navigator.appName,p=""+parseFloat(navigator.appVersion),u=parseInt(navigator.appVersion,10);-1!=(s=d.indexOf("Opera"))?(l="Opera",p=d.substring(s+6),-1!=(s=d.indexOf("Version"))&&(p=d.substring(s+8))):-1!=(s=d.indexOf("MSIE"))?(l="Microsoft Internet Explorer",p=d.substring(s+5)):-1!=(s=d.indexOf("Chrome"))?(l="Chrome",p=d.substring(s+7)):-1!=(s=d.indexOf("Safari"))?(l="Safari",p=d.substring(s+7),-1!=(s=d.indexOf("Version"))&&(p=d.substring(s+8))):-1!=(s=d.indexOf("Firefox"))?(l="Firefox",p=d.substring(s+8)):(o=d.lastIndexOf(" ")+1)<(s=d.lastIndexOf("/"))&&(l=d.substring(o,s),p=d.substring(s+1),l.toLowerCase()==l.toUpperCase()&&(l=navigator.appName)),-1!=(r=p.indexOf(";"))&&(p=p.substring(0,r)),-1!=(r=p.indexOf(" "))&&(p=p.substring(0,r)),u=parseInt(""+p,10),isNaN(u)&&(p=""+parseFloat(navigator.appVersion),u=parseInt(navigator.appVersion,10));var m=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(c),g=!!navigator.cookieEnabled,h=e,f=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],b=e;try{for(var v in f){var w=f[v];if(w.r.test(d)){h=w.s;break}}switch(/Windows/.test(h)&&(b=/Windows (.*)/.exec(h)[1],h="Windows"),h){case"Mac OS X":b=/Mac OS X (10[\.\_\d]+)/.exec(d)[1];break;case"Android":b=/Android ([\.\_\d]+)/.exec(d)[1];break;case"iOS":b=(b=/OS (\d+)_(\d+)_?(\d+)?/.exec(c))[1]+"."+b[2]+"."+(0|b[3])}}catch(t){h=e}var B=null!==navigator.userAgent.match(/iPad/i),S="";void 0!==DeviceAtlas&&(S=DeviceAtlas.getPropertiesAsString());var y={screen:t,screenWidth:i,screenHeight:a,browser:l,browserVersion:p,browserMajorVersion:u,mobile:m,os:h,osVersion:b,cookies:g,isiPad:B,retina:1,kbs:0,DAPROPS:S};return I.cookieFunctions.eraseCookie("DAPROPS"),n(I.userData=y),y}catch(t){return void n(void 0)}},XProBtnToken:"b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b",serverUrl:"https://admin.viewst.com",GetDeviceUID:function(){var t="1234";if(null!==I.cookieFunctions.readCookie("probtnId"));else{var n=new Date;t=(n=n.getTime()).toString()+"-"+navigator.userAgent.toString().ProBtnHashCode(),I.cookieFunctions.viewst_opt_out||I.cookieFunctions.createCookie("probtnId",t,365)}return I.cookieFunctions.setHashCookie(),t=I.cookieFunctions.readCookie("probtnId")},DeviceCID:"",cookieFunctions:{viewst_opt_out:!1,sendEraseToCookieIframePage:function(){try{void 0!==document.getElementById("probtn_guidIframe")&&null!==document.getElementById("probtn_guidIframe")&&document.getElementById("probtn_guidIframe").contentWindow.postMessage({command:"eraseAllCookies"},I.guidCookieControlPath)}catch(t){console.log(t)}},eraseAllCookies:function(){return I.cookieFunctions.eraseCookie("probtnCID"),I.cookieFunctions.eraseCookie("probtnId"),I.cookieFunctions.eraseCookie("DAPROPS"),I.cookieFunctions.eraseCookie("hpmd_cd"),I.cookieFunctions.sendEraseToCookieIframePage(),I.additionalButtonFunctions.randomString(12)},getDeviceCID:function(n){try{try{if(0<A("#probtn_additional_params").length){var t=A("#probtn_additional_params").text();null!==(t=JSON.parse(t)).useGuidIframe&&void 0!==t.useGuidIframe&&""!==t.useGuidIframe&&(I.params.useGuidIframe=t.useGuidIframe)}}catch(t){I.params.Debug&&console.log(t)}var e=I.GetDeviceUID();if(!1===I.params.useGuidIframe)return I.DeviceCID=e,void n(e);if(!0===I.params.useGuidIframe)if(!1!==I.params.isServerCommunicationEnabled){var i=!1;setTimeout(function(){i||(console.log("getDeviceCID6_timeout"),i=!0,I.cookieFunctions.eraseAllCookies(),e=I.additionalButtonFunctions.randomString(12),n(e))},11500),window.window.addEventListener("message",function(t){try{void 0!==t.data.type&&null!==t.data.type&&!1===i&&("probtnCID"===t.data.type&&(i=!0,I.statistics.callSuperPixelExt("getDeviceCID6_6"),I.DeviceCID_log=JSON.stringify(t.data),I.cookieFunctions.createCookie("probtnCID",t.data.cid,1),I.DeviceCID=t.data.cid,n(t.data.cid)),"viewst_opt_out"===t.data.type&&(i=!0,I.cookieFunctions.viewst_opt_out=!0,console.log("viewst_opt_out recieved"),n(I.cookieFunctions.eraseAllCookies())))}catch(t){I.statistics.callSuperPixelExt("getDeviceCID6_ex_"+t)}},!1)}else I.statistics.callSuperPixelExt("getDeviceCID7"),n(e);else n(I.cookieFunctions.eraseAllCookies());if(!1!==I.params.isServerCommunicationEnabled)try{I.statistics.callSuperPixelExt("getDeviceCID1"),A("#probtn_guidIframe").remove(),!window.cordova||(I.statistics.callSuperPixelExt("getDeviceCID2"),setTimeout(function(){var t={type:"probtnCID",cid:""};console.log("deviceCUID_item",t),window.top.postMessage(t,"*"),window.postMessage(t,"*")},500)),A("<iframe/>",{id:"probtn_guidIframe",scrolling:"no",seamless:"seamless",src:I.guidCookieControlPath,css:{width:"0px",height:"0px",position:"absolute",top:"-10000px",left:"-10000px"}}).appendTo("body")}catch(t){try{console.log("getDeviceCID4"+t);var a={type:"probtnCID",cid:""};window.top.postMessage(a,"*"),window.postMessage(a,"*")}catch(t){console.log(t)}}}catch(t){n(I.cookieFunctions.eraseAllCookies())}},setHashCookie:function(){for(var t,n=/#\S*=/g,e=window.location.hash;null!==(t=n.exec(e));){if(t.index===n.lastIndex&&n.lastIndex++,"#probtn_deviceid"==t[0].replace("=","")){var i=e.replace(t[0],"");""!==i&&null!=i?I.cookieFunctions.createCookie("probtnId","_NAMED_"+i,365):(I.cookieFunctions.eraseCookie("probtnId"),I.GetDeviceUID())}}},createCookie:function(t,n,e){try{var i=!0;if(void 0!==I.params.CookieEnabled&&(i=JSON.parse(I.params.CookieEnabled)),0<e&&("doubleclick.net"===document.domain||"googlesyndication.com"===document.domain||window.top!==window.self||0==i))I.cookieFunctions.eraseAllCookies();else{var a="";if(e){var o=new Date;o.setTime(o.getTime()+24*e*60*60*1e3),a="; expires="+o.toGMTString()}document.cookie=t+"="+n+a+"; path=/"}}catch(t){console.log(t)}},readCookie:function(t){for(var n=t+"=",e=document.cookie.split(";"),i=0;i<e.length;i++){for(var a=e[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},eraseCookie:function(t){I.cookieFunctions.createCookie(t,"",-1)}},allButtonInit:!1,params:{},HpmdFunctions:{probtnHpmdTrack:function(t){if(I.params.isHPMD)try{void 0===t&&(t=1)}catch(t){}},closeHpmdTrack:function(){if(I.params.isHPMD)try{I.params.hpmd.trackEvent("hpmd.close"),I.params.hpmd.trackEvent("hpmd.time-expanded",{weight:I.contentTime.contentOpenedTime})}catch(t){}},expandHpmdTrack:function(){if(I.params.isHPMD)try{I.params.hpmd.trackEvent("hpmd.expand")}catch(t){I.params.Debug&&console.log(t)}}},randomElements:{probtnId:"probtn_button_"},statistics:{_currentSessionID:null,getCurrentSessionID:function(){return null===this._currentSessionID&&(this._currentSessionID=(new Date).getTime().toString()+navigator.userAgent.toString().ProBtnHashCode()+I.additionalButtonFunctions.randomString(12)),this._currentSessionID},checkAdBlock:function(){try{A.ajax({url:"https://cdn.viewst.com/showads.js",dataType:"javascript",success:function(t){console.log("Success:",t)}}).fail(function(t){0===t.status&&(I.statistics.SendStatisticsData("performedAction","adBlockDetected"),console.log("probtn.js - adBlock detected"))})}catch(t){console.log("ex",t)}},createEventHandler:function(t){try{var n=document.createEvent("Event");n.initEvent("probtn_events",!0,!0),n.data=t,document.dispatchEvent(n)}catch(t){}try{for(var e=window.frames,i=0;i<e.length;i++)e[i].postMessage(t,"*")}catch(t){console.log("frames postMessage error",t)}},prepareObjectForEventHandler:function(t){var n={AZName:"",Statistic:[]};try{if(null!==t&&""!==t&&void 0!==t)for(var e in t)if(t.hasOwnProperty(e)){var i={};i.value=t[e],i.name=e,n.Statistic.push(i)}}catch(t){}return n},callSuperPixel:function(){try{}catch(t){}},callSuperPixelExt:function(t){try{var n=document.getElementById("probtn_additional_params");if(null!==n){var e=JSON.parse(n.innerHTML);void 0!==e.domain&&e.domain}}catch(t){console.log(t)}},createClickCounterImage:function(t,n){try{if(""!==t&&void 0!==t){var e=t;(e=I.additionalButtonFunctions.replaceRandom(t))===t&&t!==I.params.TrackingLink&&(e=I.additionalButtonFunctions.replaceUrlParam(e,"probtn_random",I.additionalButtonFunctions.randomString(12)));var i=I.additionalItemsContainer;null!==I.additionalItemsContainer&&void 0!==I.additionalItemsContainer||(i="body");var a=I.additionalButtonFunctions.randomString(12);null!=n&&(a=n),A("<img/>",{id:"probtn_ClickCounterLink_"+a,src:e,style:"width: 1px; height: 1px; position: absolute; left: -10001px; top: -10001px;"}).prependTo(i)}}catch(t){console.log(t)}},createStatisticsLink:function(t,n,e){null==t&&(t="updateUserStatistic");var i;i=I.GetDeviceUID();var a=I.DeviceCID,o="";null!==I.params.CampaignID&&void 0!==I.params.CampaignID&&(o="&CampaignID="+I.params.CampaignID);var s="";null!==I.params.currentAreaName&&void 0!==I.params.currentAreaName&&""!==I.params.currentAreaName&&(s=I.params.currentAreaName);var r="";null!==document.referrer&&void 0!==document.referrer&&(r=document.referrer);var c=I.contentTime.timeValue.ButtonFromInitDuration.toFixed(2),d=I.statistics.getCurrentSessionID(),l=I.serverUrl+"/1/functions/"+t+"?BundleID="+I.currentDomain+"&DeviceType=web"+o+"&Version="+I.mainVersion+"&AZName="+s+"&log="+I.DeviceCID_log+"&DeviceUID="+i+"&DeviceCUID="+a+"&localDomain="+I.realDomain+n+"X-ProBtn-Token=b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b&Location[Longitude]="+I.geolocation.longitude+"&Location[Latitude]="+I.geolocation.latitude+"&ScreenResolutionX="+I.userData.screenHeight+"&ScreenResolutionY="+I.userData.screenWidth+"&retina="+I.userData.retina+"&ConnectionSpeed="+I.userData.kbs+"&AdditionalTargetingParam="+I.params.AdditionalTargetingParam+"&ButtonFromInitDuration="+c+"&SessionID="+d+"&OriginalReferer="+r+"&DAPROPS="+I.userData.DAPROPS+"CacheBuster="+I.params.CacheBuster+"&callback=?";return null==e?e={additional_params:n}:I.statistics.createEventHandler(e),l},sendAreaActivatedStats:function(t,n){I.params.isServerCommunicationEnabled&&(I.params.currentAreaName=t,A.getJSON(I.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"ContentShowed": "1"}&',{AZName:t,Statistic:[{name:"ContentShowed",value:1}]}),function(){}).always(function(){null!=n&&n()}))},sendScrollAreaShowedStats:function(t,n){A("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage({message:"probtn_page_scrollzone_changed",name:t},"*");I.params.isServerCommunicationEnabled&&(I.params.currentAreaName=t,A.getJSON(I.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"ScrollZoneShowed": "1"}&',{AZName:t,Statistic:[{name:"ScrollZoneShowed",value:1}]}),function(){}).done(function(){}).fail(function(){}).always(function(){null!=n&&n()}))},SendBrowserStatsInfo:function(){try{I.params.isServerCommunicationEnabled&&I.statistics.SendStatisticsDataObject({Resolution:I.userData.screen,Browser:I.userData.browser,BrowserVersion:I.userData.browserVersion,OS:I.userData.os+" "+I.userData.osVersion})}catch(t){I.params.Debug&&console.log(t)}},SendCustomStat:function(t,n){I.params.isServerCommunicationEnabled&&A.getJSON(I.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"'+t+'": "'+n+'"}&',{AZName:areaName,Statistic:[{name:t,value:n}]}),function(){}).always(function(){null!==callback&&void 0!==callback&&callback()})},SendStatisticsData:function(t,n,e,i){if(I.params.isServerCommunicationEnabled){var a;I.GetDeviceUID(),a=I.DeviceCID,""!==t&&null!=t||(t="Opened"),""!==n&&null!=n||(n=1);I.vastFunctions.sendVastMessage(t),""===e||null==e?I.statistics.SendStat(t,n,a,I.currentDomain,i):I.statistics.SendCustomStat(t,n,a,I.currentDomain,i)}},SendStat:function(t,n,e,i,a){if(I.statistics.callSuperPixelExt("SendStat"),I.params.isServerCommunicationEnabled){var o="";null!==I.params.currentAreaName&&void 0!==I.params.currentAreaName&&""!==I.params.currentAreaName&&(o=I.params.currentAreaName),void 0===t&&(t=""),void 0===n&&(n=""),A.getJSON(I.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"'+t+'": "'+n+'"}&',{AZName:o,Statistic:[{name:t,value:n}]}),function(t){}).always(function(){null!=a&&a()})}},SendStatObject:function(t,n){var e=JSON.stringify(t);if((t.Closed||t.Hidded||t.Opened)&&I.vastFunctions.sendVastMessage(Object.keys(t)[0]),I.statistics.callSuperPixelExt("SendStatObject"),I.params.isServerCommunicationEnabled){var i=I.statistics.prepareObjectForEventHandler(t);A.getJSON(I.statistics.createStatisticsLink("updateUserStatistic","&Statistic="+e+"&",i),function(t){I.params.Debug&&console.log(t)}).done(function(){}).fail(function(){}).always(function(){null!=n&&n()})}},SendStatisticsDataObject:function(t,n){if(I.statistics.callSuperPixelExt("SendStatisticsDataObject"),I.params.isServerCommunicationEnabled){var e=I.statistics.prepareObjectForEventHandler(t);A.getJSON(I.statistics.createStatisticsLink("updateCustomStatistic","&Statistic="+JSON.stringify(t)+"&",e),function(t){I.params.Debug&&console.log(t)}).done(function(){}).fail(function(){}).always(function(){null!=n&&n()})}}},videoFunctions:{createVideoItem:function(t,n){var e="video_item",i="video_probtn";if(null!=t&&""!==t&&(e="video_item_"+t,i="video_probtn_"+t),A("#"+e).length<1){var a='<div id="'+e+'" class="probtn_video_wrapper2" style="display: none; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0 auto;"><tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline id="'+i+'" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+n+'" type="video/mp4">Your browser does not support the video tag.</video></td></tr></table></div>';I.additionalItemsContainer.append(a);var o=I.additionalButtonFunctions.getWindowWidth()-30,s=I.additionalButtonFunctions.getWindowHeight()-60;!0===I.params.IsManualSize&&(o=-1!==I.params.ContentSize.X.indexOf("%")?I.additionalButtonFunctions.getWindowWidth()*(parseFloat(I.params.ContentSize.X)/100):I.params.ContentSize.X,s=-1!==I.params.ContentSize.Y.indexOf("%")?I.additionalButtonFunctions.getWindowHeight()*(parseFloat(I.params.ContentSize.Y)/100):I.params.ContentSize.Y);var r=0,c=0;s<o?c=(r=s)/I.params.VideoSize.Y*I.params.VideoSize.X:r=(c=o)/I.params.VideoSize.X*I.params.VideoSize.Y,A("#"+i).width(c),A("#"+i).height(r)}},createVideoAndIframeItem:function(t,n){var e=t.split("|"),i="video_and_iframe_item",a="video_item",o="video_probtn",s="skip_video_btn";if(null!=n&&""!==n&&(a="video_item_"+n,i="video_and_iframe_item_"+n,o="video_probtn_"+n,s="skip_video_btn_"+n),A("#"+i).length<1){var r='<div id="'+i+'" style="display:none"><div id="'+a+'" class="probtn_video_wrapper2" style="display: inline-block; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table cellspacing="0" cellpadding="0" class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0px;"><tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline onclick="" id="'+o+'" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+e[0]+'" type="video/mp4">Your browser does not support the video tag. </video></td><td>test</td></tr></table> +</div><button id="'+s+'"style="position: absolute; z-index: 7; left: 45%; top:90%;" onclick=\'document.getElementById("'+a+'").remove(); document.getElementById("'+s+'").remove();\'>Press Button</button><iframe src="'+e[1]+'" class="video_iframe" scrolling="auto"></iframe></div>';I.additionalItemsContainer.append(r)}}},initFunctions:{initProbtnBadge:function(t){I.wrapper,A("body");if(0!==t.length){var n=A("#probtn_badge");0===n.length&&I.params.BadgeActive&&""!==I.params.BadgeImage&&((n=A("<img/>",{id:"probtn_badge",src:I.params.BadgeImage,style:"margin: 0 auto; display: none; top: -1000px; position: absolute;width:"+I.params.BadgeSize.W+"px;height:"+I.params.BadgeSize.H+"px;opacity:"+I.params.BadgeOpacity+";left: -1000px;"}).appendTo(t)).setBadgePosition=function(){var t=I.params.BadgePosition.split("_"),n=0,e=I.params.ButtonSize.H+5;switch("top"===t[0]&&(e=-I.params.BadgeSize.H-5),t[1]){case"left":n=0;break;case"center":n=(I.params.ButtonSize.W-I.params.BadgeSize.W)/2;break;case"right":n=I.params.ButtonSize.W-I.params.BadgeSize.W}this.css({left:n+"px",top:e+"px"})},n.setBadgePosition(),null!==I.params.BadgeDelayBeforeShow&&void 0!==I.params.BadgeDelayBeforeShow||(I.params.BadgeDelayBeforeShow=0),setInterval(function(){n.css("display","block")},I.params.BadgeDelayBeforeShow))}else console.log("probtn element is not exist. Couldn't add probtn badge");I.badge=n},initProbtnClosingArea:function(t){""!==I.params.CloseAreaType&&"default"!==I.params.CloseAreaType&&void 0!==I.params.CloseAreaType?I.closeButton.prependTo(t):I.closeButton.prependTo(I.additionalItemsContainer),I.closeButton.clickOnCloseButton()},stopWebAudio:function(){I.initFunctions.stopedWebAudio=!0,null!==I.initFunctions.soundSource&&void 0!==I.initFunctions.soundSource&&I.initFunctions.soundSource.stop(0)},soundSource:null,stopedWebAudio:!1,initWebAudio:function(){if(""!==I.params.SoundURL&&null!==I.params.SoundURL&&void 0!==I.params.SoundURL){var n=I.params.SoundMode.split("_");window.AudioContext=window.AudioContext||window.webkitAudioContext;function e(t){var n=new XMLHttpRequest;function e(t){console.log(t)}n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){i.decodeAudioData(n.response,function(t){a(t)},e)},n.send()}var i=new AudioContext,a=function(t){I.initFunctions.soundSource=i.createBufferSource(),I.initFunctions.soundSource.buffer=t,I.initFunctions.soundSource.connect(i.destination),I.initFunctions.soundSource.start(0),I.initFunctions.soundSource.onended=function(){"cycle"!==n[1]||I.initFunctions.stopedWebAudio||a(t)}},t=!0;"autoStart"===n[0]&&"iOS"!==I.userData.os&&(t=!1);var o=!0;if(t){function s(){if(o)try{!function(t){if(this.unlocked)return console.log("return"),t();try{var n=i.createBuffer(1,1,22050),e=i.createBufferSource();e.buffer=n,e.connect(i.destination),console.log(e),!function(t){return t&&"[object Function]"==={}.toString.call(t)}(e.noteOn)?e.start(0):e.noteOn(0)}catch(t){console.log(t)}setTimeout(function(){(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)&&!0,t()},0)}(function(){if(o&&(o=!1,e(I.params.SoundURL),A("#pizzabtnImg").is("iframe")))try{var t=document.getElementById("pizzabtnImg");null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_web_audio_api_enabled"},"*")}catch(t){}})}catch(t){console.log(t)}}window.addEventListener("touchstart",s,!1),window.addEventListener("click",s,!1)}else if(e(I.params.SoundURL),A("#pizzabtnImg").is("iframe"))try{var r=document.getElementById("pizzabtnImg");null!==r.contentWindow&&r.contentWindow.postMessage({message:"probtn_web_audio_api_enabled"},"*")}catch(t){}}},initButtonAndUserDeviceInfo:function(){try{var t=(new UAParser).getResult();if(t&&t.device&&t.os){if(t.os.name?t.ua_os_name=t.os.name.toLowerCase():t.ua_os_name="android",t.device.type)t.ua_device_type=t.device.type.toLowerCase();else switch(t.ua_os_name){case"android":case"ios":case"windows phone":case"windows mobile":t.ua_device_type="mobile";break;default:t.ua_device_type="console"}I.parsed_ua=t,I.params.Debug&&console.log(I.parsed_ua),I.statistics.callSuperPixelExt("initButtonAndUserDeviceInfo_"+I.parsed_ua)}}catch(t){I.params.Debug&&console.log(t),I.statistics.callSuperPixelExt("initButtonAndUserDeviceInfo_ex_"+t)}I.vastFunctions.initVast(),function(){if(I.statistics.callSuperPixelExt("allButton1"),"8"<I.userData.browserMajorVersion||"Microsoft Internet Explorer"!==I.userData.browser){try{if(0<A("#probtn_additional_params").length){var t=A("#probtn_additional_params").text();t=JSON.parse(t),console.log("options",s),s=A.extend(!0,{},t,s)}}catch(t){I.params.Debug&&console.log(t)}I.statistics.callSuperPixelExt("allButton1_not_ie"),I.params=A.extend(!0,{ConstrainByBlock:!1,CookieEnabled:!0,VASTbutton:!1,VASTparams:{clicks:{},customParams:{},id:0},DmpEnabled:!1,CacheBuster:I.additionalButtonFunctions.randomString(12),ButtonShowedDurationPeriod:[1e3,1e3,1e3,2e3,2e3,3e3,3e3,3e3,4e3,5e3,5e3,1e4,2e4,3e4,6e4,9e4,24e4,48e4,18e5],UseScreenSizes:!1,VideoPixels:[],JsImpressionCode:"",VideoItemHeaderImage:"",BadgeImage:"https://cdn.viewst.com/images/viewst-ad-3.png",BadgePosition:"bottom_center",BadgeSize:{W:40,H:16},BadgeOpacity:.7,BadgeActive:!0,BadgeDelayBeforeShow:0,BrandingImage:"",CloseAreaType:"attached",AttachedClosePosition:"top_left",CorrectPositionBeforeMove:!0,OnNoShowPixel:"",OnShowPixel:"",ButtonInjectPath:"body",LocationPoints:[],RequireLocation:!1,useGuidIframe:!0,waitIframeLoadedMsg:!1,waitContentLoadedMsg:!1,animationData:"",RoundButton:"none",LockBody:!1,CloseButtonShowDelay:0,SoundURL:"",SoundMode:"",ExternalData:{},ExternalDataSources:[{Name:"ASource3",Source:"https://demo.viewst.com/button_example4/externalData/iframe3/",Priority:13},{Name:"Source1",Source:"https://demo.viewst.com/button_example4/externalData/iframe1/",Priority:1},{Name:"Source2",Source:"https://demo.viewst.com/button_example4/externalData/iframe2/",Priority:2}],UseExternalDataAboutUser:!1,FancyboxcloseMethod:"zoomOut",FancyboxCloseSpeed:0,CreativeId:"",PassbackCustomCode:"",PassbackCodeSelector:"#probtn_wrapper #probtn_additionalItemsContainer",ModalWindowMode:"",ExtrusionMode:"",AdditionalTargetingParam:"",CheckPageAjaxUpdate:!1,HideButtonAfterAjaxUpdate:!1,SelectAdSet:"",MenuTemplateVariant:"list",UseGeoLocation:!1,WaitForGeoLocation:!1,loadJqueryPepJS:!0,loadFancyboxJS:!0,VideoType:"mp4",DisableButtonMove:!1,waitForIframeButtonLoaded:!0,uaParserPath:"//cdn.viewst.com/libs/ua-parser.js",ButtonImageType:"image",ButtonIframeInitialSize:{W:0,H:0},ClickOnCloseButton:!0,AlwaysShowCloseButton:!0,FullscreenClickLink:"",UtmSourceUseOnlyDomain:!1,UtmCampaign:"",isTestSpeed:!1,HideWithoutInteractionTime:0,cssEaseDuration:300,ControlInIframeFromParent:!1,ParentParams:{width:0,height:0},isAddUtmSource:!1,UtmSource:"",ButtonInitDelay:0,MenuOptions:{FontSize:"1.4em",FontFamily:'"Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif',BackgroundColor:"rgba(49,55,61,.95)",ForegroundColor:"#fff",MenuHeight:"3.4em",MenuRadius:0,ItemWidth:60},MenuClose:{MenuCloseEnabled:!1,MenuCloseImage:"https://cdn.viewst.com/images/close-menu-btn@2x.png",MenuCloseSize:{W:72,H:72},MenuClosePosition:{X:50,Y:80}},MenuItems:[{Name:"Menu1",Text:"External1",ActionURL:"http://yandex.ru",Image:I.serverUrl+"/eqwid_btn_nonpress.png",Type:"external"}],ScrollZones:[{ZoneHeight:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"",HintText:"",TrackingLink:"",CustomButtonParams:!1,CustomContentURL:"",ButtonContentType:"",ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpacity:1,ButtonDragOpacity:1},{ZoneHeight:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"",HintText:"",TrackingLink:"",CustomButtonParams:!1,ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpacity:1,ButtonDragOpacity:1}],ChangeScrollButtonAtFullSiteHeight:!0,MainButtonClickable:!0,ActiveZones:[{Name:"Area1",ButtonContentType:"iframe",ButtonImageType:"image",Position:{X:.5,Y:.5},ActiveImage:I.serverUrl+"/eqwid_btn_nonpress.png",InactiveImage:I.serverUrl+"/eqwid_btn_nonpress.png",ActiveSize:{W:64,H:64},InactiveSize:{W:64,H:64},ActionURL:I.serverUrl+"/probtn_demo_page.html",ClickCounterLink:"",VisibleOnlyInteraction:!0,InactiveOpacity:.8,ActiveOpacity:1}],hpmd:void 0,isServerCommunicationEnabled:!0,localSettingsPath:"settings.json",useLocalFileSettings:!1,ClickCounterLink:"",isSmartBanner:!1,smartbannerJsPath:"//cdn.viewst.com/libs/jquery.smartbanner.js",smartbannerCssPath:"//cdn.viewst.com/libs/jquery.smartbanner.css",animationDuration:5e3,isAnimation:"",ButtonAnimationDoneImage:"",smartbanner:{iosAppId:null,androidAppId:null,isFixed:!1,isFixedMode:"default",title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,url:null,button:"VIEW",scale:"auto",speedIn:300,speedOut:400,daysHidden:0,daysReminder:0,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body"},dfp:{isDFP:!1,clickUrlEsc:"",cacheBuster:""},showInParent:!1,isHPMD:!1,iframeScaleMinWidth:0,iframeScale:1,iframeScaleMobile:1,iframeScaleTablet:1,iframeScaleDesktop:1,Debug:!1,VideoPoster:"",ButtonOnClick:'console.log("ButtonOnClick"); function start1() { console.log("start1"); try { if (window.probtn_ButtonContentType!==null) { if (window.probtn_ButtonContentType=="video") { if (window.probtn_dropedActiveZone!==null) { if (window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType=="video") { var video = jQuery("#video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name).get(0); video.play(); } } else { var video = jQuery("#video_probtn").get(0); var frame_id = jQuery(".fancybox-iframe").first().attr("id"); probtn_callPlayer("video_probtn", "playVideo"); video.play(); } } } } catch(ex) { } }; start1(); setTimeout(start1 , 1000); setTimeout(start1 , 2000);',ButtonOnTouchEnd:'var moved = window.probtn_pizzabtn_moved; clearInterval(window.probtn_touch_interval); function start2() { console.log("window.probtn_dropedActiveZone", window.probtn_dropedActiveZone, moved); try { if ((window.probtn_dropedActiveZone!==null) && (window.probtn_dropedActiveZone!==undefined) && (moved === false)) { if (window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType=="video") { var videoZone = document.getElementById("video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name); videoZone.play(); moved = true; } } else { console.log("moved", moved); if (moved === false) { try { if (window.probtn_ButtonContentType!==null) { if (window.probtn_ButtonContentType=="video") { moved = true; var video = document.getElementById("video_probtn"); video.play(); probtn_callPlayer("video_probtn", "playVideo");  } } } catch(ex) { console.log(ex); } } } } catch(ex) { console.log(ex); } window.probtn_pizzabtn_moved = false; }; start2();',ButtonOnTouchStart:"window.probtn_touch_start = 0; window.probtn_touch_interval = setInterval(function() { window.probtn_touch_start = window.probtn_touch_start + 1; }, 1);",ButtonType:"fancybox",VideoSize:{X:1920,Y:1080},VideoClickURL:"",ButtonContentType:"iframe",FancyboxType:"iframe",TrackingLink:null,MinimizeWrapperTime:600,OpenExternal:!0,CampaignID:null,NeverClose:!0,MaxHeight:0,MaxWidth:0,domain:"",fancyboxJsPath:"https://cdn.viewst.com/libs/jquery.fancybox.min.js",fancyboxCssPath:"https://cdn.viewst.com/libs/jquery.fancybox.min.css",mainStyleCss:"https://cdn.viewst.com/style.css",jqueryPepPath:"https://cdn.viewst.com/libs/jquery.pep.min.js",buttonAnimationTimeAfterFancybox:0,HideAfterFirstShow:!0,LoadFancyboxCSS:!0,ContentURL:"http://app.ecwid.com/jsp/2557212/m",BaseInsets:{T:4,B:4,L:4,R:4},ButtonEnabled:!1,ButtonVisible:!1,ButtonOpenInsets:{T:32,B:32,L:32,R:32},ButtonPosition:{X:.8,Y:.8},ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpenSize:{W:64,H:64},ButtonInactiveSize:{W:64,H:64},ButtonOpacity:1,ButtonDragOpacity:1,ButtonOpenOpacity:1,ButtonInactiveOpacity:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ButtonOpenImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ButtonInactiveImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ClosePosition:{X:.05,Y:.97},CloseSize:{W:28,H:28},CloseActiveSize:{W:28,H:28},CloseOpacity:1,CloseActiveOpacity:1,CloseImage:"https://cdn.viewst.com/images/close-new.png",CloseActiveImage:"https://cdn.viewst.com/images/close-new.png",HintInsets:{T:4,B:4,L:4,R:4},HintLabelInsets:{T:4,B:4,L:4,R:4},HintImageInsets:{T:8,B:8,L:8,R:8},HintText:"",HintFont:{Family:"Arial",Size:18},HintFontColor:{R:1,G:1,B:1,A:1},VendorText:"Powered by Viewst",VendorSite:"https://viewst.com",VendorTextFont:{Family:"Arial",Size:10},VendorTextColor:{R:1,G:1,B:1,A:1},VendorOpacity:.4,VendorColor:{R:0,G:0,B:0,A:1},HintOpacity:.8,HintImage:"https://cdn.viewst.com/images/probtn/hint.png",HintArrowSize:{W:8,H:8},HintArrowOffset:{T:0,B:0,L:0,R:0},HintArrowImageT:"",HintArrowImageB:"",HintArrowImageL:"",HintArrowImageR:"",ContentSize:{W:100,H:100,X:"90%",Y:"90%"},IsManualSize:!0,ContentInsets:{T:-2,B:-2,L:-2,R:-2},ContentWebViewInsets:{T:12,B:12,L:12,R:12},ContentImageInsets:{T:32,B:32,L:32,R:32},ContentOpacity:1,ContentBackOpacity:1,ContentBackColor:{R:0,G:0,B:0,A:1},ContentActivityColor:{R:0,G:0,B:0,A:1},ContentImage:"",ContentArrowSize:{W:14,H:14},ContentArrowOffset:{T:8,B:8,L:9,R:9},ContentArrowImageT:"",ContentArrowImageB:"",ContentArrowImageL:"",ContentArrowImageR:"",DefaultDuration:.1,DefaultDelay:0,OpenDuration:.2,OpenDelay:.5,CloseDuration:.2,CloseDelay:.5,ButtonShowDuration:.2,ButtonShowDelay:0,ButtonHideDuration:.2,ButtonHideDelay:0,ButtonDragDuration:.1,ButtonDragDelay:0,ButtonUndragDuration:.2,ButtonUndragDelay:0,ButtonInactiveDuration:.1,ButtonInactiveDelay:5,ButtonInertiaSpeed:512,ButtonInertiaSpeedMin:32,ButtonInertiaSpeedMax:1024,ButtonInertiaFactor:6,CloseShowDuration:.1,CloseShowDelay:0,CloseHideDuration:.2,CloseHideDelay:0,CloseActiveDuration:.1,CloseActiveDelay:0,CloseUnactiveDuration:.1,CloseUnactiveDelay:0,HintLaunchDuration:3e4,HintLaunchDelay:0,HintShowDuration:.1,HintShowDelay:0,HintHideDuration:.2,HintHideDelay:0,ContentShowDuration:.1,ContentShowDelay:0,ContentHideDuration:.2,ContentHideDelay:0,HideInFrame:!0,ZCustomCss:""},s),I.initFunctions.hintTextStyle={opacity:I.params.HintOpacity,"font-size":I.params.HintFont.Size,"font-family":I.params.HintFont.Family,color:"white",padding:"4px",background:"url('"+I.params.HintImage+"')"},""!==I.params.HintText&&null!==I.params.HintText||(I.initFunctions.hintTextStyle.display="none",I.initFunctions.hintTextStyle.opacity="0.0"),I.closeButton=void 0,I.currentDomain=document.domain.replace("www.",""),""!==I.currentDomain&&null!==I.currentDomain||(I.currentDomain="example.com"),""!==I.params.domain&&null!==I.params.domain&&(I.currentDomain=I.params.domain);window,I.additionalButtonFunctions.getWindowHeight(),I.additionalButtonFunctions.getWindowWidth();I.additionalButtonFunctions.closeAfterOrientationChange=!1;function i(){I.statistics.callSuperPixelExt("CheckInFrameAndEnabled1");try{!0===I.params.UseExternalDataAboutUser&&void 0!==document.getElementById("probtn_guidIframe")&&document.getElementById("probtn_guidIframe").contentWindow.postMessage({command:"amber_matching"},I.guidCookieControlPath)}catch(t){console.log(t)}I.DMP.launchIDataScript();var t=function(){if(I.statistics.callSuperPixelExt("startAppBanner"),"smartbanner"!==I.params.ButtonType&&!0!==I.params.IsSmartBanner)return!1;""!==I.params.ZCustomCss&&null!==I.params.ZCustomCss&&void 0!==I.params.ZCustomCss&&A("head").append('<style type="text/css" id="probtn_ZCustomCss">'+I.params.ZCustomCss+"</style>");function t(){I.params.Debug&&console.log(I.params.smartbanner),I.statistics.SendStatObject({Opened:1,Showed:1});try{try{I.params.smartbanner.androidAppId&&""!==I.params.smartbanner.androidAppId||A("meta[name=apple-itunes-app]").length||A("head").append('<meta name="apple-itunes-app" content="app-id='+I.params.smartbanner.iosAppId+'" />'),I.params.smartbanner.androidAppId&&""!==I.params.smartbanner.androidAppId||A("meta[name=google-play-app]").length||A("head").append('<meta name="google-play-app" content="app-id='+I.params.smartbanner.androidAppId+'" />')}catch(t){I.params.Debug&&console.log(t)}"extrusion"===I.params.smartbanner.isFixedMode&&(I.params.smartbanner.appendToSelector="html"),A.smartbanner(I.params.smartbanner),I.params.Debug&&console.log(I.params.smartbanner.isFixed),!0===I.params.smartbanner.isFixed&&A("#smartbanner").css("position","fixed"),A("#smartbanner .sb-info").append('<div style="margin-left: -1px;" class="rating"><span></span><span></span><span></span><span></span><span></span></div>'),"extrusion"==I.params.smartbanner.isFixedMode&&(I.params.Debug&&console.log("extrusion"),A("#smartbanner").css("position","fixed"),A("body").css("top","78px"),A("body").css("margin","0px"),A("body").css("position","absolute"),A("body").css("width","100%"));try{A("#smartbanner .sb-button").attr("target","_blank")}catch(t){I.params.Debug&&console.log(t)}try{A(document).on("click","#smartbanner .sb-button",function(){I.params.Debug&&console.log("smartbanner click"),I.statistics.SendStatisticsData("ContentShowed",1)})}catch(t){I.params.Debug&&console.log(t)}try{A(document).on("click","#smartbanner a.sb-close",function(){I.params.Debug&&console.log("smartbanner close"),I.statistics.SendStatObject({Closed:1,Hidded:1}),"extrusion"==I.params.smartbanner.isFixedMode&&A("body").css("top","0px"),A("#smartbanner").hide(300)})}catch(t){I.params.Debug&&console.log(t)}}catch(t){I.params.Debug&&console.log(t)}}return"function"==typeof A.smartbanner?t():(A("head").append('<link rel="stylesheet" href="'+I.params.smartbannerCssPath+'" type="text/css" />'),A.getScript(I.params.smartbannerJsPath,function(){t()})),!0}();if(function(){if(I.statistics.callSuperPixelExt("CheckAndRunButtonAtParent1"),I.params.showInParent&&window.window!==window.top)try{I.statistics.callSuperPixelExt("CheckAndRunButtonAtParent2_showinparent"),I.params.showInParent=!1,I.params.HideInFrame=!0;window.top.document.getElementsByTagName("HEAD").item(0);console.log("CheckAndRunButtonAtParent loadJS probtn_concat.js"),t="//cdn.viewst.com/probtn_concat.js",n=function(){},(e=window.top.document.createElement("script")).src=t,e.async=!0,e.onreadystatechange=e.onload=function(){var t=e.readyState;n.done||t&&!/loaded|complete/.test(t)||(n.done=!0,n())},window.top.document.getElementsByTagName("head")[0].appendChild(e)}catch(t){I.params.Debug&&console.log(t)}var t,n,e}(),I.params.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonSize),I.params.ButtonDragSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonDragSize),!0===I.params.HideInFrame&&window.window!==window.top||t)I.params.Debug&&console.log("do nothing");else if(!0===I.params.ButtonEnabled){!0===I.params.LoadFancyboxCSS&&A("head").append('<link rel="stylesheet" href="'+I.params.fancyboxCssPath+'" type="text/css" />'),""!==I.params.ZCustomCss&&null!==I.params.ZCustomCss&&void 0!==I.params.ZCustomCss&&A("head").append('<style type="text/css" id="probtn_ZCustomCss">'+I.params.ZCustomCss+"</style>"),""!==I.params.BrandingImage&&null!==I.params.BrandingImage&&void 0!==I.params.BrandingImage&&A("head").append('<style type="text/css" id="probtn_BrandingImage">#probtn_wrapper { background: url("'+I.params.BrandingImage+'") no-repeat top center; background-size: 100% !important; }</style>');!0===I.params.LockBody&&A("head").append('<style type="text/css" id="probtn_ZCustomCss_probtn_disable_scroll">.probtn_disable_scroll { overflow: hidden !important; height: 100% !important; width: 100% !important; position: fixed !important; }</style>'),A("head").append('<style type="text/css" id="probtn_ZCustomCss_probtnImg_max">#pizzabtnImg { max-width: inherit !important; max-height: inherit !important;}</style>');var n=I.params.RoundButton.split("_"),e="",i=20;switch(n[0]){case"auto":i=I.params.ButtonSize.W/2,I.params.ButtonSize.W>I.params.ButtonSize.H&&(i=I.params.ButtonSize.H/2);var a="";e="fill"===n[1]?'<style type="text/css" id="probtn_ZCustomCss_round_button">#probtn_button { border-radius: '+i+"px; overflow: hidden !important; } "+(a="iframe"===I.params.ButtonImageType?"#probtn_button { background: "+n[2]+"} #pizzabtnImg { margin-left: 10% !important; margin-top: 10% !important; }":"#probtn_button { background: "+n[2]+"} #pizzabtnImg { width: 80% !important; height: 80% !important; margin-top: 10% !important; }")+"</style>":'<style type="text/css" id="probtn_ZCustomCss_round_button">#pizzabtnImg, #probtn_button { border-radius: '+i+"px; "+a+"}</style>";break;case"manual":e='<style type="text/css" id="probtn_ZCustomCss_round_button">#pizzabtnImg, #probtn_button { border-radius: '+(i=n[1])+"px; overflow: hidden; }</style>"}switch(A("head").append(e),I.params.ModalWindowMode){case"sidebarRight":A("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { height: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; right: 0px !important; left: initial !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarLeft":A("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { height: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; left: 0px !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarTop":A("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { width: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; left: 0px !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarBottom":A("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { width: 100% !important; top: initial !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { bottom: 0px !important; left: 0px !important; }.fancybox-close { bottom: 0px !important; right: 0px !important; }</style>')}A(window).bind("orientationchange",I.additionalButtonFunctions.onOrientationChange),A(window).bind("resize",I.additionalButtonFunctions.onOrientationChange),0!==I.params.ButtonInitDelay&&null!==I.params.ButtonInitDelay&&void 0!==I.params.ButtonInitDelay?setTimeout(o,I.params.ButtonInitDelay):o()}else I.additionalButtonFunctions.callPassback()}var a="",o=function(){I.statistics.callSuperPixelExt("BeginButtonProcess");function t(t){void 0===t&&(t="duplicateDetected"),I.statistics.callSuperPixelExt(t);try{I.params.isServerCommunicationEnabled&&I.statistics.SendStatisticsData("performedAction",t)}catch(t){I.params.Debug&&console.log(t)}}if(0<A("#probtn_wrapper").length)t("duplicateDetected");else{if(0<A("#probtn_passback").length)return t("duplicateDetected"),void t("duplicateByPassback");function n(t){try{switch(t.data.command.toLowerCase()){case"probtn_message_to_creative":null!==t.data.object&&void 0!==t.data.object&&I.additionalButtonFunctions.sendMessageToCreative(t.data.object);break;case"probtn_creative_loaded_message":console.log("probtn_creative_loaded_message recieved");try{I.buttonMainParams.hidden&&(I.pizzabtn.show(),I.wrapper.removeClass("hide"),I.additionalButtonFunctions.animation.checkAndRunAnimation(),I.buttonMainParams.hidden=!1,I.statistics.SendStatisticsData("Showed",1))}catch(t){console.log(t)}break;case"probtn_opened_and_showed":I.statistics.SendStatisticsData("ContentShowed",1);break;case"probtn_change_content_url":""!==t.data.value&&void 0!==t.data.value&&null!==t.data.value&&(I.params.ContentURL=t.data.value);break;case"probtn_performed_action":var n="buy";""!==t.data.value&&void 0!==t.data.value&&null!==t.data.value&&(n=t.data.value.toLowerCase()),I.statistics.SendStatisticsData("performedAction",n);break;case"probtn_start_content_showed_timer":o||(I.contentTime.startTimer(),o=!0);break;case"probtn_stop_content_showed_timer":o=!1,I.contentTime.endTimer();break;case"probtn_close":window.proBtn.close();break;case"probtn_hide":window.proBtn.hide();break;case"probtn_hide_content":window.proBtn.hideContent();break;case"button_image_iframe_disable_overlay":A("#pizzabtnIframeOverlay").hide();break;case"probtn_restore_button_size":I.pizzabtn.css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,left:t.data.position.left,top:t.data.position.top}),A("#pizzabtnImg").css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A(I.pizzabtn).css({opacity:I.params.ButtonOpacity});break;case"button_image_iframe_done":A("#pizzabtnIframeOverlay").show();break;case"button_image_iframe_size":var e=0,i=0,a="";t.data.size.important&&(a=" !important"),e=-1!==t.data.size.w.toString().indexOf("%")?t.data.size.w+a:t.data.size.w+"px "+a,i=-1!==t.data.size.h.toString().indexOf("%")?t.data.size.h+a:t.data.size.h+"px "+a,A("#pizzabtnIframeOverlay").css({width:e,height:i}),A("head").append("<style type='text/css'> #pizzabtnIframeOverlay { width: "+e+"; height: "+i+"; } </style>"),void 0!==t.data.size.top&&A("#pizzabtnIframeOverlay").css({top:t.data.size.top});break;case"probtn_video_part_event":I.statistics.SendStatObject({VideoPart:t.data.videoPart,VideoFullDuration:t.data.videoFullDuration})}}catch(t){}try{I.params.ParentParams.width=t.data.width,I.params.ParentParams.height=t.data.height,I.params.Debug&&console.log(I.params.ParentParams)}catch(t){I.params.Debug&&console.log(t)}}var o=!1;window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),I.HpmdFunctions.probtnHpmdTrack(2),A("head").append('<link rel="stylesheet" href="'+I.params.mainStyleCss+'" type="text/css" />'),"iOS"===I.userData.os&&(A("body").addClass("btn_os_ios"),!0===I.userData.isiPad?A("body").addClass("btn_device_ipad"):A("body").addClass("btn_device_iphone")),I.userData.mobile?A("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch; overflow: scroll !important; } </style>"):A("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch; overflow: hidden !important; } </style>");var e=A("<div/>",{id:"probtn_wrapper"});switch(I.params.ExtrusionMode){case"insertBlock":A("head").append('<style type="text/css">#probtn_wrapper { width: 100% !important; display: inline-block !important; position: relative !important; height:'+I.params.ButtonSize.H+"px !important; } #probtn_button { top: 0px !important; left: 0px !important; width:100% !important; }</style>"),e.prependTo(I.params.ExtrusionPath);break;case"fixedTop":A("head").append('<style type="text/css">#probtn_wrapper { width: 100% !important; display: inline-block !important; position: fixed !important;  } #probtn_button { top: 0px !important; left: 0px !important; width:100% !important; }</style>'),e.prependTo(I.params.ButtonInjectPath);break;default:e.prependTo(I.params.ButtonInjectPath)}if(I.wrapper=e,I.additionalItemsContainer=A("<div/>",{id:"probtn_additionalItemsContainer"}).prependTo(I.wrapper),I.closeButton=I.initFunctions.initCloseButton(),I.closeButton.attr("src",I.params.CloseImage),!1===I.params.NeverClose&&A("head").append(A("<style/>",{id:"probtn_style",type:"text/css",html:["#probtn_button.pizzabtn_normal { display: block; clear: both; position: device-fixed !important; }",".close_pro_button_normal{ width:"+I.params.CloseSize.W+"px; height:"+I.params.CloseSize.H+"px; opacity:"+I.params.CloseOpacity+"; display: block; clear: both; }"].join("\n")})),"fullscreen_fancybox"!=I.params.ButtonType&&"fullscreen"!=I.params.ButtonType||(I.params.ButtonVisible=!1),I.statistics.callSuperPixelExt("BeginButtonProcess2"),I.initFunctions.initStartScrollParams(),I.pizzabtn=I.initFunctions.initPizzaButton(),window.probtn_ButtonContentType=I.params.ButtonContentType,I.initFunctions.initScrollChange(),I.initFunctions.initActiveZones(),"fullscreen"!==I.params.ButtonType){var i=null;try{null!=(i=jQuery.fancybox)&&(i=jQuery.fancybox.open)}catch(t){}"function"==typeof i||!1===I.params.loadFancyboxJS?s():A.getScript(I.params.fancyboxJsPath,s)}else I.initFunctions.fullscreenInitAndShow();if(I.initFunctions.initScrollChange(!0),!0!==I.params.waitIframeLoadedMsg&&I.additionalButtonFunctions.animation.checkAndRunAnimation(),!0===I.params.CheckPageAjaxUpdate){window;var a=window.location.pathname;setInterval(function(){!0===I.params.HideButtonAfterAjaxUpdate&&window.location.pathname!==a&&I.additionalButtonFunctions.hideAll()},50),window.onhashchange=function(){!0===I.params.HideButtonAfterAjaxUpdate&&I.additionalButtonFunctions.hideAll()}}}function s(){!function(){var e,n;e=jQuery,(n=jQuery.fancybox).transitions.dropIn=function(){var t=n._getPosition(!0);t.top=parseInt(t.top,10)-200+"px",n.wrap.css(t).show().animate({top:"+=200px"},{duration:n.current.openSpeed,complete:n._afterZoomIn})},n.transitions.perspectiveOut=function(){var t=I.additionalButtonFunctions.getWindowHeight();I.additionalButtonFunctions.getWindowWidth()>I.additionalButtonFunctions.getWindowHeight()&&(t=I.additionalButtonFunctions.getWindowWidth()),e("body").css("perspective",t+"px"),n.wrap.removeClass("fancybox-opened"),e({deg:0}).animate({deg:350},{duration:n.current.closeSpeed,step:function(t){var n="rotateX("+t/50+"deg) scaleX("+(1-t/720)+")";e(".fancybox-wrap").css("transform",n),e(".fancybox-skin").css("transform",n)},complete:function(t){e("body").css("perspective","inherit"),n._afterZoomOut(t)}}),n.wrap.removeClass("fancybox-opened").animate({top:"-300px"},{duration:n.current.closeSpeed})}}();try{"function"==typeof A.pep.toggleAll||!1===I.params.loadJqueryPepJS?r():A.getScript(I.params.jqueryPepPath,r)}catch(t){A.getScript(I.params.jqueryPepPath,r)}}function r(){I.statistics.callSuperPixelExt("AllLoadedButtonProcess"),I.statistics.SendStatisticsData(),I.statistics.SendBrowserStatsInfo();window.addEventListener("time_to_start_video_expansion_event",function(){I.additionalButtonFunctions.toExpanseView(),I.pizzabtn.css("top",I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H),i=!0},!1);if(window.addEventListener("time_to_stop_video_expansion_event",function(){I.additionalButtonFunctions.fromExpanseToNormalView(),I.additionalButtonFunctions.checkAndCorrentButtonPosition(),clearInterval(I.contentTime.intervalId.ExpansionVideoTimer)},!1),I.params.ButtonEnabled&&I.params.ButtonVisible&&(I.statistics.callSuperPixelExt("ButtonEnabled"),I.statistics.createClickCounterImage(I.params.OnShowPixel),I.statistics.checkAdBlock(),I.pizzabtn.show(),I.closeButton.center(),null!==I.params.ExpansionVideoData&&void 0!==I.params.ExpansionVideoData&&""!==I.params.ExpansionVideoData)){var t=I.params.ExpansionVideoData;I.params.ExpansionVideoData=A("<div/>").html(t).text();var n="";try{n=JSON.parse(I.params.ExpansionVideoData)}catch(t){console.log("aaaaaaaaaaaaaaaaa"),n=""}if(null!=n&&""!==n){I.params.ExpansionVideoData=n,console.log("test",I.params.ExpansionVideoData);function e(t){var n=document.createEvent("Event");n.initEvent(t,!0,!0),document.dispatchEvent(n)}var i=!1;I.contentTime.intervalId.ExpansionVideoTimer=setInterval(function(){I.contentTime.timeValue.ButtonShowedDuration>=I.params.ExpansionVideoData.startTime&&!i&&e("time_to_start_video_expansion_event"),I.contentTime.timeValue.ButtonShowedDuration>=I.params.ExpansionVideoData.stopTime&&e("time_to_stop_video_expansion_event")}.bind(this),200)}}if("fullscreen_fancybox"===I.params.ButtonType&&(I.statistics.SendStatisticsData("Showed",1),I.onButtonTap()),"fullscreen"===I.params.ButtonType&&I.initFunctions.fullscreenInitAndShow(),"fullscreen_and_button"===I.params.ButtonType&&I.initFunctions.fullscreenInitAndShow(),I.params.ButtonVisible){I.params.waitIframeLoadedMsg||I.statistics.SendStatisticsData("Showed",1);var o=0,s=function(){var a=function(t,n){if(n<t.length){for(var e=0,i=0;i<n;i++)e+=t[i];return e}return a(t,t.length-1)};if(o<I.params.ButtonShowedDurationPeriod.length)I.contentTime.intervalId.ButtonShowedDurationPeriod=setTimeout(function(){var t=a(I.params.ButtonShowedDurationPeriod,o);I.statistics.SendStatObject({ButtonShowedDurationPeriodic:(t/1e3).toFixed(2)}),o++,s()},I.params.ButtonShowedDurationPeriod[o]);else{var t=I.params.ButtonShowedDurationPeriod.length,n=a(I.params.ButtonShowedDurationPeriod,o),e=I.params.ButtonShowedDurationPeriod[t-1];I.contentTime.intervalId.ButtonShowedDurationPeriod=setInterval(function(){o++,I.statistics.SendStatObject({ButtonShowedDurationPeriodic:((n+e*(o-t))/1e3).toFixed(2)})},e)}};0<I.params.ButtonShowedDurationPeriod.length&&s()}I.pizzabtn.hideHintDelay(),I.pizzabtn.showHint(),I.overlaped=!1,window.probtn_pizzabtn_moved=!1,I.pizzabtn.moved=!1;var a=I.params.cssEaseDuration;!0===I.params.ControlInIframeFromParent&&(a=0);var r="parent";"corner"===I.params.CloseAreaType&&(r="");var d=!1;I.pizzabtn.pep({useCSSTranslation:!1,constrainTo:r,cssEaseString:"cubic-bezier(0, .50, .50, 1)",cssEaseDuration:a,allowDragEventPropagation:!1,shouldPreventDefault:!0,velocityMultiplier:1,startThreshold:[1,1],droppable:".probtn_active_zone",elementsWithInteraction:"#probtn_closeButton",initiate:I.additionalButtonFunctions.changeBodySize,start:function(){I.once_moved=!0,window.probtn_pizzabtn_moved=!1;try{I.pizzabtn.stop(!0,!0),void 0!==I.lookOutTimeout&&(I.pizzabtn.stop(!0,!0),clearTimeout(I.lookOutTimeout)),void 0!==I.lookOutTimeout2&&(I.pizzabtn.stop(!0,!0),clearTimeout(I.lookOutTimeout2))}catch(t){console.log(t)}I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start"}),I.interactionFunctions.wasInteraction=!0,(window.probtn_button_tap=!1)===I.params.MainButtonClickable&&0<A("#probtn_menu").length&&I.initFunctions.initRemoveMenu(),window.probtn_dropedActiveZone=null,I.initFunctions.initScrollChange(!0),I.additionalButtonFunctions.animation.animationRuning&&I.additionalButtonFunctions.animation.doneAnimation(),A.each(I.initializedActiveZones,function(t,n){n.currentActiveZone.VisibleOnlyInteraction&&n.show()}),I.additionalButtonFunctions.MaximizeWrapper(function(){if(!1===I.pizzabtn.moved&&I.pizzabtn.dragAnimate(),I.pizzabtn.moved=!0,I.once_moved=!0,I.pizzabtn.hintTextActive&&I.pizzabtn.hideHint(),!1===I.params.NeverClose)try{I.closeButton.show()}catch(t){}I.statistics.SendStatisticsData("Moved",1),I.contentTime.startTimer("MovedDuration"),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_start_move"}),I.additionalButtonFunctions.sendMessageToActiveZones({message:"probtn_start_move"})})},drag:function(t,n){if(window.probtn_pizzabtn_moved=!0,I.initFunctions.initScrollChange(!0),!0===I.params.DisableButtonMove||d)return window.probtn_pizzabtn_moved=!1;I.additionalButtonFunctions.MaximizeWrapper(function(){var t=A(".fancybox-wrap"),n=I.pizzabtn[0].getBoundingClientRect(),e=I.closeButton[0].getBoundingClientRect();if(0<A(".fancybox-inner").length){var i=A(".fancybox-inner iframe").width(),a=A(".fancybox-inner iframe").height(),o=t.position().top,s=t.position().left;I.additionalButtonFunctions.sendMessageToModal({message:"probtn_drag_event",rect:{left:n.left,right:n.right,top:n.top,bottom:n.bottom},modal:{width:i,height:a,top:o,left:s}})}if(n.top,n.height,I.additionalButtonFunctions.getWindowHeight(),""===I.params.CloseAreaType||"default"===I.params.CloseAreaType)if(!(n.right<e.left||n.left>e.right||n.bottom<e.top||n.top>e.bottom)&&0!==e.width)I.overlaped||(I.closeButton.overlayActive(),I.overlaped=!0);else if(I.overlaped)try{I.closeButton.overlayUnactive(),I.overlaped=!1}catch(t){I.params.Debug&&console.log(t)}});try{if(0<this.activeDropRegions.length){var e=jQuery(this.activeDropRegions[this.activeDropRegions.length-1]).attr("rel"),i=I.initializedActiveZones[e];null!=i&&(i.animateActive(),window.probtn_dropedActiveZone=i)}else A.each(I.initializedActiveZones,function(t,n){"iframe"!==n.currentActiveZone.ButtonImageType&&n.attr("src",n.currentActiveZone.InactiveImage),null!==n.currentActiveZone.ButtonIframeInitialSize&&void 0!==n.currentActiveZone.ButtonIframeInitialSize||(n.currentActiveZone.ButtonIframeInitialSize={W:0,H:0}),I.additionalButtonFunctions.checkExistInitIframeSIze(n)?n.css({opacity:n.currentActiveZone.InactiveOpacity}):(n.currentActiveZone.InactiveSize=I.additionalButtonFunctions.convertPercentButtonSize(n.currentActiveZone.InactiveSize),n.css({width:n.currentActiveZone.InactiveSize.W,height:n.currentActiveZone.InactiveSize.H,opacity:n.currentActiveZone.InactiveOpacity}))})}catch(t){console.log(t)}if("corner"===I.params.CloseAreaType&&!d){var a=document.documentElement.clientWidth,o=document.documentElement.clientHeight,s=parseInt(I.pizzabtn.css("left")),r=parseInt(I.pizzabtn.css("top"));s+=I.params.ButtonSize.W/2,r+=I.params.ButtonSize.H/2;var c=!1;(a<s||s<0||o<r||r<0)&&(c=!0),c&&(I.statistics.SendStatObject({Closed:1}),I.additionalButtonFunctions.hideAll(),d=!0,A.pep.toggleAll(!1))}},stop:function(){I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop"}),I.additionalButtonFunctions.sendMessageToModal({message:"probtn_stop_event"}),I.additionalButtonFunctions.sendMessageToActiveZones({message:"probtn_stop_event"}),I.contentTime.endTimer("MovedDuration");var t=null;if(0<this.activeDropRegions.length)try{var n=jQuery(this.activeDropRegions[this.activeDropRegions.length-1]).attr("rel");I.params.Debug&&console.log(n),t=I.initializedActiveZones[n],null!==(window.probtn_dropedActiveZone=t).requestClickCounterLink&&void 0!==t.requestClickCounterLink&&t.requestClickCounterLink(),"video"!==t.currentActiveZone.ButtonContentType||(I.params.Debug&&console.log("ProBtnControl.userData.isiPad - "+I.userData.isiPad),"iOS"!==I.userData.os||I.userData.isiPad),I.onButtonTap(t.currentActiveZone.ActionURL,n,t.currentActiveZone.ButtonContentType)}catch(t){I.params.Debug&&console.log(t),window.probtn_dropedActiveZone=null}if(A.each(I.initializedActiveZones,function(t,n){n.currentActiveZone.VisibleOnlyInteraction&&("iframe"!==n.currentActiveZone.ButtonImageType&&n.attr("src",n.currentActiveZone.InactiveImage),null!==n.currentActiveZone.ButtonIframeInitialSize&&void 0!==n.currentActiveZone.ButtonIframeInitialSize||(n.currentActiveZone.ButtonIframeInitialSize={W:0,H:0}),I.additionalButtonFunctions.checkExistInitIframeSIze(n)?n.css({opacity:n.currentActiveZone.InactiveOpacity}):n.css({width:n.currentActiveZone.InactiveSize.W,height:n.currentActiveZone.InactiveSize.H,opacity:n.currentActiveZone.InactiveOpacity}),n.hide())}),!0===I.params.MainButtonClickable&&0<A("#probtn_menu").length){I.additionalButtonFunctions.MaximizeWrapper(),I.pizzabtn.stop(!0,!1);var e=0,i=I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height();"circularCenter"===I.params.MenuTemplateVariant.split("_")[0]&&(i=I.additionalButtonFunctions.getWindowHeight()/2-I.pizzabtn.height()/2,e=I.additionalButtonFunctions.getWindowWidth()/2-I.pizzabtn.width()/2),I.pizzabtn.css({left:e,top:i})}if(I.pizzabtn.moved){0<A("#probtn_menu").length?!0===I.params.MainButtonClickable&&I.additionalButtonFunctions.MaximizeWrapper():I.additionalButtonFunctions.MinimizeWrapper();var a=I.pizzabtn.moved=!1;if(null!==window.probtn_dropedActiveZone&&void 0!==window.probtn_dropedActiveZone&&!1==a)if("video"==window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType)jQuery("#video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name).get(0).pause();I.overlaped?(I.statistics.SendStatObject({Closed:1}),I.additionalButtonFunctions.hideAll()):I.pizzabtn.undragAnimate()}else null==t&&("video"!==I.params.ButtonContentType||"iOS"!==I.userData.os||I.userData.isiPad,I.additionalButtonFunctions.MaximizeWrapper(function(){I.onButtonTap()}));""!==I.params.CloseAreaType&&"default"!==I.params.CloseAreaType||I.closeButton.hide(),I.pizzabtn.moved=!1,!(I.overlaped=!1)===I.params.MainButtonClickable&&0<A("#probtn_menu").length&&I.additionalButtonFunctions.MaximizeWrapper()}}),I.initFunctions.initWebAudio()}};I.cookieFunctions.getDeviceCID(function(t){console.log("guid",t),I.DeviceCID=t,I.initFunctions.initExternalData.initFirstAvailable(function(){I.statistics.callSuperPixelExt("initFirstAvailable_done"),I.geolocation.checkAndRunGeolocation(function(){!function(){I.params.Debug&&console.log("getSettingsAndLaunchButton");var t=1;function e(t){I.statistics.callSuperPixelExt("parseResultData"),I.params.Debug&&console.log(t);try{try{t.result.HintText=HintText}catch(t){}function n(t){if(100===t.code)t.MSMediaKeyNeededEvent.location;else{I.params.Debug&&console.log(I.params);try{t.result&&""==t.result.CloseImage&&(t.result.CloseImage=I.params.CloseImage)}catch(t){console.log(t)}var n=A.extend(!0,{},I.params,t.result);I.params=n;try{I.params.PassbackCustomCode=t.PassbackCustomCode,I.params.PassbackCodeSelector=t.PassbackCodeSelector,I.params.OnShowPixel=t.OnShowPixel,I.params.OnNoShowPixel=t.OnNoShowPixel,t.DmpEnabledApp&&(I.params.DmpEnabled=t.DmpEnabledApp),""!==I.params.PassbackCodeSelector&&void 0!==I.params.PassbackCodeSelector&&null!==I.params.PassbackCodeSelector||(I.params.PassbackCodeSelector="#probtn_passback")}catch(t){}I.params.Debug&&console.log("after server",I.params),I.params=A.extend(!0,I.params,s),I.params.Debug&&console.log("after options",I.params),I.params.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonSize),I.params.Debug&&console.log(I.params.ButtonSize),I.params.ButtonDragSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonDragSize),I.params.Debug&&console.log(I.params.ButtonDragSize);try{if(0<A("#probtn_additional_params").length){var e=A("#probtn_additional_params").text();e=JSON.parse(e),A.extend(!0,I.params,I.params,e)}}catch(t){I.params.Debug&&console.log(t)}!function(t){try{for(var n in t)if(t.hasOwnProperty(n)&&"string"==typeof t[n])try{if("PassbackCustomCode"!==n&&"JsImpressionCode"!==n&&"ContentURL"!==n){t[n];t[n]=t[n].split("<style>").join("").split("</style>").join("").split("<script>").join("").split("<\/script>").join("")}}catch(t){I.params.Debug&&console.log(t)}}catch(t){I.params.Debug&&console.log(t)}}(I.params),I.additionalButtonFunctions.checkProtocolLinks(I.params),"#probtnDebug"==window.location.hash&&(I.params.ButtonVisible=!0,I.params.ButtonEnabled=!0,I.params.Debug=!0),I.initFunctions.hintTextStyle={opacity:I.params.HintOpacity,"font-size":I.params.HintFont.Size,"font-family":I.params.HintFont.Family,color:"rgb("+100*I.params.HintFontColor.R+"%, "+100*I.params.HintFontColor.G+"%, "+100*I.params.HintFontColor.B+"%)","padding-left":I.params.HintLabelInsets.L,"padding-top":I.params.HintLabelInsets.T,"padding-right":I.params.HintLabelInsets.R,"padding-bottom":I.params.HintLabelInsets.B,background:"url('"+I.params.HintImage+"')"},""!==I.params.HintText&&null!==I.params.HintText||(I.initFunctions.hintTextStyle.display="none",I.initFunctions.hintTextStyle.opacity="0.0"),"js"==I.params.ButtonType&&A.getScript("https://cdn.viewst.com/libs/postscribe/htmlParser.js",function(){A.getScript("https://cdn.viewst.com/libs/postscribe/postscribe.js",function(){I.loadedStatus.postscribe=!0})})}}I.params.UseGeoLocation,n(t)}catch(t){I.params.Debug&&console.log(t)}}"iOS"!==I.userData.os&&"Mac OS"!==I.userData.os&&"Mac OS X"!==I.userData.os||(t=window.devicePixelRatio),I.userData.retina=t,I.params.isServerCommunicationEnabled||I.params.useLocalFileSettings?(I.statistics.callSuperPixel(),I.statistics.callSuperPixelExt("getSettingsAndLaunchButton"),I.additionalButtonFunctions.testSpeed(function(t){I.userData.kbs=t,I.params.Debug;try{if(0<A("#probtn_additional_params").length){var n=A("#probtn_additional_params").text();n=JSON.parse(n),A.extend(!0,I.params,I.params,n),""!==I.params.domain&&(I.currentDomain=I.params.domain)}}catch(t){I.params.Debug&&console.log(t)}I.params.useLocalFileSettings&&(a=I.params.localSettingsPath);!function(){if(I.params.useLocalFileSettings)a=I.params.localSettingsPath;else{document.domain.replace("www.","");var t="";!0===I.params.UseExternalDataAboutUser&&(t="Details="+JSON.stringify(I.params.ExternalData)+"&");var n="&";try{void 0!==navigator.connection&&null!==navigator.connection&&(void 0!==navigator.connection.effectiveType&&null!==navigator.connection.effectiveType&&(n="&NetworkType="+navigator.connection.effectiveType+"&"),0===I.userData.kbs&&(I.userData.kbs=1024*navigator.connection.downlink))}catch(t){n="&",console.log(t)}a=""!==I.params.CreativeId&&null!==I.params.CreativeId&&void 0!==I.params.CreativeId?I.statistics.createStatisticsLink("getClientSettings","&SelectAdSet="+I.params.SelectAdSet+"&ForceCampaign="+I.params.CreativeId+n+t):I.statistics.createStatisticsLink("getClientSettings","&SelectAdSet="+I.params.SelectAdSet+n+t)}I.statistics.callSuperPixelExt("getClientSettings");try{A.getJSON(a,e).done(function(){I.statistics.callSuperPixelExt("getClientSettings_loaded"),I.params.Debug&&console.log("done settings load")}).fail(function(t,n,e){I.params.Debug&&console.log(e),I.params.Debug&&console.log(n),!0}).always(function(){I.params.RequireLocation?(I.statistics.SendStatisticsData("performedAction","checkLocation"),I.geolocation.checkAndRunGeolocation(function(){I.params.RequireLocation?I.geolocation.checkPlaces(function(t,n){if(!t)return I.statistics.SendStatisticsData("performedAction","notNearPlaces"),I.additionalButtonFunctions.callPassback(),!1;I.statistics.SendStatisticsData("performedAction","isNearPlace"),i()}):i()})):i()})}catch(t){console.log(t),A.getJSON(a,function(t){e(t),i()})}}()})):I.params.Debug&&console.log("Dont load settings")}()})})})}else;}()},initExternalData:{initFirstAvailable:function(e){if(I.statistics.callSuperPixelExt("initFirstAvailable1"),!0===I.params.UseExternalDataAboutUser)if(0<I.params.ExternalDataSources.length){I.params.ExternalDataSources.sort(function(t,n){return t.Priority-n.Priority}),window.addEventListener("message",t,!1);var t=function(t){var n=t.origin||t.originalEvent.origin;n=I.additionalButtonFunctions.extractDomain(n),I.additionalButtonFunctions.extractDomain(I.params.ExternalDataSources[0].Source)===n&&(I.params.ExternalData={},I.params.ExternalData=t.data,e())};I.initFunctions.initExternalData.createExternalDataIframe(I.params.ExternalDataSources[0])}else e();else I.statistics.callSuperPixelExt("initFirstAvailable2"),e()},initSupplementing:function(){},createExternalDataIframe:function(t){A("<iframe/>",{id:t.Name,scrolling:"no",seamless:"seamless",src:t.Source,css:{width:"0px",height:"0px",position:"absolute",top:"-10000px",left:"-10000px"}}).appendTo("body")}},circularMenuPositionUpdate:function(){var t=A("#probtn_menu_ul li");var a=0,o=0;0<I.params.MenuOptions.MenuRadius&&(a=I.params.MenuOptions.MenuRadius),0<I.params.MenuOptions.ItemWidth&&(o=I.params.MenuOptions.ItemWidth);var s=I.additionalButtonFunctions.getWindowHeight()/2-I.pizzabtn.height()/2,r=I.additionalButtonFunctions.getWindowWidth()/2-I.pizzabtn.width()/2;t.each(function(t,n){try{var e=function(t){return t*(Math.PI/180)}(360/I.params.MenuItems.length),i={position:"absolute",top:s+I.pizzabtn.height()/2-o/2-1.1*a*Math.cos(e*t),left:r+I.pizzabtn.width()/2-o/2+1.1*a*Math.sin(e*t)};A(n).css(i)}catch(t){console.log(t)}})},initFloatingMenu:function(){if(console.log("initFloatingMenu"),I.params.ClickCounterLink&&""!==I.params.ClickCounterLink)try{I.statistics.createClickCounterImage(I.params.ClickCounterLink)}catch(t){I.params.Debug&&console.log(t)}I.statistics.SendStatObject({MenuOpened:1}),I.initFunctions.initRemoveMenu(),I.hintText.makeInvisible(),I.pizzabtn.stop(!0,!0),I.additionalButtonFunctions.MaximizeWrapper(function(){I.wrapper.css("background","rgba(0, 0, 0, 0.5)");var t,n=I.params.MenuClose;null!=n&&(console.log("ProBtnControl.params.MenuOptions",I.params.MenuOptions),n.MenuCloseEnabled&&((t=A("<img/>",{id:"probtn_menu_close_button",src:n.MenuCloseImage,scrolling:"no",css:{position:"fixed",width:n.MenuCloseSize.W,height:n.MenuCloseSize.H,border:"0px",overflow:"hidden",cursor:"pointer"}}).prependTo(I.additionalItemsContainer)).setPosition=function(){var t=I.params.MenuClose.MenuClosePosition.X/100,n=I.params.MenuClose.MenuClosePosition.Y/100,e=this.height();0===this.height()&&(e=I.params.MenuClose.MenuCloseSize.H);var i=this.width();0===this.width()&&(i=I.params.MenuClose.MenuCloseSize.W),this.css("top",I.additionalButtonFunctions.getWindowHeight()*n-e/2+"px"),this.css("left",I.additionalButtonFunctions.getWindowWidth()*t-i/2+A(window).scrollLeft()+"px")},t.on("click",function(){I.initFunctions.initRemoveMenu()}),t.setPosition(),I.menuClose=t)),I.pizzabtn.stop(!0,!0),setTimeout(function(){var h=0,f=I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height(),b=I.params.MenuTemplateVariant.split("_");console.log("ProBtnControl.params.MenuTemplateVariant",I.params.MenuTemplateVariant),"circularCenter"===b[0]&&(f=I.additionalButtonFunctions.getWindowHeight()/2-I.pizzabtn.height()/2,h=I.additionalButtonFunctions.getWindowWidth()/2-I.pizzabtn.width()/2),I.pizzabtn.animate({left:h,top:f},500,function(){setTimeout(function(){var t=A("<div/>",{id:"probtn_menu",style:"opacity: 0.1"}).prependTo(I.wrapper),l=A("<ul/>",{id:"probtn_menu_ul"}).prependTo(t),p=0,u=0;if(0<I.params.MenuOptions.MenuRadius&&(p=I.params.MenuOptions.MenuRadius),0<I.params.MenuOptions.ItemWidth&&(u=I.params.MenuOptions.ItemWidth),b[0].toLowerCase()!=="radialcorner".toLowerCase()&&b[0].toLowerCase()!=="circularcenter".toLowerCase()||A("head").append('<style type="text/css">#probtn_menu_ul li {     background:transparent!important; padding:0px!important; margin:0px!important; width:auto!important; display:inline-block!important; }#probtn_menu_ul { position: absolute; } #probtn_menu_ul img { height: '+u+"px !important; width: "+u+"px !important;     max-width: inherit !important; } #probtn_menu_ul {padding-left: 0px; }#probtn_menu_ul li a span { display: none; } </style>"),I.params.MenuItems){var m=1,g="style='font-size:"+I.params.MenuOptions.FontSize+"; font-family: "+I.params.MenuOptions.FontFamily+"; color: "+I.params.MenuOptions.ForegroundColor+" '";A.each(I.params.MenuItems,function(t,n){var e="";e=void 0!==n.Image&&null!==n.Image&&""!==n.Image?"<img style='height: 50px; margin-right: 10px;' src='"+n.Image+"'/>":"<div class='probtn_image_placeholder' style='display: inline-block; width: 40px; height:40px; margin-right: 10px;'>&nbsp;</div>";var i=n.ActionURL;"video"===n.Type&&(i="#video_item_"+n.Name);var a="return false;";function o(t){return t*(Math.PI/180)}"video"===n.Type&&I.userData.mobile&&(a=I.params.ButtonOnClick+" return false"),l.append("<li class='menu_item_elem_count"+m+"' style='opacity: 0;'><a "+g+" class='probtn_menu_link "+n.Type+"' rel='"+n.Name+"' rev='"+n.Type+"' target='_blank' onclick='"+a+"' href='"+i+"'><table><tr><td>"+e+"</td><td><span "+g+"><span>"+n.Text+"</span></a></span></td></tr></table></a></li>"),p<1&&(p=I.pizzabtn.height());var s=0,r=0,c=0,d={};switch(b[0]){case"radialcorner":c=2===I.params.MenuItems.length?(s=o(90/(I.params.MenuItems.length+1)),r=-1.1*p*Math.cos(s*(m+0)),1.1*p*Math.sin(s*(m+0))):(s=o(90/(I.params.MenuItems.length-1)),console.log("anglePart",s),r=-1.1*p*Math.cos(s*(m-1)),1.1*p*Math.sin(s*(m-1))),d={position:"absolute",top:r,left:c},console.log("itemStyle",d),A(".menu_item_elem_count"+m).css(d);break;case"circularCenter":s=o(360/I.params.MenuItems.length),d={position:"absolute",top:r=f+I.pizzabtn.height()/2-u/2-1.1*p*Math.cos(s*m),left:c=h+I.pizzabtn.width()/2-u/2+1.1*p*Math.sin(s*m)},A(".menu_item_elem_count"+m).css(d);break;default:A("#probtn_menu li:last").css({"margin-left":-A("#probtn_menu li:last").width()})}m++,"video"==n.Type&&I.videoFunctions.createVideoItem(n.Name,n.ActionURL)})}A(document).on("click",".probtn_menu_link",function(t){switch(A(this).attr("rev")){case"external":return window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,window.probtn_ButtonContentType="external",I.statistics.sendAreaActivatedStats(A(this).attr("rel")),window.open(A(this).attr("href")),t.preventDefault(),!1;case"iframe":window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,window.probtn_ButtonContentType="iframe",I.onButtonTap(A(this).attr("href"),A(this).attr("rel"),"iframe");break;case"closeMenu":return I.initFunctions.initRemoveMenu(),!1;case"video":return window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone={},window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType="video",window.probtn_dropedActiveZone.currentActiveZone.Name=A(this).attr("rel"),window.probtn_ButtonContentType="video",I.onButtonTap(A(this).attr("href"),A(this).attr("rel"),"video"),!1;default:return I.statistics.sendAreaActivatedStats(A(this).attr("rel")),window.open(A(this).attr("href")),t.preventDefault(),!1}});var n=I.pizzabtn.position().top-l.height();"radialcorner"==b[0]&&(n=I.pizzabtn.position().top,n+=p/2),"circularCenter"==b[0]&&(n=0),t.css("top",n),t.css("left",0),t.css("display","block"),t.animate({left:1,opacity:1},500,function(){});var e=300;A.each(A("#probtn_menu li"),function(t,n){A(n).animate({"margin-left":0,opacity:1},e,function(){}),e+=300})},300)})},1)})},initRemoveMenu:function(){I.wrapper.css("background","rgba(0, 0, 0, 0)"),A("#probtn_menu").remove(),A("#probtn_menu_close_button").remove()},hintTextStyle:{},fullscreenInitAndShow:function(){var t=null;if(!0===I.params.HideAfterFirstShow?t=I.cookieFunctions.readCookie("probtnCloseFlag"):I.cookieFunctions.eraseCookie("probtnCloseFlag"),null===t){var n="return false;",e="";""!==I.params.FullscreenClickLink&&void 0!==I.params.FullscreenClickLink&&null!==I.params.FullscreenClickLink&&(n=I.additionalButtonFunctions.getContentUrlWithUtm(I.params.FullscreenClickLink),e='<div id="probtn_iframe_overlay" style="  z-index: 200000; display: inline-block; width: 100%; height: 100%; margin-top: -100%;"></div>'),"fullscreen_and_button"!==I.params.ButtonType&&A("body").append('<div class="fancybox-overlay fancybox-overlay-fixed" style="width: auto; height: auto; display: block;"></div>'),A("body").append('<div id="fullscreen_probtn"><div class="fancybox-wrap fancybox-mobile fancybox-type-iframe fancybox-opened" tabindex="-1" style="margin: 0 auto; height: auto; position: fixed; opacity: 1; overflow: visible;"><div class="fancybox-skin" style="padding: 0px; width: auto; height: auto;"><div class="fancybox-outer"><div class="fancybox-inner" style="overflow: scroll; "><iframe id="probtn_fullscreen_iframe" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto" src="'+I.additionalButtonFunctions.getContentUrlWithUtm(I.params.ContentURL)+'" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>'+e+'</div></div><a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a></div></div></div>'),"fullscreen_and_button"!==I.params.ButtonType?I.statistics.SendStatObject({ContentShowed:1,Showed:1}):I.statistics.SendStatObject({ContentShowed:1}),I.interactionFunctions.initInteractionTimer(),A("body").on("click","#probtn_iframe_overlay",function(){I.statistics.SendStatObject({Clicked:1}),window.open(n)}),I.contentTime.startTimer(),I.HpmdFunctions.expandHpmdTrack(),I.additionalButtonFunctions.onOrientationChange(null),A("body").on("click","#fullscreen_probtn .fancybox-close, .fancybox-overlay",function(){A("#fullscreen_probtn").hide(),A(".fancybox-overlay").hide(),I.contentTime.endTimer(),I.HpmdFunctions.closeHpmdTrack(),I.additionalButtonFunctions.hideAll()}),!0===I.params.HideAfterFirstShow&&I.cookieFunctions.createCookie("probtnCloseFlag",!0,60)}},initActiveZones:function(){if((null!==I.params.ActiveZones||0<I.params.ActiveZones.length)&&"button_and_active_zones"==I.params.ButtonType){function t(){var t=A("body"),n=this.currentActiveZone.Position.X,e=this.currentActiveZone.Position.Y,i=(I.additionalButtonFunctions.getWindowHeight()-this.height())*e,a=(t.innerWidth()-this.width())*n+A(window).scrollLeft();i<=0&&(i=0),i+this.height()>I.additionalButtonFunctions.getWindowHeight()&&(i=I.additionalButtonFunctions.getWindowHeight()-this.height()),a<=0&&(a=0),a+this.width()>t.innerWidth()&&(a=t.innerWidth()-this.width()),this.css("top",i+"px"),this.css("left",a+"px")}function n(){this.setTransitionDuration(I.params.CloseActiveDuration),this.isActive=!0,"iframe"!==this.currentActiveZone.ButtonImageType&&this.attr("src",this.currentActiveZone.ActiveImage);I.additionalButtonFunctions.checkExistInitIframeSIze(this)?this.css({opacity:this.currentActiveZone.ActiveOpacity}):(this.currentActiveZone.ActiveSize=I.additionalButtonFunctions.convertPercentButtonSize(this.currentActiveZone.ActiveSize),this.css({opacity:this.currentActiveZone.ActiveOpacity,width:this.currentActiveZone.ActiveSize.W,height:this.currentActiveZone.ActiveSize.H}))}function e(t){var n=t+"s";this.css({"transition-duration":n,"-webkit-transition-duration":n,"-moz-transition-duration":n,"-o-transition-duration":n})}function i(){this.setTransitionDuration(I.params.CloseActiveDuration);var t=this;I.additionalButtonFunctions.checkExistInitIframeSIze(t)?t.css({opacity:t.currentActiveZone.InactiveOpacity}):(this.currentActiveZone.InactiveSize=I.additionalButtonFunctions.convertPercentButtonSize(this.currentActiveZone.InactiveSize),t.css({opacity:t.currentActiveZone.InactiveOpacity,width:t.currentActiveZone.InactiveSize.W,height:t.currentActiveZone.InactiveSize.H}))}function a(){if(this.currentActiveZone.ClickCounterLink&&""!==this.currentActiveZone.ClickCounterLink)try{I.statistics.createClickCounterImage(this.currentActiveZone.ClickCounterLink)}catch(t){I.params.Debug&&console.log(t)}}for(var o=0;o<I.params.ActiveZones.length;o++){var s=I.params.ActiveZones[o];s.ActiveSize=I.additionalButtonFunctions.convertPercentButtonSize(s.ActiveSize),s.InactiveSize=I.additionalButtonFunctions.convertPercentButtonSize(s.InactiveSize),""!==s.Name&&null!==s.Name&&void 0!==s.Name||(s.Name=I.additionalButtonFunctions.randomString(12));var r="<img/>";"iframe"==s.ButtonImageType&&(r="<iframe/>"),null!==s.ButtonIframeInitialSize&&void 0!==s.ButtonIframeInitialSize||(s.ButtonIframeInitialSize={W:0,H:0});var c=A(r,{id:"probtn_active_zone_"+s.Name,src:s.InactiveImage,class:"probtn_active_zone",rel:s.Name,scrolling:"no",css:{position:"fixed",width:s.InactiveSize.W,height:s.InactiveSize.H,opacity:s.InactiveOpacity,border:"0px",overflow:"hidden"}}).prependTo(I.additionalItemsContainer);"iframe"==s.ButtonImageType&&I.additionalButtonFunctions.applyIframeScale(c,s.ButtonIframeInitialSize,s.InactiveSize),I.additionalButtonFunctions.preloadImage(s.ActiveImage),"video"==s.ButtonContentType&&I.videoFunctions.createVideoItem(s.Name,s.ActionURL),"video_and_iframe"===s.ButtonContentType&&I.videoFunctions.createVideoAndIframeItem(s.ActionURL,s.Name),s.VisibleOnlyInteraction&&c.hide(),c.isActive=!1,c.currentActiveZone=s,c.setPosition=t,c.setTransitionDuration=e,c.animateActive=n,c.animateInactive=i,c.requestClickCounterLink=a,c.setPosition(),I.initializedActiveZones[s.Name]=c}}},scrollZoneFirstRun:!1,initScrollChange:function(t){function n(t){var n=I.initFunctions.initStartScrollParams("get");null===n&&null!==I.currentScrollZone&&void 0!==I.currentScrollZone?I.statistics.sendScrollAreaShowedStats(I.currentScrollZone.Name):!0===I.initFunctions.scrollZoneFirstRun&&I.statistics.sendScrollAreaShowedStats(n.Name),null!==n&&(I.currentScrollZone.Name===n.Name&&A("#pizzabtnImg",I.pizzabtn).hasClass("pizzabtnImg_iframe_cached")||("iframe"===n.ButtonImageType?n.CustomContentURL===I.currentScrollZone.CustomContentURL&&n.ButtonImageType===I.currentScrollZone.ButtonImageType&&n.ButtonImage===I.currentScrollZone.ButtonImage||(A("#pizzabtnImg",I.pizzabtn).hide(),A("#pizzabtnImg",I.pizzabtn).attr("id",""),0<A(".pizzabtnImg_iframe_cached[rel='"+n.Name+"']",I.pizzabtn).length?(A(".pizzabtnImg_iframe_cached[rel='"+n.Name+"']",I.pizzabtn).attr("id","pizzabtnImg"),A(".pizzabtnImg_iframe_cached[rel='"+n.Name+"']",I.pizzabtn).show()):(A(".pizzabtnImg_iframe_cached."+n.Name,I.pizzabtn).attr("id","pizzabtnImg"),A(".pizzabtnImg_iframe_cached."+n.Name,I.pizzabtn).show())):(A("#pizzabtnImg",I.pizzabtn).hide(),A("#pizzabtnImg",I.pizzabtn).attr("id",""),A(".pizzabtnImg_cached[rel='"+n.Name+"']",I.pizzabtn).attr("id","pizzabtnImg"),A("#pizzabtnImg",I.pizzabtn).attr("src",n.ButtonImage),A(".pizzabtnImg_cached[rel='"+n.Name+"']",I.pizzabtn).show()),!0!==I.initFunctions.scrollZoneFirstRun&&I.currentScrollZone.Name!==n.Name&&I.statistics.sendScrollAreaShowedStats(n.Name)),n.CustomButtonParams?n.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(n.ButtonSize):n.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonSize),null!==n.ButtonIframeInitialSize&&void 0!==n.ButtonIframeInitialSize||(n.ButtonIframeInitialSize=I.params.ButtonIframeInitialSize),n.CustomButtonParams?(A(I.pizzabtn).css({width:n.ButtonSize.W,height:n.ButtonSize.H}),I.currentScrollZone!==n&&("iframe"===n.ButtonImageType||A("#pizzabtnImg").attr("src",n.ButtonImage)),0<n.ButtonIframeInitialSize.W&&0<n.ButtonIframeInitialSize.H?n.CustomButtonParams&&(A("#pizzabtnImg").css({width:n.ButtonIframeInitialSize.W,height:n.ButtonIframeInitialSize.H}),A(I.pizzabtn).css({opacity:I.params.ButtonOpacity})):A("#pizzabtnImg").css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A(I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,opacity:I.params.ButtonOpacity}),0<n.ButtonIframeInitialSize.W&&0<n.ButtonIframeInitialSize.H&&I.additionalButtonFunctions.applyIframeScale(A("#pizzabtnImg"),n.ButtonIframeInitialSize,n.ButtonSize)):!1===I.buttonMainParams.isEmpty?(I.currentScrollZone==n&&("iframe"===n.ButtonImageType||A("#pizzabtnImg",I.pizzabtn).attr("src",n.ButtonImage)),A("#pizzabtnImg").css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A(I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,opacity:I.params.ButtonOpacity})):"iframe"!==n.ButtonImageType&&(A("#pizzabtnImg").css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A(I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,opacity:I.params.ButtonOpacity})),I.currentScrollZone!=n&&("iframe"==n.ButtonImageType&&I.additionalButtonFunctions.applyIframeScale(A("#pizzabtnImg"),n.ButtonIframeInitialSize,n.ButtonSize),!0===I.params.DisableButtonMove&&I.additionalButtonFunctions.setButtonStartPosition(I.pizzabtn))),I.initFunctions.scrollZoneFirstRun=!1,I.currentScrollZone=n}"button_and_scroll_zones"==I.params.ButtonType&&(null!=t?n():(A.each(I.params.ScrollZones,function(t,n){I.additionalButtonFunctions.preloadImage(n.ButtonImage),I.additionalButtonFunctions.preloadImage(n.ButtonDragImage),A("body").on("click","#video_probtn_"+n.Name,function(t){console.log("");try{A("#video_probtn_"+n.Name).get(0).pause()}catch(t){console.log(t)}""!==I.params.VideoClickURL&&(I.statistics.SendStatisticsData("VideoClicked",1),window.open(I.params.VideoClickURL))})}),I.initFunctions.scrollZoneFirstRun=!0,I.additionalButtonFunctions.preloadIframeScrollZones(),n(),A(window).scroll(n)))},initStartScrollParams:function(t){if("button_and_scroll_zones"!=I.params.ButtonType)return null;var o=null,n=document.documentElement,s=(window.pageXOffset||n.scrollLeft,n.clientLeft,(window.pageYOffset||n.scrollTop)-(n.clientTop||0)),e=navigator.userAgent.toLowerCase(),i=-1<e.indexOf("opera"),a=!i&&-1<e.indexOf("msie"),r=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!a||i?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)};!1===I.params.ChangeScrollButtonAtFullSiteHeight&&(r=function(){return window.innerHeight},s=0);var c=0;if(null==t){c=(I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H/2)*I.params.ButtonPosition.Y;A("body").innerWidth(),I.params.ButtonSize.W,I.params.ButtonPosition.X,A(window).scrollLeft()}else c=I.pizzabtn.position().top;var d=0;return A.each(I.params.ScrollZones,function(t,n){void 0!==n.Name&&null!==n.Name||(n.Name="scrollZone"+t),"video"===n.ButtonContentType&&I.videoFunctions.createVideoItem(n.Name,n.CustomContentURL),"video_and_iframe"===n.ButtonContentType&&I.videoFunctions.createVideoAndIframeItem(n.CustomContentURL,n.Name);var e=d+r()*n.ZoneHeight,i=c+s;if(i<=e&&d<i){window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,o=n,window.probtn_dropedActiveZone.currentActiveZone=n,null!==I.currentScrollZone&&void 0!==I.currentScrollZone||(I.currentScrollZone=o);try{I.params.currentContentURL=n.CustomContentURL,I.params.currentButtonContentType=n.ButtonContentType,I.params.currentAreaName=n.Name}catch(t){}I.params.ButtonImage=n.ButtonImage;var a="";if("iframe"===n.ButtonImageType?(A("#probtn_hintText").remove(),A("#pizzabtnImg").css("border","0px solid transparent"),I.currentScrollZone!=n&&null!=(a=A(I.pizzabtn).html())&&I.currentScrollZone.ButtonImageType,I.params.ButtonImageType=n.ButtonImageType):(A("#pizzabtnIframeOverlay").remove(),a=A(I.pizzabtn).html(),I.currentScrollZone!=n&&"iframe"===I.currentScrollZone.ButtonImageType&&null!=a&&"image"==n.ButtonImageType&&I.additionalButtonFunctions.hideIframeScrollZones(),I.params.ButtonImageType="image"),null!==n.ButtonIframeInitialSize&&void 0!==n.ButtonIframeInitialSize||(n.ButtonIframeInitialSize={W:0,H:0}),null!==n.ButtonSize&&void 0!==n.ButtonSize||(n.ButtonSize=I.params.ButtonSize),"iframe"===n.ButtonImageType){if((A("#pizzabtnIframeOverlay").length<=0||I.currentScrollZone!=n)&&(pizzabtnCss={width:n.ButtonSize.W,height:n.ButtonSize.H,opacity:1,position:"absolute",top:"0px"},"iframe"!==I.currentScrollZone.ButtonImageType))A("<div/>",{id:"pizzabtnIframeOverlay",css:pizzabtnCss}).appendTo(I.pizzabtn)}else I.additionalButtonFunctions.setTransform(A("#pizzabtnImg"),1,1);""!==n.ButtonDragImage?I.params.ButtonDragImage=n.ButtonDragImage:I.params.ButtonDragImage=n.ButtonImage,"iframe"==n.ButtonImageType&&(I.params.ButtonDragImage=""),n.CustomButtonParams?(I.buttonMainParams.isEmpty&&(I.buttonMainParams.ButtonSize=I.params.ButtonSize,I.buttonMainParams.ButtonDragSize=I.params.ButtonDragSize,I.buttonMainParams.ButtonOpacity=I.params.ButtonOpacity,I.buttonMainParams.ButtonDragOpacity=I.params.ButtonDragOpacity,I.buttonMainParams.isEmpty=!1),"iframe"!==n.ButtonImageType&&(n.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(n.ButtonSize),n.ButtonDragSize=I.additionalButtonFunctions.convertPercentButtonSize(n.ButtonDragSize)),I.params.ButtonSize=n.ButtonSize,null!==n.ButtonDragSize&&void 0!==n.ButtonDragSize&&(I.params.ButtonDragSize=n.ButtonDragSize),I.params.ButtonOpacity=n.ButtonOpacity,I.params.ButtonDragOpacity=n.ButtonDragOpacity):!1===I.buttonMainParams.isEmpty&&(I.params.ButtonSize=I.buttonMainParams.ButtonSize,I.params.ButtonDragSize=I.buttonMainParams.ButtonDragSize,I.params.ButtonOpacity=I.buttonMainParams.ButtonOpacity,I.params.ButtonDragOpacity=I.buttonMainParams.ButtonDragOpacity)}d+=r()*n.ZoneHeight,I.additionalButtonFunctions.checkAndCorrentButtonPosition()}),o},initPizzaButton:function(){var t=I.wrapper,n=A("body");if("youtube"===I.params.ButtonContentType){var e;e=I.additionalButtonFunctions.getTitleTextForModalWindow(),n.append('<div class="fancybox-overlay fancybox-overlay-fixed" id="youtube_fullscreen" style="width: auto; height: auto; display: none;""></div>'),n.append('<div id="fullscreen_probtn" style="display: none;"><div class="fancybox-wrap fancybox-mobile fancybox-type-iframe fancybox-opened" tabindex="-1" style="margin: 0 auto; height: auto; position: fixed; opacity: 1; overflow: visible;"><div class="fancybox-skin" style="padding: 0px; width: auto; height: auto;"><div class="fancybox-outer"><div class="fancybox-inner" style="overflow: scroll; "><iframe id="video_probtn" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto" src="'+I.additionalButtonFunctions.getContentUrlWithUtm(I.params.ContentURL)+'" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe></div></div><div style="background: white;" class="fancybox-title fancybox-title-inside-wrap">'+e+'</div><a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a></div></div></div>'),n.on("click","#fullscreen_probtn .fancybox-close, .fancybox-overlay",function(){A("#fullscreen_probtn").hide(),A(".fancybox-overlay").hide(),I.contentTime.endTimer(),I.HpmdFunctions.closeHpmdTrack(),I.additionalButtonFunctions.MinimizeWrapper(function(){},I.params.MinimizeWrapperTime),A.pep.toggleAll(!0),probtn_callPlayer("video_probtn","pauseVideo"),probtn_callPlayer("video_probtn","stopVideo")})}if("video"===I.params.ButtonContentType){""!==I.params.VideoClickURL&&null!==I.params.VideoClickURL&&void 0!==I.params.VideoClickURL||(I.params.VideoClickURL=I.params.VideoPoster);var i,a="";""!==I.params.VideoItemHeaderImage&&(a='<tr id="probtn_video_header_tr"><td id="probtn_video_header_td" style="height: 1px;text-align: center;"><img src="'+I.params.VideoItemHeaderImage+'" id="probtn_video_header_img" alt="" style="width: 70%; margin-top: 5%;"></td></tr>');var r="";if(null!==I.params.VideoFooterButton&&void 0!==I.params.VideoFooterButton&&""!==I.params.VideoFooterButton){var o="";try{var s=I.params.VideoFooterButton;I.params.VideoFooterButton=A("<div/>").html(s).text(),o=JSON.parse(I.params.VideoFooterButton)}catch(t){o=""}if(null!=o&&""!==o){Array.isArray(o)||(o=[o]),o=o.map(function(t,n){return null!==t.id&&void 0!==t.id&&""!==t.id||(t.id="clickableVideoArea_"+n),t}),I.params.VideoFooterButton=o;var c=!1,d=null;o.forEach(function(e,t){var n="position: absolute; z-index: 1000; display: none;width:"+e.width+"px;height:"+e.height+"px;top:"+e.top+"px;left:"+e.left+"px;",i='<div class="clickableVideoAreaClass" id="'+e.id+'" style="'+n+'"></div>';if(void 0!==e.href&&null!==e.href&&""!==e.href)r+='<a href="'+e.href+'" target="_blank">'+i+"</a>",A(document).on("click","#"+e.id,function(t){I.statistics.SendStatisticsData("VideoClicked",1),document.getElementById("video_probtn").pause()});else if(void 0!==e.html&&null!==e.html&&""!==e.html){var a="";if(void 0!==e.htmlCloseImg&&null!==e.htmlCloseImg&&""!==e.htmlCloseImg){var o=e.id+"closeHtmlArea";a='<img class="closeAreaImgClass" src="'+e.htmlCloseImg+'" id="'+o+'"/>',A(document).on("click","#"+o,function(t){A("#"+e.id+"_htmlArea").css("display","none"),document.getElementById("video_probtn").play(),c=!1,console.log(c)})}var s='<div class="htmlAreaClass" id="'+e.id+'_htmlArea" style="display: none">'+a+e.html+"</div>";r+=i+s,A(document).on("click","#"+e.id,function(t){A("#"+e.id).css("display","none"),A("#"+e.id+"_htmlArea").css("display","block"),document.getElementById("video_probtn").pause(),c=!1,null!==d&&clearTimeout(d);var n=8e3;void 0!==e.closeWithoutInteractionTime&&null!==e.closeWithoutInteractionTime&&""!==e.closeWithoutInteractionTime&&(n=e.closeWithoutInteractionTime),d=setTimeout(function(){A("#"+e.id+"_htmlArea").css("display","none");var t=document.getElementById("video_probtn");console.log("timeout",c),t.paused&&!c&&t.play()}.bind(this),n),I.statistics.SendStatisticsData("performedAction","ClickOnClickableArea")}),A(document).on("click",".custom_clickable",function(t){t.stopPropagation(),t.stopImmediatePropagation(),I.statistics.SendStatisticsData("VideoClicked",1),document.getElementById("video_probtn").pause(),c=!0,console.log(c)})}}),I.additionalButtonFunctions.recalculateVideoClickableAreasPos=function(){var a=document.getElementById("video_probtn").offsetWidth/I.params.VideoSize.X,o=document.getElementById("video_probtn").offsetHeight/I.params.VideoSize.Y,s=A("#video_probtn").position().left,r=A("#video_probtn").position().top;I.params.VideoFooterButton.forEach(function(t){!function(t){var n=t.id,e={};if(e.left=a*t.left+s,e.top=o*t.top+r,e.width=a*t.width,e.height=o*t.height,A("#"+n).css("left",e.left),A("#"+n).css("top",e.top),A("#"+n).css("width",e.width),A("#"+n).css("height",e.height),void 0!==t.html&&null!==t.html&&""!==t.html){A("#"+t.id+"_htmlArea").css("top",r);var i=A("#video_probtn").height();A("#"+t.id+"_htmlArea").css("height",i)}}(t)})},A(window).bind("scroll",I.additionalButtonFunctions.recalculateVideoClickableAreasPos)}}var l='preload="none"';!0===I.params.VideoPreload&&(l=""),i='<div id="video_item" class="probtn_video_wrapper2" style="display: none; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table cellspacing="0" cellpadding="0" class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0px;">'+a+'<tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline '+l+' onclick="" poster="'+I.params.VideoPoster+'" id="video_probtn" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+I.params.ContentURL+'" type="video/mp4">Your browser does not support the video tag. </video>'+r+"</td></tr></table></div>",I.additionalItemsContainer.append(i),console.log(A("#probtn_video").width()),""!==I.params.VideoClickURL&&null!==I.params.VideoClickURL&&void 0!==I.params.VideoClickURL&&(console.log("ProBtnControl.params.VideoClickURL1",I.params.VideoClickURL),A("body").on("click","#video_probtn",function(t){try{A("#video_probtn").get(0).pause()}catch(t){console.log(t)}I.statistics.SendStatisticsData("VideoClicked",1),window.open(I.params.VideoClickURL)}));var p=I.additionalButtonFunctions.getWindowWidth()-30,u=I.additionalButtonFunctions.getWindowHeight()-60;!0===I.params.IsManualSize&&(p=-1!==I.params.ContentSize.X.indexOf("%")?I.additionalButtonFunctions.getWindowWidth()*(parseFloat(I.params.ContentSize.X)/100):I.params.ContentSize.X,u=-1!==I.params.ContentSize.Y.indexOf("%")?I.additionalButtonFunctions.getWindowHeight()*(parseFloat(I.params.ContentSize.Y)/100):I.params.ContentSize.Y);var m=0,g=0;p<u?g=(m=u)/I.params.VideoSize.Y*I.params.VideoSize.X:m=(g=p)/I.params.VideoSize.X*I.params.VideoSize.Y,A(".probtn_video_wrapper").width(p),A(".probtn_video_wrapper").height(u),A(".probtn_video").width(g),A(".probtn_video").height(m)}"video_and_iframe"===I.params.ButtonContentType&&I.videoFunctions.createVideoAndIframeItem(I.params.ContentURL);I.statistics.callSuperPixelExt("TrackingLink"),null!==I.params.TrackingLink&&null!==I.params.TrackingLink&&""!==I.params.TrackingLink&&I.params.TrackingLink.split("%7C").forEach(function(t,n){I.statistics.createClickCounterImage(t)});t.css({width:"auto",height:"auto",position:"fixed"});var h=I.params.ExtrusionMode.split("_"),f=0,b=0,v={};switch(h[0]){case"topButton":A("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+I.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+I.params.ButtonSize.H+"px !important; position: absolute !important; }</style>");break;case"topButtonTimeout":var w=h[1];f=parseInt(h[2]),b=parseInt(h[3]),A("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+I.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+I.params.ButtonSize.H+"px !important; position: absolute !important; }</style>"),setTimeout(function(){A("#extrusionMode_topButton").remove(),I.params.ButtonSize.W=f,I.params.ButtonSize.H=b,I.params.ButtonSize.Initial={},"iframe"==I.params.ButtonImageType&&I.additionalButtonFunctions.applyIframeScale(A("#pizzabtnImg"),I.params.ButtonIframeInitialSize,I.params.ButtonSize),A(I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A("#pizzabtnIframeOverlay").css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H})},w);break;case"topButtonScroll":var B=h[1];f=parseInt(h[2]),b=parseInt(h[3]),A("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+I.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+I.params.ButtonSize.H+"px !important; position: absolute !important; }</style>");var S=!1;A(window).scroll(function(t){var n=document.documentElement,e=(window.pageXOffset||n.scrollLeft,n.clientLeft,(window.pageYOffset||n.scrollTop)-(n.clientTop||0)),i=(I.additionalButtonFunctions.getWindowHeight(),I.params.ButtonSize.H,I.params.ButtonPosition.Y,navigator.userAgent.toLowerCase()),a=-1<i.indexOf("opera"),o=!a&&-1<i.indexOf("msie");I.pizzabtn.position().top;e/Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!o||a?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)>B&&!1===S&&(S=!0,I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_banner_to_button"}),A("#extrusionMode_topButton").remove(),I.params.ButtonSize.W=f,I.params.ButtonSize.H=b,I.params.ButtonSize.Initial={},"iframe"==I.params.ButtonImageType&&I.additionalButtonFunctions.applyIframeScale(A("#pizzabtnImg"),I.params.ButtonIframeInitialSize,I.params.ButtonSize),A(I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A("#pizzabtnIframeOverlay").css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}))});break;case"insertBlock":case"fixedTop":v.width="100%"}var y=A("#probtn_button");0===y.length&&(y=A("<div/>",{id:"probtn_button"}).prependTo(t)),y.addClass("pizzabtn_normal"),y.addClass("probtn_normal"),I.userData.mobile&&(y.attr("onclick",I.params.ButtonOnClick),y.attr("ontouchend",I.params.ButtonOnTouchEnd),y.attr("ontouchstart",I.params.ButtonOnTouchStart)),v=!0===I.params.ControlInIframeFromParent?(y.css({display:"none",width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,opacity:I.params.ButtonOpacity}),{width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,"max-width":"inherit !important","max-height":"inherit !important"}):(y.css({display:"none",opacity:I.params.ButtonOpacity,"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":1e3,"-moz-perspective":1e3,"-ms-perspective":1e3,perspective:1e3,"-webkit-transition":"top, left "+I.params.buttonAnimationTimeAfterFancybox+"ms linear","-moz-transition":"top, left "+I.params.buttonAnimationTimeAfterFancybox+"ms linear","-ms-transition":"top, left "+I.params.buttonAnimationTimeAfterFancybox+"ms linear","-o-transition":"top, left "+I.params.buttonAnimationTimeAfterFancybox+"ms linear",transition:"top, left "+I.params.buttonAnimationTimeAfterFancybox+"ms linear",width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),{width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,"max-width":"inherit !important","max-height":"inherit !important","transition-property":"opacity, width, height","timing-function":"linear","-webkit-transition-property":"opacity, width, height","-webkit-timing-function":"linear","-moz-transition-property":"opacity, width, height","-moz-timing-function":"linear","-o-transition-property":"opacity, width, height","-o-timing-function":"linear"});var z=null;if("iframe"===I.params.ButtonImageType){v.border="0px",v.overflow="hidden",z=A("<iframe/>",{id:"pizzabtnImg",scrolling:"no",seamless:"seamless",src:I.params.ButtonImage,css:v}).appendTo(y),I.additionalButtonFunctions.applyIframeScale(z,I.params.ButtonIframeInitialSize,I.params.ButtonSize),v.position="absolute",v.top="0px";A("<div/>",{id:"pizzabtnIframeOverlay",css:v}).appendTo(y);if(I.params.waitForIframeButtonLoaded){I.params.Debug&&console.log("waitForIframeButtonLoaded hide1");var x=document.getElementById("pizzabtnImg");y.hide();try{x.onload=function(){I.params.Debug&&console.log("waitForIframeButtonLoaded show1"),y.show(),I.closeButton.initAlwaysShowCloseStyles()}}catch(t){}}try{A("#pizzabtnIframeOverlay").hover(function(){var t=document.getElementById("pizzabtnImg");null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_hover_started"},"*")},function(){var t=document.getElementById("pizzabtnImg");null!=t&&null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_hover_stoped"},"*")})}catch(t){}}else z=A("<img/>",{id:"pizzabtnImg",src:I.params.ButtonImage,css:v}).appendTo(y),A("#pizzabtnImg").attr("src",I.params.ButtonImage),I.closeButton.initAlwaysShowCloseStyles();I.additionalButtonFunctions.preloadImage(I.params.ButtonDragImage),I.hintText=A("<span/>",{id:"probtn_hintText",css:{opacity:0,"transition-property":"opacity","timing-function":"linear","-webkit-transition-property":"opacity","-webkit-timing-function":"linear","-moz-transition-property":"opacity","-moz-timing-function":"linear","-o-transition-property":"opacity","-o-timing-function":"linear","transition-duration":I.params.HintShowDuration+"s","-webkit-transition-duration":I.params.HintShowDuration+"s","-moz-transition-duration":I.params.HintShowDuration+"s","-o-transition-duration":I.params.HintShowDuration+"s"},html:I.params.HintText.replace(/ /g,"&nbsp;")}).appendTo(y),y.hintTextActive=!1,I.additionalButtonFunctions.MinimizeWrapper(function(){},I.params.MinimizeWrapperTime),I.hintText.makeInvisible=function(){this.css({"transition-duration":I.params.HintHideDuration+"s","-webkit-transition-duration":I.params.HintHideDuration+"s","-moz-transition-duration":I.params.HintHideDuration+"s","-o-transition-duration":I.params.HintHideDuration+"s"}),this.css("opacity",0)},y.startShowedTimer=function(){I.contentTime.startTimer("ButtonShowedDuration")},y.stopShowedTimer=function(){I.contentTime.endTimer("ButtonShowedDuration")},y.center=function(){I.wrapper;this.css("top",(I.additionalButtonFunctions.getWindowHeight()-this.height())/2+A(window).scrollTop()+"px"),this.css("left",(I.additionalButtonFunctions.getWindowWidth()-this.width())/2+A(window).scrollLeft()+"px")},y.show=function(){var t=this;t.startShowedTimer(),setTimeout(function(){t.stop(!0,!0).fadeIn(1e3*I.params.ButtonShowDuration)},1e3*I.params.ButtonShowDelay)},y.hide=function(){var t=this;setTimeout(function(){I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_closed"}),console.log("btn hide"),t.stop(!0,!0).fadeOut(1e3*I.params.ButtonHideDuration)},1e3*I.params.ButtonHideDelay)},window.proBtn={},window.proBtn.hide=y.hide,window.proBtn.hideContent=function(){A.fancybox.close()},window.proBtn.close=function(){A.fancybox.close(),I.statistics.SendStatObject({Closed:1}),I.additionalButtonFunctions.MinimizeWrapper(),A("body").removeClass("probtn_disable_scroll"),I.additionalButtonFunctions.hideAll()},window.proBtn.performAction=function(){null!==I.params.CampaignID&&A.getJSON(I.serverUrl+"/1/functions/performAction?DeviceType=web&DeviceUID="+I.GetDeviceUID()+"&DeviceCUID="+I.DeviceCID+"&X-ProBtn-Token="+XProBtnToken+"&CampaignID="+I.params.CampaignID+"&random="+Math.random()+"&callback=?",function(t){})},y.dragAnimate=function(){""!==I.params.ButtonDragImage&&void 0!==I.params.ButtonDragImage&&null!==I.params.ButtonDragImage&&"iframe"!==I.params.ButtonImageType&&(I.params.Debug&&console.log("drag image apply"),z.attr("src",I.params.ButtonDragImage)),setTimeout(function(){!0!==I.params.ControlInIframeFromParent&&z.css({"transition-duration":I.params.ButtonDragDuration+"s","-webkit-transition-duration":I.params.ButtonDragDuration+"s","-moz-transition-duration":I.params.ButtonDragDuration+"s","-o-transition-duration":I.params.ButtonDragDuration+"s"}),"iframe"!==I.params.ButtonImageType&&z.css({opacity:I.params.ButtonDragOpacity,width:I.params.ButtonDragSize.W,height:I.params.ButtonDragSize.H})},1e3*I.params.ButtonDragDelay)},y.undragAnimate=function(){"iframe"!==I.params.ButtonImageType&&z.attr("src",I.params.ButtonImage),setTimeout(function(){!0!==I.params.ControlInIframeFromParent&&z.css({"transition-duration":I.params.ButtonUndragDuration+"s","-webkit-transition-duration":I.params.ButtonUndragDuration+"s","-moz-transition-duration":I.params.ButtonUndragDuration+"s","-o-transition-duration":I.params.ButtonUndragDuration+"s"}),"iframe"!==I.params.ButtonImageType&&(z.css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A(I.pizzabtn).css({opacity:I.params.ButtonOpacity}))},1e3*I.params.ButtonUndragDelay)},y.showHint=function(){var n=this;setTimeout(function(){I.hintText.css(I.initFunctions.hintTextStyle),n.hintTextActive=!0;var t=(I.hintText.width()-I.params.ButtonSize.W)/2;I.hintText.css("margin-left","-"+t+"px")},1e3*I.params.HintLaunchDelay)},y.hideHint=function(){var t=this;I.hintText.makeInvisible(),setTimeout(function(){t.animateDuringHintHide()},100),t.hintTextActive=!1},y.hideHintDelay=function(){setTimeout(function(){I.hintText.makeInvisible()},1e3*I.params.HintLaunchDuration)},y.animateDuringHintHide=function(){var t=(I.hintText.outerWidth()-I.params.ButtonSize.W)/2;0<t&&this.css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H,left:this.position().left+t})},I.additionalButtonFunctions.setButtonStartPosition(y),I.additionalButtonFunctions.changeBodySize(),I.interactionFunctions.initInteractionTimer();try{if(A("#pizzabtnImg").is("iframe"))try{var _=document.getElementById("pizzabtnImg");window.addEventListener("deviceorientation",function(t){null!==_.contentWindow&&_.contentWindow.postMessage({message:"probtn_page_deviceorientation",dataEvent:{alpha:t.alpha,beta:t.beta,gamma:t.gamma}},"*")}),window.addEventListener("devicemotion",function(t){null!==_.contentWindow&&_.contentWindow.postMessage({message:"probtn_page_devicemotion",dataEvent:{x:t.accelerationIncludingGravity.x,y:t.accelerationIncludingGravity.y,z:t.accelerationIncludingGravity.z,alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma,uaparser:I.parsed_ua}},"*")},!1)}catch(t){}}catch(t){console.log(t)}return I.params.waitIframeLoadedMsg&&(console.log("waitIframeLoadedMsg hide1"),A("head").append('<style type="text/css" id="probtn_waitIframeLoadedMsg">#probtn_wrapper.hide {display: none !important;} #probtn_wrapper.show {display: inherit;}</style>'),I.buttonMainParams.hidden=!0,I.wrapper.addClass("hide"),y.hide()),I.initFunctions.initProbtnBadge(y),I.initFunctions.initProbtnClosingArea(y),I.additionalButtonFunctions.checkPostscribe(function(){if(null!==I.params.JsImpressionCode&&void 0!==I.params.JsImpressionCode&&""!==I.params.JsImpressionCode){var t=A("<textarea/>").html(I.params.JsImpressionCode).html();console.log("jscode",t),I.statistics.SendStatisticsData("performedAction","jsImpressionCode_started"),A("#probtn_button").append('<div id="jsImpressionCode" style="top: 0px; left: 0px; position: absolute; width: 100%; height: 100%;"></div>'),postscribe("#jsImpressionCode",""+t)}}),y},initCloseButton:function(){var i=A("<img/>",{id:"probtn_closeButton",src:I.params.CloseImage,class:"close_pro_button_normal probtn_active_zone",onclick:'console.log("onclick");',css:{position:"fixed",display:"none"}});return"attached"===I.params.CloseAreaType&&(""===I.params.AttachedClosePosition&&null===I.params.AttachedClosePosition&&void 0===I.params.AttachedClosePosition&&(I.params.AttachedClosePosition="top_left"),i.setClosePosition=function(){var t=I.params.AttachedClosePosition.split("_"),n=I.params.CloseSize.W/2,e=I.params.ButtonSize.H-I.params.CloseSize.H/2;switch("top"===t[0]&&(e=-I.params.CloseSize.H/2),t[1]){case"center":n=(I.params.ButtonSize.W-I.params.CloseSize.W)/2;break;case"right":n=I.params.ButtonSize.W-I.params.CloseSize.W/2;break;case"left":default:n=-I.params.CloseSize.W/2}i.css({margin:"0 auto",display:"none",top:e+"px",position:"absolute",left:n+"px","z-index":"9999"})},i.setClosePosition(),0<I.params.CloseButtonShowDelay?setTimeout(function(){i.css({display:"block"})},I.params.CloseButtonShowDelay):i.css({display:"block"})),i.ready=!1,i.clickOnCloseButton=function(){if(!0===I.params.ClickOnCloseButton){i.css("cursor","pointer"),console.log("probtn_closeButton click set");function n(){I.statistics.SendStatObject({Closed:1}),I.additionalButtonFunctions.hideAll()}I.closeButtonClicked=!1,document.getElementById("probtn_closeButton")?(document.getElementById("probtn_closeButton").addEventListener("click",function(t){if(!I.closeButtonClicked)return I.closeButtonClicked=!0,n(),t.preventDefault(),!1},!1),document.getElementById("probtn_closeButton").addEventListener("touchstart",function(t){if(!I.closeButtonClicked)return I.closeButtonClicked=!0,n(),t.preventDefault(),!1},!1)):console.log("probtn_closeButton does not exists")}},i.active=!1,i.rect={},i.css({"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":1e3,"-moz-perspective":1e3,"-ms-perspective":1e3,perspective:1e3,"transition-property":"opacity, width, height, left, top","timing-function":"linear","-webkit-transition-property":"opacity, width, height, left, top","-webkit-timing-function":"linear","-moz-transition-property":"opacity, width, height, left, top","-moz-timing-function":"linear","-o-transition-property":"opacity, width, height, left, top","-o-timing-function":"linear"}),i.center=function(){if(""===I.params.CloseAreaType||"default"===I.params.CloseAreaType){A("body");var t=I.params.ClosePosition.X,n=I.params.ClosePosition.Y;I.params.ControlInIframeFromParent,I.params.CloseSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.CloseSize);var e=this.height();0===this.height()&&(e=I.params.CloseSize.H);var i=this.width();0===this.width()&&(i=I.params.CloseSize.W),this.css("top",(I.additionalButtonFunctions.getWindowHeight()-e)*n+"px"),this.css("left",(I.additionalButtonFunctions.getWindowWidth()-i)*t+A(window).scrollLeft()+"px")}else"corner"===I.params.CloseAreaType&&this.css("display","none")},i.show=function(){var t=this;t.center(),setTimeout(function(){t.stop(!0,!0).fadeIn(1e3*I.params.CloseShowDuration)},1e3*I.params.CloseShowDelay)},i.hide=function(){var t=this;setTimeout(function(){t.stop(!0,!0).fadeOut(1e3*I.params.CloseHideDuration)},1e3*I.params.CloseHideDelay)},i.setTransitionDuration=function(t){var n=t+"s";this.css({"transition-duration":n,"-webkit-transition-duration":n,"-moz-transition-duration":n,"-o-transition-duration":n})},i.initAlwaysShowCloseStyles=function(){function t(){!0===I.params.AlwaysShowCloseButton&&(n.setUnactiveSize(),setTimeout(function(){var t="block";"corner"===I.params.CloseAreaType&&(t="none"),A("head").append('<style type="text/css">#probtn_closeButton { display: '+t+" !important; }</style>")},I.params.CloseButtonShowDelay))}var n=this;if(console.log("this.ready",this.ready),this.ready)null!==e?(t(),clearInterval(e)):t();else var e=setInterval(function(){t()},100)},i.overlayActive=function(){if(""===I.params.CloseAreaType||"default"===I.params.CloseAreaType){var t=this;t.position();t.setTransitionDuration(I.params.CloseActiveDuration),I.params.CloseActiveSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.CloseActiveSize),setTimeout(function(){t.css({opacity:I.params.CloseActiveOpacity,width:I.params.CloseActiveSize.W,height:I.params.CloseActiveSize.H})},1e3*I.params.CloseActiveDelay)}},i.overlayUnactive=function(){var t=this,n=(A("body"),I.params.ClosePosition.X),e=I.params.ClosePosition.Y;I.additionalButtonFunctions.getWindowHeight(),this.height(),I.additionalButtonFunctions.getWindowWidth(),I.closeButton.width(),A(window).scrollLeft();t.setTransitionDuration(I.params.CloseUnactiveDuration),setTimeout(function(){t.setUnactiveSize()},1e3*I.params.CloseUnactiveDelay)},i.setUnactiveSize=function(){I.params.CloseSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.CloseSize);var t={opacity:I.params.CloseOpacity,width:I.params.CloseSize.W,height:I.params.CloseSize.H};this.css(t)},i.setTransitionDuration(I.params.CloseActiveDuration),i.center(),i.ready=!0,i}},interactionFunctions:{time:0,initInteractionTimer:function(){void 0!==I.interactionFunctions.intervalId||clearInterval(I.interactionFunctions.intervalId),(I.interactionFunctions.time=0)<I.params.HideWithoutInteractionTime&&(I.contentTime.intervalId=setTimeout(function(){if((!1===I.interactionFunctions.wasInteraction||void 0===I.interactionFunctions.wasInteraction)&&(I.additionalButtonFunctions.hideAll(),"fullscreen"===I.params.ButtonType))try{A(".fancybox-overlay").remove(),A("#fullscreen_probtn").remove()}catch(t){}},I.params.HideWithoutInteractionTime))},intervalId:void 0,wasInteraction:!1},vastFunctions:{initVast:function(){return!1},onClickCheck:function(t){return t=t||"default",I.params.VASTparams.customParams.plc?(I.vastFunctions.sendMessageToApp("action",{type:"AdClickThru",id:t,url:getClickURL(I.params.VASTparams.clicks,t)},I.params.VASTparams.id),!1):(I.vastFunctions.sendMessageToApp("action",{type:"AdClickThru",id:t},I.params.VASTparams.id),I.vastFunctions.getClickURL(I.params.VASTparams.clicks,t))},sendVastMessage:function(t){if(I.params.VASTbutton){var n=function(t){for(var n=location.search.substr(1).split("&"),e={},i=0;i<n.length;i++){var a=n[i].split("=");e[a[0]]=decodeURIComponent(a[1])}return t?e[t]:e}("id"),e="default";switch(t){case"Closed":case"Hidded":I.vastFunctions.sendMessageToApp("action",{type:"AdUserClose",id:e},n)}}},sendMessageToApp:function(t,n,e){try{parent.postMessage(JSON.stringify({type:t,data:n,id:e}),"*")}catch(t){console.log(t)}},getClickURL:function(t,n){return t[n||"default"]}},DMP:{launchIDataScript:function(){try{if(!0===I.params.DmpEnabled){var t=document.createElement("script");t.src="//x01.aidata.io/pixel.js?pixel=PROBTN&id="+I.DeviceCID+"&v="+Date.now(),t.type="text/javascript",t.async=!0;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}catch(t){console.log("aidata exception",t)}}},additionalButtonFunctions:{resizeButton:function(t,n){var e=n;return t=I.additionalButtonFunctions.convertPercentButtonSize(t),I.params.ButtonSize=t,e=(e&&(I.params.ButtonIframeInitialSize.W=e.W,I.params.ButtonIframeInitialSize.H=e.H),I.params.ButtonIframeInitialSize),0!=I.params.ButtonIframeInitialSize.W&&0!=I.params.ButtonIframeInitialSize.H||(I.params.ButtonIframeInitialSize.W=t.W,I.params.ButtonIframeInitialSize.H=t.H),A("#pizzabtnImg").css("width",t.W+"px"),A("#pizzabtnImg").css("height",t.H+"px"),"iframe"==I.params.ButtonImageType&&(I.additionalButtonFunctions.applyIframeScale(A("#pizzabtnImg"),e,I.params.ButtonSize),A("#pizzabtnImg").css("width",e.W+"px"),A("#pizzabtnImg").css("height",e.H+"px")),I.pizzabtn.css("width",t.W+"px"),I.pizzabtn.css("height",t.H+"px"),A("#pizzabtnIframeOverlay").css("height",t.H+"px"),A("#pizzabtnIframeOverlay").css("width",t.W+"px"),I.badge&&"function"==typeof I.badge.setBadgePosition&&I.badge.setBadgePosition(),I.closeButton&&"function"==typeof I.closeButton.setClosePosition&&I.closeButton.setClosePosition(),!0},checkPostscribe:function(t){"undefined"==typeof postscribe?A.getScript("https://cdn.viewst.com/libs/postscribe/htmlParser.js",function(){A.getScript("https://cdn.viewst.com/libs/postscribe/postscribe.js",t)}):t()},callPassback:function(){void 0!==I.params.OnNoShowPixel&&null!==I.params.OnNoShowPixel&&""!==I.params.OnNoShowPixel&&I.statistics.createClickCounterImage(I.params.OnNoShowPixel);I.additionalButtonFunctions.checkPostscribe(function(){function t(t){void 0===t&&(t="duplicateDetected"),I.statistics.callSuperPixelExt(t);try{I.params.isServerCommunicationEnabled&&I.statistics.SendStatisticsData("performedAction",t)}catch(t){I.params.Debug&&console.log(t)}}if(0<A("#probtn_passback").length)return t("duplicateDetected"),void t("duplicateByPassback");A("body").append("<div id='probtn_passback'></div>");new Date;I.currentDomain,null!==I.params.PassbackCustomCode&&void 0!==I.params.PassbackCustomCode&&""!==I.params.PassbackCustomCode&&(I.statistics.SendStatisticsData("performedAction","passback_added"),postscribe(I.params.PassbackCodeSelector,""+I.params.PassbackCustomCode))})},extractDomain:function(t){return(-1<t.indexOf("://")?t.split("/")[2]:t.split("/")[0]).split(":")[0]},checkProtocolInUrl:function(t){"https:"===window.location.protocol&&0===t.indexOf("http://")&&(t=t.replace("http://","https://"));return t},checkProtocolLinks:function(t){try{for(var n in t)if(t.hasOwnProperty(n)&&"iframe"==I.params.ButtonImageType)switch(n){case"ButtonImage":case"ButtonImage2x":case"ButtonDragImage":case"ButtonOpenImage":t[n]=I.additionalButtonFunctions.checkProtocolInUrl(t[n])}}catch(t){}},setButtonStartPosition:function(t){try{var n=(I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H/2)*I.params.ButtonPosition.Y;n<0&&(n=0),n+I.params.ButtonSize.H>I.additionalButtonFunctions.getWindowHeight()&&(n=I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H);var e=(I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W/2)*I.params.ButtonPosition.X+A(window).scrollLeft();switch(e<0&&(e=0),e+I.params.ButtonSize.W>=I.additionalButtonFunctions.getWindowWidth()&&(e=I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W),e<0&&(e=0),I.params.ExtrusionMode){case"insertBlock":n=e=0}var i=I.params.isAnimation.split("_");if("lookoutAndOut"===i[0]){var a=0;void 0!==i[3]&&(a=i[3]);var o=!0;try{null!==i[4]&&void 0!==i[4]&&"noAuto"===i[4]&&(o=!1)}catch(t){console.log(t)}o&&(n=(I.additionalButtonFunctions.getWindowHeight()-I.params.ContentSize.H)/2+parseFloat(a),console.log("lookoutAndOut top",n,I.params.ContentSize.H))}t.css({left:e,top:n,position:"absolute"})}catch(t){}},getTitleTextForModalWindow:function(){var t="",n="";if(""!==(n=!0===I.params.Debug?I.params.VendorText+" "+I.mainVersion:I.params.VendorText)&&!0===I.params.ButtonEnabled&&!0===I.params.ButtonVisible)try{t="<style> .fancybox-title-inside-wrap { padding-top: 0px; color: rgba("+I.params.VendorColor.R+","+I.params.VendorColor.G+","+I.params.VendorColor.B+","+I.params.VendorColor.A+"); text-align: center; } </style><a style='font-family: "+I.params.VendorTextFont.Family+"; font-size: "+I.params.VendorTextFont.Size+"px; color: rgba("+I.params.VendorTextColor.R+","+I.params.VendorTextColor.G+","+I.params.VendorTextColor.B+","+I.params.VendorTextColor.A+")' href='"+I.params.VendorSite+"' target='_blank' class='probtn_vendor_site_link' id='probtn_vendor_site_link_id'>"+n+"</a>",A(document).on("click","#probtn_vendor_site_link_id",function(t){window.postMessage({command:"probtn_performed_action",value:"VendorSite_clicked"},"*");try{document.getElementById("video_probtn")&&document.getElementById("video_probtn").pause()}catch(t){console.log(t)}"video"===I.params.ButtonContentType&&I.statistics.SendStatisticsData("VideoClicked",1)})}catch(t){console.log(t)}return t},youtubeModalWindowSizes:function(){if(0<A("#youtube_fullscreen:visible").length){var t=I.additionalButtonFunctions.getFancyboxMargins(),n=A(".fancybox-title").first().height(),e={width:I.additionalButtonFunctions.getWindowWidth()-t[1]-t[3],height:I.additionalButtonFunctions.getWindowHeight()-t[0]-t[2]-n};A("#fullscreen_probtn .fancybox-wrap").css(e),A("#fullscreen_probtn .fancybox-wrap").css({"margin-left":t[3],"margin-right":t[1],"margin-top":t[0],"margin-bottom":t[2]}),A("#fullscreen_probtn .fancybox-skin").css(e),A("#fullscreen_probtn .fancybox-outer").css(e),A("#fullscreen_probtn .fancybox-inner").css(e)}},hideAll:function(){switch(I.closed=!0,I.params.ExtrusionMode){case"topButton":case"fixedTop":A("body").css("margin-top","0px"),A("head").append('<style type="text/css">#probtn_wrapper { margin-top: 0px !important; position: absolute !important; }</style>')}I.statistics.SendStatObject({Hidded:1}),console.log("hideall"),I.additionalButtonFunctions.MinimizeWrapper(),I.pizzabtn.hide(),I.pizzabtn.stopShowedTimer(),I.closeButton.remove(),A("#pizzabtnImg").remove(),I.pizzabtn.css("display","none !important;"),A("head").append('<style type="text/css">#probtn_wrapper, #probtn_badge, #pizzabtnImg { display: none !important; }</style>'),I.additionalButtonFunctions.hideAllActiveZones(),I.initFunctions.initRemoveMenu(),I.initFunctions.stopWebAudio(),A("#fullscreen_probtn").remove(),I.pizzabtn.stop(!0,!0);try{I.contentTime.intervalId.ButtonShowedDurationPeriod&&clearInterval(I.contentTime.intervalId.ButtonShowedDurationPeriod)}catch(t){console.log(t)}try{I.contentTime.intervalId.ExpansionVideoTimer&&clearTimeout(I.contentTime.intervalId.ExpansionVideoTimer)}catch(t){console.log(t)}if("video"===I.params.ButtonContentType)try{null!==I.params.currentAreaName&&void 0!==I.params.currentAreaName?A("#video_probtn_"+I.params.currentAreaName).get(0).pause():A("#video_probtn").get(0).pause()}catch(t){}},checkAndCorrentButtonPosition:function(){switch(I.params.ExtrusionMode){case"insertBlock":I.pizzabtn.css("top",0),I.pizzabtn.css("left",0);break;default:!0===I.params.CorrectPositionBeforeMove&&!1===I.once_moved?I.additionalButtonFunctions.setButtonStartPosition(I.pizzabtn):void 0!==I.pizzabtn&&null!==I.pizzabtn&&(I.pizzabtn.position().left>I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W&&I.pizzabtn.css("left",I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W),I.pizzabtn.css("top").replace("px","")>I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H&&I.pizzabtn.css("top",I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H))}},updateAllPercentSizes:function(){"iframe"!==I.params.ButtonImageType&&(I.params.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonSize),I.params.ButtonDragSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonDragSize)),I.params.CloseSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.CloseSize),I.params.CloseActiveSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.CloseActiveSize),A("#pizzabtnImg",I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),A(I.pizzabtn).css({opacity:I.params.ButtonOpacity}),"iframe"==I.params.ButtonImageType&&I.additionalButtonFunctions.applyIframeScale(A("#pizzabtnImg"),I.params.ButtonIframeInitialSize,I.params.ButtonSize),A(I.pizzabtn).css({width:I.params.ButtonSize.W,height:I.params.ButtonSize.H}),(null!==I.params.ActiveZones||0<I.params.ActiveZones.length)&&"button_and_active_zones"==I.params.ButtonType&&A.each(I.initializedActiveZones,function(t,n){"iframe"!==n.currentActiveZone.ButtonImageType&&(n.currentActiveZone.ActiveSize=I.additionalButtonFunctions.convertPercentButtonSize(n.currentActiveZone.ActiveSize),n.currentActiveZone.InactiveSize=I.additionalButtonFunctions.convertPercentButtonSize(n.currentActiveZone.InactiveSize))})},convertPercentButtonSize:function(n){try{var e=n.W,i=n.H,t=n.W,a=n.H;try{void 0!==n.Initial&&null!==n.initial&&(e=n.Initial.W,i=n.Initial.H,t=n.Initial.W,a=n.Initial.H,n.W=n.Initial.W,n.H=n.Initial.H),n.Initial={},n.Initial.W=e,n.Initial.H=i}catch(t){n.Initial={},n.Initial.W=e,n.Initial.H=i,I.params.Debug&&console.log(t)}if((-1!==e.toString().indexOf("%")||parseFloat(e)<0)&&(parseFloat(t)<0&&(e=Math.abs(parseFloat(e))),e="insertBlock"===I.params.ExtrusionMode||"fixedTop"===I.params.ExtrusionMode?A(I.params.ExtrusionPath).width()*(parseFloat(e)/100):I.additionalButtonFunctions.getWindowWidth()*(parseFloat(e)/100),0<parseFloat(a)&&-1==n.W.toString().indexOf("%")&&(i=e*parseFloat(a))),(-1!==i.toString().indexOf("%")||parseFloat(i)<0)&&(parseFloat(a)<0&&(i=Math.abs(parseFloat(i))),i="insertBlock"===I.params.ExtrusionMode||"fixedTop"===I.params.ExtrusionMode?A(I.params.ExtrusionPath).height()*(parseFloat(i)/100):I.additionalButtonFunctions.getWindowHeight()*(parseFloat(i)/100),0<parseFloat(t)&&-1==n.H.toString().indexOf("%")&&(e=parseFloat(t)*i)),i>I.additionalButtonFunctions.getWindowHeight())e=(o=e/i)*(i=I.additionalButtonFunctions.getWindowHeight()-2),console.log("buttonSize proportions",n,o);if(e>I.additionalButtonFunctions.getWindowWidth()){var o=e/i;i=(e=I.additionalButtonFunctions.getWindowWidth()-2)/o,console.log("buttonSize proportions2",n,o)}n.W=e,n.H=i,"fixedTop"===I.params.ExtrusionMode&&(null!==A("#probtn_button").height()?(A("body").css("margin-top",A("#probtn_button").height()+"px"),A("head").append('<style type="text/css">#probtn_wrapper { margin-top:-'+A("#probtn_button").height()+"px !important; position: fixed !important; }</style>")):(A("body").css("margin-top",i+"px"),A("head").append('<style type="text/css">#probtn_wrapper { margin-top:-'+i+"px !important; position: fixed !important; }</style>")))}catch(t){}return n},checkExistInitIframeSIze:function(t){return"iframe"==t.currentActiveZone.ButtonImageType&&0<t.currentActiveZone.ButtonIframeInitialSize.W&&0<t.currentActiveZone.ButtonIframeInitialSize.H&&void 0!==t.currentActiveZone.ButtonIframeInitialSize.W&&null!==t.currentActiveZone.ButtonIframeInitialSize.W&&void 0!==t.currentActiveZone.ButtonIframeInitialSize.H&&null!==t.currentActiveZone.ButtonIframeInitialSize.H},applyIframeScale:function(t,n,e){if(0<n.W&&0<n.H&&void 0!==n.W&&null!==n.W&&void 0!==n.H&&null!==n.H){var i=I.params.RoundButton.split("_"),a=e.W/n.W,o=e.H/n.H;"fill"===i[1]&&"auto"===i[0]&&(a=.8*e.W/n.W,o=.8*e.H/n.H),t.css("width",n.W),t.css("height",n.H),I.additionalButtonFunctions.setTransform(t,a,o)}},setTransform:function(t,n,e){t.css({transform:"scale("+n+","+e+")","-moz-transform":"scale("+n+","+e+")","-webkit-transform":"scale("+n+","+e+")","-o-transform":"scale("+n+","+e+")","-ms-transform":"scale("+n+","+e+")"}),t.css("transform-origin","top left"),t.css("-moz-transform-origin","top left"),t.css("-webkit-transform-origin","top left"),t.css("-o-transform-origin","top left"),t.css("-ms-transform-origin","top left")},replaceRandom:function(t){var n=t.replace(/\[RANDOM\]/g,I.additionalButtonFunctions.randomString(12));n=n.replace(/\[DOMAIN\]/g,I.realDomain);var e=(new Date).getTime();return n=(n=(n=(n=n.replace(/\[timestamp\]/g,e)).replace(/\[TIMESTAMP\]/g,e)).replace(/\%random\%/g,I.additionalButtonFunctions.randomString(12))).replace(/\%RANDOM\%/g,I.additionalButtonFunctions.randomString(12))},replaceDeviceUID:function(t){return t.replace(/\[DEVICEUID\]/g,I.GetDeviceUID())},replaceDeviceCUID:function(t){return t.replace(/\[DEVICECUID\]/g,I.DeviceCID)},hideAllActiveZones:function(){try{A.each(I.initializedActiveZones,function(t,n){n.hide()})}catch(t){}},getContentUrlWithUtm:function(t){try{if(I.params.isAddUtmSource){var n=window.location.href;I.params.UtmSourceUseOnlyDomain&&(n=I.realDomain),""!==I.params.UtmSource&&(n=I.params.UtmSource),t=I.additionalButtonFunctions.replaceUrlParam(t,"utm_source",n),""!==I.params.UtmCampaign&&null!==I.params.UtmCampaign&&void 0!==I.params.UtmCampaign&&(t=I.additionalButtonFunctions.replaceUrlParam(t,"utm_campaign",I.params.UtmCampaign)),I.params.Debug&&console.log("newpath - "+t)}}catch(t){I.params.Debug&&console.log(t)}return t},testSpeed:function(s){if(I.params.isTestSpeed){measureSpeedByImage=function(){var a,o,t=new Image;t.onload=function(){o=(new Date).getTime(),function(){var t=(2713872/((o-a)/1e3)).toFixed(2),n=(t/1024).toFixed(2),e=(n/1024).toFixed(2),i="Your connection speed is: \n\r"+t+" bps\n\r"+n+" kbps\n\r"+e+" Mbps\n\r";I.params.Debug&&console.log(i);null!=s&&s(n)}()},t.onerror=function(t,n){I.params.Debug&&console.log(t)};var n="?nnn="+(a=(new Date).getTime());t.src="https://cdn.viewst.com/load2.png"+n},setTimeout(measureSpeedByImage,1)}else null!=s&&s(0)},preloadImage:function(t){var n=t,e=A("<img/>",{id:"probtn_ClickCounterLink_"+I.additionalButtonFunctions.randomString(12),src:n,style:"width: 1px; height: 1px; position: absolute; left: -10001px; top: -10001px;"}).prependTo(I.additionalItemsContainer);A(e).attr("src",n)},preloadIframe:function(t){},preloadIframeScrollZonesDone:!1,hideIframeScrollZones:function(){A("iframe.pizzabtnImg_iframe_cached").attr("id",""),A("iframe.pizzabtnImg_iframe_cached").hide()},preloadIframeScrollZones:function(){if(!1===I.additionalButtonFunctions.preloadIframeScrollZonesDone){I.additionalButtonFunctions.preloadIframeScrollZonesDone=!0;for(var t=0;t<I.params.ScrollZones.length;t++){var n=I.params.ScrollZones[t];n.CustomButtonParams?n.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(n.ButtonSize):n.ButtonSize=I.additionalButtonFunctions.convertPercentButtonSize(I.params.ButtonSize);var e={width:n.ButtonSize.W,height:n.ButtonSize.H,display:"none",border:"0px",position:"absolute",top:"0px"};if("iframe"==n.ButtonImageType){for(var i=!1,a=0;a<I.params.ScrollZones.length;a++)a!==t&&A(".pizzabtnImg_iframe_cached[rel='"+I.params.ScrollZones[a].Name+"']",I.pizzabtn).attr("src")===n.ButtonImage&&(A(".pizzabtnImg_iframe_cached[rel='"+I.params.ScrollZones[a].Name+"']",I.pizzabtn).addClass(n.Name),i=!0);!1===i&&A("<iframe/>",{class:"pizzabtnImg_iframe_cached "+n.Name,scrolling:"no",rel:n.Name,seamless:"seamless",src:n.ButtonImage,css:e}).prependTo(I.pizzabtn)}else A("<img/>",{class:"pizzabtnImg_cached",scrolling:"no",rel:n.Name,seamless:"seamless",src:n.ButtonImage,css:e}).prependTo(I.pizzabtn)}}},sendMessageToParent:function(t){null==t&&(t="probtn_end_move");var n={};void 0!==I.pizzabtn&&(n=I.pizzabtn.position()),I.additionalButtonFunctions.sendCustomMessageToParent({type:t,params:I.params,button:n})},sendMessageToCreative:function(t){A("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage(t,"*")},sendMessageToActiveZones:function(e){A.each(I.initializedActiveZones,function(t,n){void 0!==n[0].contentWindow&&n[0].contentWindow.postMessage(e,"*")})},sendMessageToModal:function(t){var n=A(".fancybox-iframe").first().attr("id");if(A("#"+n).is("iframe"))try{var e=document.getElementById(n);null!==e.contentWindow&&(iframeLoadedSend=!0,e.contentWindow.postMessage(t,"*"))}catch(t){console.log(t)}},sendCustomMessageToParent:function(t){!0===I.params.ControlInIframeFromParent&&window.window!==window.top&&window.top.postMessage(t,"*")},getWindowHeight:function(){var t=window.innerHeight;return t>window.outerHeight&&I.params.UseScreenSizes&&(t=window.outerHeight),!0===I.params.ControlInIframeFromParent&&0<I.params.ParentParams.height&&void 0!==I.params.ParentParams.height&&null!==I.params.ParentParams.height?I.params.ParentParams.height:t},getWindowWidth:function(){var t=window.innerWidth;return t>window.outerWidth&&I.params.UseScreenSizes&&(t=window.outerWidth),!0===I.params.ControlInIframeFromParent&&0<I.params.ParentParams.width&&void 0!==I.params.ParentParams.width&&null!==I.params.ParentParams.width?I.params.ParentParams.width:t},replaceUrlParam:function(t,n,e){var i=new RegExp("(\\?|\\&)("+n+"=).*?(&|$)"),a=t;return a=0<=t.search(i)?t.replace(i,"$1$2"+e+"$3"):a+(0<a.indexOf("?")?"&":"?")+n+"="+e},onOrientationChange:function(t){try{if(("expansionButton"===I.params.ButtonType||"expansion_video"===I.params.ButtonType)&&0<I.onButtonTapCountCheck)return void(0<I.onButtonTapCountCheck&&(I.additionalButtonFunctions.resizeButton(I.params.ButtonSize),I.additionalButtonFunctions.checkAndCorrentButtonPosition()));I.additionalButtonFunctions.updateAllPercentSizes(),I.additionalButtonFunctions.resizeButton(I.params.ButtonSize),I.additionalButtonFunctions.checkAndCorrentButtonPosition();try{I.closeButton.center()}catch(t){I.params.Debug&&console.log(t)}if("youtube"==I.params.ButtonContentType&&I.additionalButtonFunctions.youtubeModalWindowSizes(),"button_and_scroll_zones"==I.params.ButtonType&&I.initFunctions.initScrollChange("orientationChange"),"menu"==I.params.ButtonType&&0<A("#probtn_menu").length)switch(I.additionalButtonFunctions.MaximizeWrapper(function(){}),I.params.MenuTemplateVariant){case"radialcorner":A("#probtn_menu").css("left",0),A("#probtn_menu").css("top",I.additionalButtonFunctions.getWindowHeight()-A("#probtn_menu").height()),I.pizzabtn.position().left<I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W&&I.pizzabtn.css("left","0px"),I.pizzabtn.position().top<I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H&&I.pizzabtn.css("top",I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H);break;case"circularCenter":I.pizzabtn.css("top",window.innerHeight/2-I.pizzabtn.height()/2),I.pizzabtn.css("left",I.additionalButtonFunctions.getWindowWidth()/2-I.pizzabtn.width()/2),I.menuClose.setPosition(),I.initFunctions.circularMenuPositionUpdate();break;default:A("#probtn_menu").css("left",0),A("#probtn_menu").css("top",I.additionalButtonFunctions.getWindowHeight()-A("#probtn_menu").height()-I.params.ButtonSize.H),I.pizzabtn.position().left<I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W&&I.pizzabtn.css("left","0px"),I.pizzabtn.position().top<I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H&&I.pizzabtn.css("top",I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H)}if("video"===I.params.ButtonContentType&&(null!==I.params.VideoFooterButton&&void 0!==I.params.VideoFooterButton&&""!==I.params.VideoFooterButton&&I.additionalButtonFunctions.recalculateVideoClickableAreasPos(),!0===I.params.DisableVideoFullscreen)){var n=window.document;if(!0===n.fullscreen)(n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen).call(n)}}catch(t){}var e=!1;try{void 0!==A.fancybox&&(e=A.fancybox.isOpen)}catch(t){}if((void 0!==A.fancybox||"fullscreen"===I.params.ButtonType)&&(e||"fullscreen"===I.params.ButtonType)){I.params.ContentSize.X,I.params.ContentSize.Y;var i=I.additionalButtonFunctions.getFancyboxMargins(),a=I.additionalButtonFunctions.getWindowWidth()-i[1]-i[3],o=I.additionalButtonFunctions.getWindowHeight()-i[0]-i[2];!0===I.params.IsManualSize?(-1!==I.params.ContentSize.X.indexOf("%")?(a=I.additionalButtonFunctions.getWindowWidth()*(parseFloat(I.params.ContentSize.X)/100),parseFloat(I.params.ContentSize.X)/100):a=I.params.ContentSize.X,-1!==I.params.ContentSize.Y.indexOf("-")?(o=a*Math.abs(I.params.ContentSize.H))>I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height()&&(a=(o=I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height())/Math.abs(I.params.ContentSize.H)):o=-1!==I.params.ContentSize.Y.indexOf("%")?I.additionalButtonFunctions.getWindowHeight()*(parseFloat(I.params.ContentSize.Y)/100):I.params.ContentSize.Y):(o=I.params.ContentSize.H,a=I.params.ContentSize.W),0<i[0]&&0<i[2]&&(o=o-i[0]-i[2]),0<i[1]&&0<i[3]&&(a=a-i[1]-i[3]);function s(t,n,e,i){!0===I.params.IsManualSize?(A(".fancybox-wrap").width(n),A(".fancybox-wrap").height(t),A(".fancybox-inner").width(n),A(".fancybox-inner").height(e),"fullscreen"!=I.params.ButtonType&&0!==i[0]&&0!==i[1]&&0!==i[2]&&0!==i[3]||(A(".fancybox-wrap").css("left",i[1]),A(".fancybox-wrap").css("top",i[0]),A(".fancybox-wrap").css("bottom",i[2]),A(".fancybox-wrap").css("right",i[3])),document.documentElement.clientHeight>I.additionalButtonFunctions.getWindowHeight()&&A(".fancybox-wrap").css("top",i[0]+(document.documentElement.clientHeight-I.additionalButtonFunctions.getWindowHeight()))):(console.log("IsManualSize",I.params.IsManualSize),console.log("margins",i),0<i[0]||0<i[1]||0<i[2]||0<i[3]?(A(".fancybox-wrap").css("left",i[1]),A(".fancybox-wrap").css("top",i[0]),A(".fancybox-wrap").css("bottom",i[2]),A(".fancybox-wrap").css("right",i[3])):(console.log("fancyboxWidth and fancyboxHeight",n,t),A(".fancybox-wrap").css("left",(I.additionalButtonFunctions.getWindowWidth()-n)/2),A(".fancybox-wrap").css("top",(I.additionalButtonFunctions.getWindowHeight()-t)/2))),I.additionalButtonFunctions.setIfameSizes()}A(".fancybox-title").width();var r=o-A(".fancybox-title").height();s(o,a,r,i);var c=0,d=0;A(".fancybox-inner").width()>A(".fancybox-inner").height()?(d=(c=A(".fancybox-inner").height())/I.params.VideoSize.Y*I.params.VideoSize.X)>A(".fancybox-inner").width()&&(c=(d=A(".fancybox-inner").width())/I.params.VideoSize.X*I.params.VideoSize.Y):(c=(d=A(".fancybox-inner").width())/I.params.VideoSize.X*I.params.VideoSize.Y)>A(".fancybox-inner").height()&&(d=(c=A(".fancybox-inner").height())/I.params.VideoSize.Y*I.params.VideoSize.X),A(".probtn_video_wrapper2").width(A(".fancybox-inner").width()),A(".probtn_video_wrapper2").height(A(".fancybox-inner").height()),A(".probtn_video").width(d),A(".probtn_video").height(c);var l=document.getElementsByClassName("video_iframe");0<l.length&&Array.prototype.forEach.call(l,function(t){t.setAttribute("width",A(".fancybox-inner").width()),t.setAttribute("height",A(".fancybox-inner").height())}),s(o,a,r,i),setTimeout(function(){var t=I.params.isAnimation.split("_"),n="";try{null!==t[3]&&void 0!==t[3]&&(n=t[3].toLowerCase())}catch(t){}"openmodal"===n&&(I.additionalButtonFunctions.setIfameSizes(),A(".fancybox-skin").width(A(".fancybox-wrap").width()),A(".fancybox-skin").height(A(".fancybox-wrap").height()),I.pizzabtn.css("top",parseFloat(A(".fancybox-wrap").position().top+A(".fancybox-wrap").height())))},500)}},changeBodySize:function(){var t={width:window.availWidth,height:window.availHeight};"Microsoft Internet Explorer"===I.userData.browser&&(t.overflow="auto");try{A("body").css(t)}catch(t){}},MinimizeWrapper:function(t,n){var i=t;function e(){var n=I.wrapper,t="fixed !important";I.params.ConstrainByBlock&&(t="relative !important");var e={width:"auto",height:"auto",position:t};I.additionalButtonFunctions.sendMessageToParent("probtn_end_move");try{A.pep.toggleAll(!1),n.css(e),A.pep.toggleAll(!0)}catch(t){n.css(e)}null!=i&&i()}null!==n?setTimeout(e,n):e()},MaximizeWrapper:function(t){var n=I.wrapper,e=window.innerWidth,i=window.innerHeight;try{if(I.params.ConstrainByBlock){var a=A(I.params.ButtonInjectPath);e=a.innerWidth(),i=a.innerHeight()}}catch(t){console.log(t)}var o={width:e,height:i,left:0,right:0,position:"fixed !important"};I.additionalButtonFunctions.sendMessageToParent("probtn_start_move"),n.css(o);try{var s;if(s=A(window).scrollLeft(),I.pizzabtn.offset().left-s>n.width()){var r=n.width()-I.pizzabtn.width();I.pizzabtn.css({left:r+"px"})}}catch(t){}try{var c;if(c=A(window).scrollTop(),I.pizzabtn.offset().top-c>n.height()){var d=n.height()-I.pizzabtn.height();I.pizzabtn.css({top:d+"px"})}}catch(t){}try{t()}catch(t){}},animation:{animationRuning:!1,_setAnimationCSS:function(){I.pizzabtn.css("-webkit-transform","translateZ(0)"),I.pizzabtn.css("transform","translateZ(0)"),I.pizzabtn.css("transform","translateZ(0)"),I.pizzabtn.css("transition-property","left, top"),I.pizzabtn.css("-webkit-transition-property","left, top")},probtnIframeEvent:function(t,n){I.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})},pathAnimation:function(t){!function(t){t.crSpline={};function s(t,n,e,i,a){return Math.floor((t*((2-t)*t-1)*n+(t*t*(3*t-5)+2)*e+t*((4-3*t)*t+1)*i+(t-1)*t*t*a)/2)}function r(t,n){return[n[0]+(n[0]-t[0]),n[1]+(n[1]-t[1])]}t.crSpline.buildSequence=function(t){var i,n={},a=[],e=function(t){var n,e=[],i=t.length,a=0;!0!==t[0].relative&&(e[0]=[I.pizzabtn.position().left,I.pizzabtn.position().top],a=1);for(var o=0;o<i;o++){var s=t[o].x,r=t[o].y;t[o].scalable&&(s=Math.round(t[o].x*I.additionalButtonFunctions.getWindowWidth()),r=Math.round(t[o].y*I.additionalButtonFunctions.getWindowHeight())),0===o&&(n=I.pizzabtn.position().left-s,ay=I.pizzabtn.position().top-r),!0===t[o].relative&&(r+=ay,s+=n),e[o+a]=[s,r]}return console.log("new pointList",e,JSON.stringify(e)),e}(t);if(e.length<2)throw"crSpline.buildSequence requires at least two points";a.push(r(e[1],e[0]));for(var o=0;o<e.length;o++)a.push(e[o]);return a.push(r(a[a.length-2],a[a.length-1])),i=a.length-3,n.getPos=function(t){var n=Math.floor(t*i);if(n===i)return{left:a[a.length-2][0],top:a[a.length-2][1]};var e=(t-n/i)*i;return{left:s(e,a[n][0],a[n+1][0],a[n+2][0],a[n+3][0])+"px",top:s(e,a[n][1],a[n+1][1],a[n+2][1],a[n+3][1])+"px"}},n},t.fx.step.crSpline=function(t){var n=t.end.getPos(t.pos);for(var e in n)t.elem.style[e]=n[e]}}(jQuery);var n=t.split("_"),e="",i=I.params.animationData;I.params.animationData=A("<div/>").html(i).text();try{e=JSON.parse(I.params.animationData)}catch(t){e=""}""!==e&&null!=e||(e=[{x:10,y:10,type:"point"},{x:30,y:80,type:"point"},{x:100,y:200,type:"point"},{x:320,y:10,type:"point"}]),"path"===n[0]&&I.additionalButtonFunctions.MaximizeWrapper(function(){setTimeout(function(){A("#probtn_button").animate({crSpline:A.crSpline.buildSequence(e)},I.params.animationDuration,function(){console.log("pathAnimation finished")})},I.params.animationDuration/5)})},opacityAnimation:function(t){var n={finalOpacity:.5,startType:"",delay:I.params.animationDuration/2};if("opacity"==(n=this._checkAndGetActualParams(n)).name){function e(){setTimeout(function(){I.additionalButtonFunctions.animation.animationRuning=!0,I.pizzabtn.animate({opacity:n.finalOpacity},{duration:I.params.animationDuration,step:function(t){},complete:I.additionalButtonFunctions.animation.doneAnimation})},n.delay)}"scroll"==n.startType?A(window).scroll(e):e()}},rolloutAnimation:function(){var d={side:"left",rollOutPercent:80};if("rollout"==(d=this._checkAndGetActualParams(d)).name){"right"==d.side?I.pizzabtn.css("left",A("body").innerWidth()-.2*I.params.ButtonSize.W):I.pizzabtn.css("left",-.8*I.params.ButtonSize.W);A(window).scroll(function(t){I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_page_scroll"});function n(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!r||s?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)}var e=document.documentElement,i=(window.pageXOffset||e.scrollLeft,e.clientLeft,(window.pageYOffset||e.scrollTop)-(e.clientTop||0)),a=(I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H/2)*I.params.ButtonPosition.Y,o=navigator.userAgent.toLowerCase(),s=-1<o.indexOf("opera"),r=!s&&-1<o.indexOf("msie"),c=I.pizzabtn.position().top+i;"right"===d.side?I.pizzabtn.css("left",A("body").innerWidth()-.2*I.params.ButtonSize.W-d.rollOutPercent/100*A("body").innerWidth()*((c-a)/n())):I.pizzabtn.css("left",-.8*I.params.ButtonSize.W+d.rollOutPercent/100*A("body").innerWidth()*((c-a)/n()))})}},lookoutAndOutAnimation:function(){var e={side:"left",rollOutPercent:50};if("lookoutAndOut"==(e=this._checkAndGetActualParams(e)).name){this._setAnimationCSS(),e.rollOutPercent=e.rollOutPercent/100;"right"==e.side?I.pizzabtn.css("left",A("body").innerWidth()-.2*I.params.ButtonSize.W):I.pizzabtn.css("left",-.8*I.params.ButtonSize.W);function i(t){console.log("onBackLookOut"),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop",count:a}),I.lookOutTimeout2=setTimeout(function(){var t=-.8*I.params.ButtonSize.W;"right"===e.side&&(t=A("body").innerWidth()-.2*I.params.ButtonSize.W),I.pizzabtn.stop(!0,!1),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start",count:a}),I.pizzabtn.animate({left:t},{duration:I.params.animationDuration,easing:"linear",complete:n})},I.params.animationDuration/2)}var a=0,n=function(t){console.log("onLookOut");var n=0;++a<2?(n=-I.params.ButtonSize.W*e.rollOutPercent,"right"==e.side&&(n=A("body").innerWidth()-I.params.ButtonSize.W*e.rollOutPercent),console.log("left",n),I.pizzabtn.stop(!0,!1),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start",count:a}),I.pizzabtn.animate({left:n},{duration:I.params.animationDuration,easing:"linear",complete:i,queue:!0})):(n=1.2*I.params.ButtonSize.W,"right"==e.side&&(n=A("body").innerWidth()-1.2*I.params.ButtonSize.W),I.pizzabtn.animate({left:n},{duration:I.params.animationDuration,easing:"linear",complete:function(t){console.log("finish animation done"),I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop",step:"last"}),I.lookOutTimeout=setTimeout(function(){console.log("lookout timeout click now"),I.statistics.SendStatisticsData("Showed",1),I.onButtonTap()},1e4)}}))};I.lookOutTimeout2=setTimeout(n,I.params.animationDuration/2)}},lookoutAnimation:function(){var n={side:"left"};if("lookout"==(n=this._checkAndGetActualParams(n)).name){this._setAnimationCSS(),"right"==n.side?I.pizzabtn.css("left",A("body").innerWidth()-.2*I.params.ButtonSize.W):I.pizzabtn.css("left",-.8*I.params.ButtonSize.W);function e(t){setTimeout(function(){var t=-.8*I.params.ButtonSize.W;"right"===n.side&&(t=A("body").innerWidth()-.2*I.params.ButtonSize.W),I.pizzabtn.stop(!0,!0),I.pizzabtn.animate({left:t},{duration:I.params.animationDuration,easing:"linear",complete:i})},I.params.animationDuration)}var i=function(t){setTimeout(function(){var t=-.1*I.params.ButtonSize.W;"right"==n.side&&(t=A("body").innerWidth()-.9*I.params.ButtonSize.W),I.pizzabtn.stop(!0,!0),I.pizzabtn.animate({left:t},{duration:I.params.animationDuration,easing:"linear",complete:e})},I.params.animationDuration)};setTimeout(i,I.params.animationDuration)}},cornerToCornerAnimation:function(){if("anim1"===I.params.isAnimation||"anim2"===I.params.isAnimation){I.pizzabtn.position().left,I.pizzabtn.position().top;I.additionalButtonFunctions.animation.animationRuning=!0,I.additionalButtonFunctions.MaximizeWrapper(function(){var n=0;I.pizzabtn.animate({top:I.additionalButtonFunctions.getWindowHeight()-I.pizzabtn.height(),left:A("body").innerWidth()-I.pizzabtn.width()},{duration:I.params.animationDuration,step:function(t){I.userData.mobile?n+=2:n=t,"anim2"==I.params.isAnimation?(n=-n,A(this).css(I.additionalButtonFunctions.animation.getRotationCss(n,"60% 50%"))):A(this).css(I.additionalButtonFunctions.animation.getRotationCss(n))},complete:I.additionalButtonFunctions.animation.doneAnimation})})}},_checkAndGetActualParams:function(n){var e,t=I.params.animationData;I.params.animationData=A("<div/>").html(t).text();try{e=JSON.parse(I.params.animationData)}catch(t){e=null}if(null!=e){for(var i in n)void 0!==e[i]&&null!==e[i]&&(n[i]=e[i]);try{n.name=I.params.isAnimation.split("_")[0]}catch(t){n.nameAnimation=null}}else{var a=I.params.isAnimation.split("_"),o=1;for(var i in n)void 0!==a[o]&&null!==a[o]&&(n[i]=a[o]),o++;try{n.name=a[0]}catch(t){n.name=null}}return n},forwardStopAndAwayAnimation:function(){var n={side:"left"};"forwardStopAndAway"==(n=this._checkAndGetActualParams(n)).name&&(I.pizzabtn.stop(!0,!0),"right"===n.side?I.pizzabtn.css("left",A("body").innerWidth()):(I.pizzabtn.css("left",-I.params.ButtonSize.W-10),I.pizzabtn.stop(!0,!0)),window.setTimeout(function(){var t=A("body").innerWidth()/2-I.params.ButtonSize.W/2;"right"===n.side&&(t=A("body").innerWidth()/2-I.params.ButtonSize.W/2),I.additionalButtonFunctions.animation._setAnimationCSS(),I.pizzabtn.stop(!0,!0),null===I.params.ButtonDragImage&&void 0===I.params.ButtonDragImage||A("#pizzabtnImg",I.pizzabtn).attr("src",I.params.ButtonDragImage),I.pizzabtn.animate({left:t},{duration:I.params.animationDuration,easing:"linear",done:function(){null===I.params.ButtonImage&&void 0===I.params.ButtonImage||A("#pizzabtnImg",I.pizzabtn).attr("src",I.params.ButtonImage),window.setTimeout(function(){var t=A("body").innerWidth()+I.params.ButtonSize.W+20;"right"===n.side&&(t=A("body").innerWidth()-I.params.ButtonSize.W-20),I.pizzabtn.stop(!0,!0),null===I.params.ButtonDragImage&&void 0===I.params.ButtonDragImage||A("#pizzabtnImg",I.pizzabtn).attr("src",I.params.ButtonDragImage),I.pizzabtn.animate({left:t},{step:function(t){},duration:I.params.animationDuration,easing:"linear"})},I.params.animationDuration)}})},I.params.animationDuration))},forwardAndStopAnimation:function(){I.params.isAnimation.split("_");var e={side:"left",waitDuration:I.params.animationDuration/2,widthPercent:1,additionalMode:"",startWidthPercent:0},i=(e=this._checkAndGetActualParams(e)).additionalMode,t=e.widthPercent;if("forwardAndStop"==e.name){"right"==e.side?I.pizzabtn.css("left",A("body").innerWidth()-A("body").innerWidth()*e.startWidthPercent-I.params.ButtonSize.W):I.pizzabtn.css("left",A("body").innerWidth()*e.startWidthPercent);var n=A("body").innerWidth()*t-I.params.ButtonSize.W;"right"===e.side&&(n=A("body").innerWidth()*(1-t)),this._setAnimationCSS(),I.pizzabtn.stop(!0,!0);function a(t,n){I.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})}setTimeout(function(){a("probtn_forwardAndStop_start"),I.pizzabtn.animate({left:n},{duration:I.params.animationDuration,complete:function(){switch(console.log("compelete"),a("probtn_forwardAndStop_stop",I.pizzabtn.position()),i){case"openModal":I.closed||(console.log("ProBtnControl.once_moved",I.once_moved),console.log("open modal param"),I.onButtonTap());break;case"maximizeButton":var t=I.additionalButtonFunctions.getWindowWidth()-0,n=I.additionalButtonFunctions.getWindowHeight()-0;I.pizzabtn.css("left","0px"),I.pizzabtn.css("top","0px"),I.pizzabtn.css("width",t),I.pizzabtn.css("height",n),A("#pizzabtnImg").css("width",t),A("#pizzabtnImg").css("height",n)}setTimeout(function(){"right"==e.side&&(A("body").innerWidth(),I.params.ButtonSize.W),I.pizzabtn.stop(!0,!0)},I.params.animationDuration)},done:function(){}})},e.waitDuration)}},forwardAndBackAnimation:function(){var n={side:"left",pauseDuration:0,stopDuration:0};if(n.pauseDuration=I.params.animationDuration/2,"forwardAndBack"==(n=this._checkAndGetActualParams(n)).name){"right"==n.side?I.pizzabtn.css("left",A("body").innerWidth()-I.params.ButtonSize.W):I.pizzabtn.css("left",0);var t=A("body").innerWidth()-I.params.ButtonSize.W;"right"==n.side&&(t=0),this._setAnimationCSS(),I.pizzabtn.stop(!0,!0);function e(t){I.additionalButtonFunctions.sendMessageToCreative({message:t})}setTimeout(function(){I.additionalButtonFunctions.MaximizeWrapper(function(){e("probtn_forwardAndBack_start"),I.pizzabtn.animate({left:t},{duration:I.params.animationDuration,easing:"linear",done:function(){e("probtn_forwardAndBack_stop"),window.setTimeout(function(){var t=0;"right"==n.side&&(t=A("body").innerWidth()-I.params.ButtonSize.W),I.pizzabtn.stop(!0,!0),e("probtn_forwardAndBack_reverse"),e("probtn_forwardAndBack_start"),e("probtn_forwardAndBack_start_reverse"),I.pizzabtn.animate({left:t},{duration:I.params.animationDuration,easing:"linear",done:function(){e("probtn_forwardAndBack_stop"),e("probtn_forwardAndBack_stop_reverse"),setTimeout(function(){I.additionalButtonFunctions.MinimizeWrapper()},n.stopDuration)}})},n.pauseDuration)}})},50)},I.params.animationDuration/2)}},TopToBottomAndStopAnimation:function(){var t={side:"top",waitDuration:I.params.animationDuration/2,heightPercent:1,startHeightPercent:0,dontChangeTop:!1};"down"==(t=this._checkAndGetActualParams(t)).side&&(t.side="bottom");var n=t.heightPercent,e=t.startHeightPercent;if(t.name.toLowerCase()=="TopToBottom".toLowerCase()||t.name.toLowerCase()=="upToDown".toLowerCase()){var i=0;"bottom"==t.side?i=I.additionalButtonFunctions.getWindowHeight()-(I.params.ButtonSize.H+A("body").innerHeight()*e):(i=I.additionalButtonFunctions.getWindowHeight(),i*=e),t.dontChangeTop||I.pizzabtn.css("top",i);var a=I.additionalButtonFunctions.getWindowHeight()*n-I.params.ButtonSize.H;"bottom"==t.side&&(a=0+I.additionalButtonFunctions.getWindowHeight()*(1-n)),this._setAnimationCSS(),I.pizzabtn.stop(!0,!0);function o(t,n){A("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage({message:t,data:n},"*")}setTimeout(function(){o("probtn_topToBottomAndStop_start"),o("probtn_upToDown_start"),I.pizzabtn.animate({top:a},{duration:I.params.animationDuration,done:function(){o("probtn_topToBottomAndStop_stop",I.pizzabtn.position()),o("probtn_upToDown_stop",I.pizzabtn.position()),setTimeout(function(){"bottom"==t.side&&(I.additionalButtonFunctions.getWindowHeight(),I.params.ButtonSize.H),I.pizzabtn.stop(!0,!0)},I.params.animationDuration)}})},t.waitDuration)}},ToCenterAnimation:function(){var t={waitDuration:1e3};if((t=this._checkAndGetActualParams(t)).name.toLowerCase()=="ToCenter".toLowerCase()){var n=(I.additionalButtonFunctions.getWindowHeight()-I.params.ButtonSize.H)/2,e=(I.additionalButtonFunctions.getWindowWidth()-I.params.ButtonSize.W)/2;this._setAnimationCSS(),I.pizzabtn.stop(!0,!0);function i(t,n){I.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})}setTimeout(function(){i("probtn_topToCenter_start"),I.pizzabtn.animate({top:n,left:e},{duration:I.params.animationDuration,done:function(){i("probtn_topToCenter_stop",I.pizzabtn.position())}})},t.waitDuration)}},resizeAnimation:function(){var n=[{autoStart:!0,width:200,height:100,waitDuration:6e3,name:"step2"}],o=0;if((n=this._checkAndGetActualParams(n)).name.toLowerCase()=="resizeAnimation".toLowerCase()){var t=!0;n[0]&&null!==n[0].autoStart&&void 0!==n[0].autoStart&&""!==n[0].autoStart&&(t=n[0].autoStart),console.log("autoStart",t,n[0]);var s=function(e,i){if(!(o<e.length))return!0;var a=e[o],t=a.waitDuration;setTimeout(function(){var t=I.additionalButtonFunctions.convertPercentButtonSize({W:a.width,H:a.height});console.log("newButtonSize1",t);var n={W:a.width,H:a.height};I.additionalButtonFunctions.resizeButton(n,a.ButtonIframeInitialSize),function(t,n){I.additionalButtonFunctions.sendMessageToCreative({message:t,data:n})}("probtn_resizeAnimation_step",{name:a.name,count:o}),o++,s(e,i)},t)};if(t)s(n,function(){console.log("callback")});else{window.self.addEventListener("message",function(t){try{"probtn_start_animation"===t.data.command&&s(n,function(){console.log("callback")})}catch(t){}},!1)}}},forwardMoveAndStopAndMoveAnimation:function(){I.params.isAnimation.split("_");var n={side:"left",stopDuration:2e3,stopWidth:.5,firstPartDuration:3e3,secondPartDuration:3e3,waitDuration:0};if("forwardMoveAndStopandMove"===(n=this._checkAndGetActualParams(n)).name){this._setAnimationCSS(),I.pizzabtn.stop(!0,!0),"right"===n.side?I.pizzabtn.css("left",A("body").innerWidth()-I.params.ButtonSize.W):I.pizzabtn.css("left",0);var t=A("body").innerWidth()*n.stopWidth-I.params.ButtonSize.W/2;"right"===n.side&&(t=A("body").innerWidth()*(1-n.stopWidth+I.params.ButtonSize.W/2));var e=this;setTimeout(function(){e.probtnIframeEvent("probtn_forwardMoveAndStopandMove_firstPart_start"),I.pizzabtn.animate({left:t},{duration:n.firstPartDuration,complete:function(){e.probtnIframeEvent("probtn_forwardMoveAndStopandMove_firstPart_stop",I.pizzabtn.position()),setTimeout(function(){e.probtnIframeEvent("probtn_forwardMoveAndStopandMove_secondPart_start");var t=A("body").innerWidth()-I.params.ButtonSize.W;"right"===n.side&&(t=0),I.pizzabtn.animate({left:t},{duration:n.secondPartDuration,complete:function(){e.probtnIframeEvent("probtn_forwardMoveAndStopandMove_secondPart_stop",I.pizzabtn.position())},done:function(){}})},n.stopDuration)},done:function(){}})},n.waitDuration)}},checkAndRunAnimation:function(){setTimeout(function(){I.additionalButtonFunctions.animation.cornerToCornerAnimation(),I.additionalButtonFunctions.animation.rolloutAnimation(),I.additionalButtonFunctions.animation.lookoutAnimation(),I.additionalButtonFunctions.animation.lookoutAndOutAnimation(),I.additionalButtonFunctions.animation.forwardAndBackAnimation(),I.additionalButtonFunctions.animation.forwardAndStopAnimation(),I.additionalButtonFunctions.animation.TopToBottomAndStopAnimation(),I.additionalButtonFunctions.animation.forwardStopAndAwayAnimation(),I.additionalButtonFunctions.animation.opacityAnimation(I.params.isAnimation),I.additionalButtonFunctions.animation.pathAnimation(I.params.isAnimation),I.additionalButtonFunctions.animation.ToCenterAnimation(I.params.isAnimation),I.additionalButtonFunctions.animation.resizeAnimation(),I.additionalButtonFunctions.animation.forwardMoveAndStopAndMoveAnimation()},400)},getRotationCss:function(t,n){return null===n&&void 0===n&&(n="50% 50%"),{transform:"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-webkit-transform-origin":n,"-moz-transform-origin":n,"-ms-transform-origin":n,"-o-transform-origin":n,"transform-origin":n}},doneAnimation:function(){I.pizzabtn.css(I.additionalButtonFunctions.animation.getRotationCss(0)),I.additionalButtonFunctions.animation.animationRuning=!1,""!==I.params.ButtonAnimationDoneImage&&void 0!==I.params.ButtonAnimationDoneImage&&(I.params.ButtonImage=I.params.ButtonAnimationDoneImage,A("#pizzabtnImg",I.pizzabtn).attr("src",I.params.ButtonAnimationDoneImage)),I.additionalButtonFunctions.MinimizeWrapper()}},getCurrentActiveArea:function(t){if((null!==I.params.ActiveZones||0<I.params.ActiveZones.length)&&"button_and_active_zones"===I.params.ButtonType){for(var n=0;n<I.params.ActiveZones.length;n++){var e=I.params.ActiveZones[n];if(e.Name===t)return e}return null}return null},randomString:function(t){return Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)},isLandscape:function(){return I.additionalButtonFunctions.getWindowWidth()>I.additionalButtonFunctions.getWindowHeight()},getFancyboxMargins:function(){var t=[70,70,70,70];(I.params.ContentInsets.T<0||I.params.ContentInsets.B<0||I.params.ContentInsets.L<0||I.params.ContentInsets.R<0)&&!0===I.params.isManualSize?(t=I.additionalButtonFunctions.isLandscape()&&I.userData.mobile?[I.params.ButtonSize.H/4,I.params.ButtonSize.H/4+5,I.params.ButtonSize.H/4,I.params.ButtonSize.H/4+5]:[I.params.ButtonSize.H+5,I.params.ButtonSize.H/2,I.params.ButtonSize.H+5,I.params.ButtonSize.H/2],I.userData.mobile&&70<I.params.ButtonSize.H?t=[I.params.ButtonSize.H/8,I.params.ButtonSize.H/8,I.params.ButtonSize.H/8,I.params.ButtonSize.H/8]:70<I.params.ButtonSize.H&&(t=[70,70,70,70])):t=[I.params.ContentInsets.T,I.params.ContentInsets.R,I.params.ContentInsets.B,I.params.ContentInsets.L];return t},setIfameSizes:function(){I.userData.mobile&&(A(".fancybox-iframe").first().css("margin-bottom","-5000px"),A(".fancybox-iframe").css("margin-bottom","-5000px")),0!==I.params.iframeScaleMinWidth&&I.params.iframeScaleMinWidth>A(".fancybox-inner").first().width()&&(I.params.iframeScale=A(".fancybox-inner").first().width()/I.params.iframeScaleMinWidth,A(".fancybox-iframe").first().css("margin-bottom","-5000px"),A(".fancybox-iframe").css("margin-bottom","-5000px"));function t(t){A(".fancybox-iframe").first().css("transform","scale("+t+")"),A(".fancybox-iframe").first().css("-moz-transform","scale("+t+")"),A(".fancybox-iframe").first().css("-webkit-transform","scale("+t+")"),A(".fancybox-iframe").first().css("-o-transform","scale("+t+")"),A(".fancybox-iframe").first().css("-ms-transform","scale("+t+")"),A(".fancybox-iframe").first().css("transform-origin","top left"),A(".fancybox-iframe").first().css("-webkit-transform-origin","top left"),A(".fancybox-iframe").first().css("-moz-transform-origin","top left"),A(".fancybox-iframe").first().width(A(".fancybox-inner").first().width()/t),A(".fancybox-iframe").first().height(A(".fancybox-inner").first().height()/t)}if(1!==I.params.iframeScale)t(I.params.iframeScale);else switch(I.parsed_ua.ua_device_type){case"mobile":1!==I.params.iframeScaleMobile&&void 0!==I.params.iframeScaleMobile&&null!==I.params.iframeScaleMobile&&t(I.params.iframeScaleMobile);break;case"tablet":1!==I.params.iframeScaleTablet&&void 0!==I.params.iframeScaleTablet&&null!==I.params.iframeScaleTablet&&t(I.params.iframeScaleTablet);break;default:1!==I.params.iframeScaleDesktop&&void 0!==I.params.iframeScaleDesktop&&null!==I.params.iframeScaleDesktop&&t(I.params.iframeScaleDesktop)}},toExpanseView:function(){var t=null,n=null,e=null,i=null;null!==I.params.ExpansionVideoData&&void 0!==I.params.ExpansionVideoData&&""!==I.params.ExpansionVideoData&&(null!==I.params.ExpansionVideoData.marginLeft&&void 0!==I.params.ExpansionVideoData.marginLeft&&""!==I.params.ExpansionVideoData.marginLeft&&(e=I.params.ExpansionVideoData.marginLeft),null!==I.params.ExpansionVideoData.marginRight&&void 0!==I.params.ExpansionVideoData.marginRight&&""!==I.params.ExpansionVideoData.marginRight&&(i=I.params.ExpansionVideoData.marginRight),null!==I.params.ExpansionVideoData.width&&void 0!==I.params.ExpansionVideoData.width&&""!==I.params.ExpansionVideoData.width&&(t=I.params.ExpansionVideoData.width,null===e&&(e=null===i?0:I.additionalButtonFunctions.getWindowWidth()-t-i)),null!==I.params.ExpansionVideoData.height&&void 0!==I.params.ExpansionVideoData.height&&""!==I.params.ExpansionVideoData.height&&(n=I.params.ExpansionVideoData.height,marginTop=(I.additionalButtonFunctions.getWindowHeight()-n)/2)),null===t&&(null===e&&(e=0),null===i&&(i=0),t=100*(0-(t=I.additionalButtonFunctions.getWindowWidth()-e-i)/I.additionalButtonFunctions.getWindowWidth())),null===n&&(n=100*(0-(n=I.additionalButtonFunctions.getWindowHeight()-20)/I.additionalButtonFunctions.getWindowHeight()),"expansion_video"===I.params.ButtonType&&(n=.5625));A("head").append("<style type='text/css'> #pizzabtnImg { margin: 0px !important; } </style>"),A("body").addClass("probtn_disable_scroll");var a=I.params.ButtonSize.Initial;I.params.ButtonSize.BeforeClick=a;var o={};o.x=I.pizzabtn.css("left"),o.y=I.pizzabtn.css("top"),I.params.ButtonPosition.BeforeClick=o,console.log("tt",o),I.params.ButtonSize.W=t,I.params.ButtonSize.H=n,I.pizzabtn.css("left",e),I.params.ButtonSize.Initial=I.params.ButtonSize,I.additionalButtonFunctions.resizeButton(I.params.ButtonSize),I.isExpansed=!0,I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_button_expanded",size:I.params.ButtonSize})},fromExpanseToNormalView:function(){var t=I.params.ButtonSize.BeforeClick;I.params.ButtonSize=t;var n=I.params.ButtonPosition.BeforeClick;I.pizzabtn.css("left",n.x),I.pizzabtn.css("top",n.y),I.additionalButtonFunctions.resizeButton(I.params.ButtonSize),I.isExpansed=!1,I.additionalButtonFunctions.sendMessageToCreative({message:"probtn_button_minimized_to_normal",size:I.params.ButtonSize})}}}).statistics.callSuperPixelExt("StartButton");function t(){I.statistics.callSuperPixelExt("allButtonInitStart_"+I.allButtonInit),!1===I.allButtonInit&&(I.allButtonInit=!0,I.contentTime.startTimer("ButtonFromInitDuration"),I.initFunctions.initButtonAndUserDeviceInfo())}function n(){I.userDataFunction(function(){window.probtn_ButtonContentType=null,I.HpmdFunctions.probtnHpmdTrack(1),"complete"===document.readyState&&(I.statistics.callSuperPixelExt("Init_document_readyState_complete"),t()),A(window).bind("load",function(){I.statistics.callSuperPixelExt("Init_load"),I.params.Debug&&console.log("windows bind load"),t()}),I.HpmdFunctions.probtnHpmdTrack(1),setTimeout(function(){I.statistics.callSuperPixelExt("Init_timeout"),I.params.Debug&&console.log("setTimeout"),t()},2e3)})}try{var e=function(){var t={};try{if(0<A("#probtn_additional_params").length){var n=A("#probtn_additional_params").text();n=JSON.parse(n),console.log("options",t),t=A.extend(!0,{},n,t)}}catch(t){I.params.Debug&&console.log(t)}return t}(),i=I.atlasPath;!1===e.CookieEnabled?void 0!==DeviceAtlas?n():(DeviceAtlas={cookieName:"DAPROPS",cookieExpiryDays:-1},void 0!==e.atlasPath&&(i=e.atlasPath),console.log("newAtlasPath",e),""!==i?(console.log("atlasPath1"),A.getScript(i,n)):(console.log("atlasPath2"),n())):n()}catch(t){console.log("ex deviceatlas",t),n()}}}(jQuery);