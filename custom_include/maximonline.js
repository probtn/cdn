/*! cdn 2018-07-16 13:07:30 */

function probtn_callPlayer(t,e,n){null!=e&&void 0!=e||(e="playVideo");var i=window.JSON.stringify({event:"command",func:e});try{document.getElementById(t).contentWindow.postMessage(i,"https://www.youtube.com")}catch(t){console.log(t)}}!function(){var t="//cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js";try{window.probtn_hpmd=hpmd}catch(t){window.probtn_hpmd=null}var e=[0,0,0];try{e=jQuery.fn.jquery.split(".")}catch(t){}var n,i,o,a,s,r,c,p,d,u,m,h=h||{};n=window,i=document,o=navigator,a={apiVersion:"1.5",propsCache:"",cookieName:h.cookieName||"DAPROPS",cookieExpiryDays:h.cookieExpiryDays||1,cookieDomain:h.cookieDomain||null,cookiePath:h.cookiePath||"/",divStyle:null,debug:h.debug||!1,ns:{svg:"http://www.w3.org/2000/svg"},cssPrfxs:["Webkit","Moz","O","ms","Khtml"],fncPrfxs:["webkit","moz","o","ms","khtml"],properties:h.properties||{},getPropertiesAsString:function(){return this.propsCache},testCustomProperties:function(){var t,e=!1;for(t in a.properties)e=!0,c[t]=a.properties[t],p(t);e&&(m(),u(r))},getBattery:function(){return void 0===this.battery?null:this.battery}},s="function"==typeof a.debug?a.debug:a.debug?console.log:function(){},r={},c={devicePixelRatio:function(){var t=1;try{t=n.devicePixelRatio}catch(t){}return t+""},"js.deviceOrientation":function(){return"js.deviceOrientation"in r&&r["js.deviceOrientation"]},deviceAspectRatio:function(){t:{var t="2/3 40/71 3/4 16/9 16/10 375/667 9/16 10/16".split(" ");if(void 0!==n.matchMedia)for(var e in t)if(n.matchMedia("(device-aspect-ratio:"+t[e]+")").matches){t=t[e]+"";break t}t=null}return t},"js.webGlRenderer":function(){if(!n.CanvasRenderingContext2D)return null;var t=i.createElement("canvas");if(!(t=t.getContext("webgl")||t.getContext("experimental-webgl")))return null;var e=t.getExtension("WEBGL_debug_renderer_info");return e&&(t=t.getParameter(e.UNMASKED_RENDERER_WEBGL))?t:null}},p=function(t){try{var e=c[t]()}catch(t){s(t)}null!=e&&void 0!==e&&d(t,e)},d=function(t,e){if(-1!=t.indexOf(".")){var n=t.split(".");void 0===a[n[0]]&&(a[n[0]]={}),a[n[0]][n[1]]=e}else a[t]=e;r[t]=e},u=function(t){if(t=void 0===o.cookieEnabled&&"string"==typeof i.cookie||!!o.cookieEnabled){(t=new Date).setDate(t.getDate()+a.cookieExpiryDays);var e="";null!=a.cookieDomain&&(e=";domain="+a.cookieDomain),i.cookie=a.cookieName+'="'+a.propsCache+'";expires='+t.toUTCString()+";path="+a.cookiePath+e}},m=function(){var t,e=r,n="";for(t in e){var i=e[t];n+=(i="boolean"==typeof i?"b":"number"==typeof i?"i":"s")+t+":"+("b"==i?e[t]+0:e[t])+"|"}e=n.slice(0,-1),a.propsCache=e},function(){if(n.addEventListener&&n.removeEventListener){var t=function(e){null!=e&&null!=e.alpha&&(d("js.deviceOrientation",!0),u(r)),n.removeEventListener("deviceorientation",t,!1)};n.addEventListener("deviceorientation",t,!1)}}(),function(){for(var t in c)p(t)}(),m(),u(r),(h=a).testCustomProperties();var f=function(t){function e(t,e,n){var i;null!==e&&void 0!==e||(e="playVideo");var o=window.JSON.stringify({event:"command",func:e});try{i=document.getElementById(t),console.log("probtn_callPlayer",t,e,n),i.contentWindow.postMessage(o,"https://www.youtube.com")}catch(t){console.log(t)}}!function(){try{document.domain.replace("www.","");try{var t=document.getElementById("probtn_additional_params");if(null!==t){var e=JSON.parse(t.innerHTML);void 0!==e.domain&&e.domain}}catch(t){console.log(t)}}catch(t){}}(),function(n){!function(t,e){"use strict";var n="function",i="model",o="name",a="type",s="vendor",r="version",c="architecture",p="console",l="mobile",d="tablet",u="smarttv",m="wearable",h={extend:function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},major:function(t){return"string"==typeof t?t.replace(/[^\d\.]/g,"").split(".")[0]:e},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(t,i){for(var o,a,s,r,c,p,l=0;l<i.length&&!c;){var d=i[l],u=i[l+1];for(o=a=0;o<d.length&&!c;)if(c=d[o++].exec(t))for(s=0;s<u.length;s++)p=c[++a],"object"==typeof(r=u[s])&&r.length>0?2==r.length?typeof r[1]==n?this[r[0]]=r[1].call(this,p):this[r[0]]=r[1]:3==r.length?typeof r[1]!==n||r[1].exec&&r[1].test?this[r[0]]=p?p.replace(r[1],r[2]):e:this[r[0]]=p?r[1].call(this,p,r[2]):e:4==r.length&&(this[r[0]]=p?r[3].call(this,p.replace(r[1],r[2])):e):this[r]=p||e;l+=2}},str:function(t,n){for(var i in n)if("object"==typeof n[i]&&n[i].length>0){for(var o=0;o<n[i].length;o++)if(h.has(n[i][o],t))return"?"===i?e:i}else if(h.has(n[i],t))return"?"===i?e:i;return t}},g={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,r],[/(opios)[\/\s]+([\w\.]+)/i],[[o,"Opera Mini"],r],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],r],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[o,r],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],r],[/(edge)\/((\d+)?[\w\.]+)/i],[o,r],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],r],[/(puffin)\/([\w\.]+)/i],[[o,"Puffin"],r],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(micromessenger)\/([\w\.]+)/i],[[o,"WeChat"],r],[/(QQ)\/([\d\.]+)/i],[o,r],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[o,r],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[r,[o,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[r,[o,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[o,/(.+)/,"$1 WebView"],r],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[o,/(.+(?:g|us))(.+)/,"$1 $2"],r],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[r,[o,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[o,r],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],r],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],r],[/(coast)\/([\w\.]+)/i],[[o,"Opera Coast"],r],[/fxios\/([\w\.-]+)/i],[r,[o,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[r,o],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[o,"GSA"],r],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[r,f.str,g.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],r],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,r]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[c,"amd64"]],[/(ia32(?=;))/i],[[c,h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[c,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[c,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[c,/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[[c,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[c,h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[i,s,[a,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[i,[s,"Apple"],[a,d]],[/(apple\s{0,1}tv)/i],[[i,"Apple TV"],[s,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[s,i,[a,d]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[i,[s,"Amazon"],[a,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[i,f.str,g.device.amazon.model],[s,"Amazon"],[a,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[i,s,[a,l]],[/\((ip[honed|\s\w*]+);/i],[i,[s,"Apple"],[a,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[s,i,[a,l]],[/\(bb10;\s(\w+)/i],[i,[s,"BlackBerry"],[a,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[i,[s,"Asus"],[a,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[s,"Sony"],[i,"Xperia Tablet"],[a,d]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[i,[s,"Sony"],[a,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[s,i,[a,p]],[/android.+;\s(shield)\sbuild/i],[i,[s,"Nvidia"],[a,p]],[/(playstation\s[34portablevi]+)/i],[i,[s,"Sony"],[a,p]],[/(sprint\s(\w+))/i],[[s,f.str,g.device.sprint.vendor],[i,f.str,g.device.sprint.model],[a,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[s,i,[a,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[s,[i,/_/g," "],[a,l]],[/(nexus\s9)/i],[i,[s,"HTC"],[a,d]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[i,[s,"Huawei"],[a,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[s,i,[a,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[i,[s,"Microsoft"],[a,p]],[/(kin\.[onetw]{3})/i],[[i,/\./g," "],[s,"Microsoft"],[a,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[i,[s,"Motorola"],[a,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[i,[s,"Motorola"],[a,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[s,h.trim],[i,h.trim],[a,u]],[/hbbtv.+maple;(\d+)/i],[[i,/^/,"SmartTV"],[s,"Samsung"],[a,u]],[/\(dtv[\);].+(aquos)/i],[i,[s,"Sharp"],[a,u]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[s,"Samsung"],i,[a,d]],[/smart-tv.+(samsung)/i],[s,[a,u],i],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[s,"Samsung"],i,[a,l]],[/sie-(\w+)*/i],[i,[s,"Siemens"],[a,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[s,"Nokia"],i,[a,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[i,[s,"Acer"],[a,d]],[/android.+([vl]k\-?\d{3})\s+build/i],[i,[s,"LG"],[a,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[s,"LG"],i,[a,d]],[/(lg) netcast\.tv/i],[s,i,[a,u]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[i,[s,"LG"],[a,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[i,[s,"Lenovo"],[a,d]],[/linux;.+((jolla));/i],[s,i,[a,l]],[/((pebble))app\/[\d\.]+\s/i],[s,i,[a,m]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[s,i,[a,l]],[/crkey/i],[[i,"Chromecast"],[s,"Google"]],[/android.+;\s(glass)\s\d/i],[i,[s,"Google"],[a,m]],[/android.+;\s(pixel c)\s/i],[i,[s,"Google"],[a,d]],[/android.+;\s(pixel xl|pixel)\s/i],[i,[s,"Google"],[a,l]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[i,/_/g," "],[s,"Xiaomi"],[a,l]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[[i,/_/g," "],[s,"Xiaomi"],[a,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[i,[s,"Meizu"],[a,d]],[/android.+a000(1)\s+build/i],[i,[s,"OnePlus"],[a,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[i,[s,"RCA"],[a,d]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[i,[s,"Dell"],[a,d]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[i,[s,"Verizon"],[a,d]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[s,"Barnes & Noble"],i,[a,d]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[i,[s,"NuVision"],[a,d]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[s,"ZTE"],i,[a,d]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[i,[s,"Swiss"],[a,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[i,[s,"Swiss"],[a,d]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[i,[s,"Zeki"],[a,d]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[s,"Dragon Touch"],i,[a,d]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[i,[s,"Insignia"],[a,d]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[i,[s,"NextBook"],[a,d]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[s,"Voice"],i,[a,l]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[s,"LvTel"],i,[a,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[i,[s,"Envizen"],[a,d]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[s,i,[a,d]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[i,[s,"MachSpeed"],[a,d]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[s,i,[a,d]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[i,[s,"Rotor"],[a,d]],[/android.+(KS(.+))\s+build/i],[i,[s,"Amazon"],[a,d]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[s,i,[a,d]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,h.lowerize],s,i],[/(android.+)[;\/].+build/i],[i,[s,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,r],[/rv\:([\w\.]+).*(gecko)/i],[r,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,r],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[r,f.str,g.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[r,f.str,g.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],r],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,r],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],r],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],r],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,r],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],r],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],r],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,r],[/(haiku)\s(\w+)/i],[o,r],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[r,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,r]]},v=function(n,i){if("object"==typeof n&&(i=n,n=e),!(this instanceof v))return new v(n,i).getResult();var o=n||(t&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:""),a=i?h.extend(b,i):b;return this.getBrowser=function(){var t={name:e,version:e};return f.rgx.call(t,o,a.browser),t.major=h.major(t.version),t},this.getCPU=function(){var t={architecture:e};return f.rgx.call(t,o,a.cpu),t},this.getDevice=function(){var t={vendor:e,model:e,type:e};return f.rgx.call(t,o,a.device),t},this.getEngine=function(){var t={name:e,version:e};return f.rgx.call(t,o,a.engine),t},this.getOS=function(){var t={name:e,version:e};return f.rgx.call(t,o,a.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(t){return o=t,this},this};v.VERSION="0.7.17",v.BROWSER={NAME:o,MAJOR:"major",VERSION:r},v.CPU={ARCHITECTURE:c},v.DEVICE={MODEL:i,VENDOR:s,TYPE:a,CONSOLE:p,MOBILE:l,SMARTTV:u,TABLET:d,WEARABLE:m,EMBEDDED:"embedded"},v.ENGINE={NAME:o,VERSION:r},v.OS={NAME:o,VERSION:r},t.UAParser=v;var y=t&&(t.jQuery||t.Zepto);if(void 0!==y){var w=new v;y.ua=w.getResult(),y.ua.get=function(){return w.getUA()},y.ua.set=function(t){w.setUA(t);var e=w.getResult();for(var n in e)y.ua[n]=e[n]}}}("object"==typeof window?window:this),n.fn.StartButton=function(i){var o;String.prototype.ProBtnHashCode=function(){var t=0,e=0;if(0===this.length)return t;for(e=0,l=this.length;e<l;e++)t=(t<<5)-t+this.charCodeAt(e),t|=0;return t},(o={guidCookieControlPath:"https://cdn.probtn.com/cookie_iframe/cookie-iframe.html",uaParserPath:"https://cdn.probtn.com/libs/ua-parser.js",atlasPath:"https://cdn.probtn.com/libs/atlas.js",currentDomain:document.domain.replace("www.",""),realDomain:document.domain.replace("www.",""),initializedActiveZones:{},mainVersion:"1.40.1814_02112017_dev",DeviceCID_log:"none",hintText:void 0,pizzabtn:void 0,pizzabtnImg:void 0,wrapper:void 0,additionalItemsContainer:void 0,closebutton:void 0,closeButtonClicked:!1,overlaped:!1,buttonMainParams:{isEmpty:!0,hidden:!1},loadedStatus:{postscribe:!1},closed:!1,once_moved:!1,onButtonTapCountCheck:0,onButtonTap:function(t,i,a){if(!o.closeButtonClicked){o.params.Debug&&console.log("onButtonTap"),window.probtn_button_tap=!0;var s=o.params.isAnimation.split("_");if((s[0].toLowerCase()==="lookoutAndOut".toLowerCase()||s[0].toLowerCase()==="forwardAndStop".toLowerCase())&&(s[0].toLowerCase()==="forwardAndStop".toLowerCase()&&o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_forwardAndStop_stop",data:o.pizzabtn.position()}),n.fancybox.isOpen))return o.additionalButtonFunctions.hideAll(),void n.fancybox.close();try{void 0!==o.lookOutTimeout&&(o.pizzabtn.stop(!0,!1),clearTimeout(o.lookOutTimeout)),void 0!==o.lookOutTimeout2&&(o.pizzabtn.stop(!0,!1),clearTimeout(o.lookOutTimeout2))}catch(t){console.log(t)}if(!1!==o.params.MainButtonClickable||"menu"===o.params.ButtonType||(o.params.Debug&&console.log("ProBtnControl.params.ActiveZoneMainButtonClickEnabled "+o.params.MainButtonClickable),""!==i&&null!==i&&void 0!==i)){if(null!==t&&void 0!==t&&""!==t||(t=o.params.ContentURL),"button_and_scroll_zones"===o.params.ButtonType&&(""!==o.params.currentContentURL&&null!==o.params.currentContentURL&&void 0!==o.params.currentContentURL&&(t=o.params.currentContentURL),""!==o.params.currentButtonContentType&&null!==o.params.currentButtonContentType&&void 0!==o.params.currentButtonContentType&&(a=o.params.currentButtonContentType),i=o.params.currentAreaName),""!==i&&null!==i&&void 0!==i&&(o.params.currentAreaName=i),t=o.additionalButtonFunctions.replaceRandom(t),t=o.additionalButtonFunctions.replaceDeviceUID(t),t=o.additionalButtonFunctions.replaceDeviceCUID(t),t=o.additionalButtonFunctions.getContentUrlWithUtm(t),null!==a&&void 0!==a&&""!==a);else if(a=o.params.ButtonContentType,"menu"===o.params.ButtonType){if(!(n("#probtn_menu_ul").length>0))return void o.initFunctions.initFloatingMenu();o.initFunctions.initRemoveMenu()}if("js"!=o.params.ButtonType){if(("expansionButton"===o.params.ButtonType||"expansionVideo"===o.params.ButtonType)&&0===o.onButtonTapCountCheck){o.onButtonTapCountCheck++,n.pep.toggleAll(!1),o.pizzabtn.stop(!0,!0);var r=o.additionalButtonFunctions.getWindowWidth()-20,c=o.additionalButtonFunctions.getWindowHeight()-20;"expansionVideo"===o.params.ButtonType&&(c=.5625*r);var p={width:r,height:c};n("head").append("<style type='text/css'> #pizzabtnImg { margin: 0px !important; } </style>"),n("body").addClass("probtn_disable_scroll");var l={duration:1e3,step:function(t){},complete:function(){n(".fancybox-wrap").fadeIn(),n(".fancybox-overlay").fadeIn(),"expansionVideo"===o.params.ButtonType?n("#pizzabtnIframeOverlay").remove():o.onButtonTap(o.params.ContentURL,"expansionButton","iframe")}};return o.pizzabtn.css("left","10px"),o.pizzabtn.css("top","10px"),o.pizzabtn.css("width",r),o.pizzabtn.css("height",c),void n("#pizzabtnImg").animate(p,l)}if("iframe"===a&&(o.additionalButtonFunctions.sendMessageToParent("probtn_onbuttontap"),"https:"===window.location.protocol&&"http:"===t.split("/")[0]&&(console.log("detected protocols mismatch"),a="anchor_external")),o.contentTime.startTimer(),o.HpmdFunctions.expandHpmdTrack(),o.additionalButtonFunctions.animation.animationRuning&&o.additionalButtonFunctions.animation.doneAnimation(),o.params.dfp.isDFP)try{""!==o.params.dfp.clickUrlEsc&&n.get(o.params.dfp.clickUrlEsc,function(t){})}catch(t){o.params.Debug&&console.log(t)}if("menu"!==o.params.ButtonType){if(o.params.ClickCounterLink&&""!==o.params.ClickCounterLink)try{o.statistics.createClickCounterImage(o.params.ClickCounterLink)}catch(t){o.params.Debug&&console.log(t)}o.statistics.callSuperPixelExt("ClickCounterLink")}o.additionalButtonFunctions.MaximizeWrapper(function(){});var d=o.additionalButtonFunctions.isLandscape()&&o.userData.mobile,u=o.pizzabtn.position(),m=u.top,h=u.left,f=o.additionalButtonFunctions.getWindowWidth(),g=o.additionalButtonFunctions.getWindowHeight(),b="0px",v="0px",y=(f+o.params.ButtonSize.W)/2;(g+o.params.ButtonSize.H)/2<=m&&(b=g-o.params.ButtonSize.H+"px"),y<=h&&(v=f-o.params.ButtonSize.W+"px");var w=o.additionalButtonFunctions.getFancyboxMargins(),S={property:d?"left":"top",currentValue:d?h:m,finishValue:d?v:b},z=0,x=0;try{void 0!==n("#probtn_button").offset()&&(z=n("#probtn_button").offset().left,x=n("#probtn_button").offset().top)}catch(t){console.log(t)}if(n.pep.toggleAll(!1),"youtube"==o.params.ButtonContentType)return o.statistics.SendStatisticsData("ContentShowed",1),e("video_probtn"),n("#youtube_fullscreen").show(),n("#fullscreen_probtn").show(),o.additionalButtonFunctions.youtubeModalWindowSizes(),o.contentTime.startTimer(),o.HpmdFunctions.expandHpmdTrack(),o.additionalButtonFunctions.onOrientationChange(null),void e("video_probtn");var B=!1,C={href:t,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",type:"iframe",parent:o.params.ButtonInjectPath,autoCenter:!0,titlePosition:"inside",scrolling:"yes",margin:w,scrollOutside:!0,speedIn:0,openSpeed:100,closeMethod:o.params.FancyboxcloseMethod,closeSpeed:o.params.FancyboxCloseSpeed,speedOut:0,openOpacity:!1,padding:"0px",height:"100%",minWidth:100,minHeight:100,autoHeight:!1,autoWidht:!1,autoResize:!1,autoSize:!1,iframe:{sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",preload:!1,scrolling:"yes"},helpers:{overlay:{locked:!0,speedIn:0,speedOut:0,showEarly:!0},title:{type:"inside"}},beforeLoad:function(){o.hintText.hide(),n(".fancybox-iframe").first().attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");try{var t=o.params.isAnimation.split("_"),e=o.params.isAnimation.split("_"),i="";try{null!==e[3]&&void 0!==e[3]&&(i=e[3].toLowerCase())}catch(t){}"lookoutAndOut"===t[0]&&"noAuto"!==t[4]||"openmodal"===i||(o.pizzabtn.css(S.property,S.finishValue),"top"==S.property?o.pizzabtn.css("left",z+"px"):o.pizzabtn.css("top",x+"px"))}catch(t){console.log(t)}"iOS"===o.userData.os&&n(document.body).bind("touchmove",function(t){t.preventDefault(),t.stopPropagation(),t.returnValue=!1}),n("html").css("overflow","hidden")},beforeShow:function(){},afterShow:function(){var t=o.wrapper,e={width:o.additionalButtonFunctions.getWindowWidth(),height:o.additionalButtonFunctions.getWindowHeight(),position:"fixed"};t.css(e),n(".fancybox-iframe").first().attr("sandbox","allow-same-origin allow-scripts allow-popups allow-forms");try{n(".fancybox-iframe").first().contents().find("html").css("visibility","visible !important")}catch(t){}var s=n(".fancybox-iframe").first().attr("id");o.additionalButtonFunctions.setIfameSizes(),o.pizzabtn.bind("click",n.fancybox.close);var r=0;try{var c=o.params.isAnimation.split("_");if("lookoutAndOut"===c[0]){o.additionalButtonFunctions.MaximizeWrapper();var p="left";void 0!==c[1]&&(p=c[1]);var l=0,d=0;if(void 0!==c[3]&&(l=c[3]),void 0!==c[4]&&(d=c[4]),"right"===p){r=n(".fancybox-wrap").position().left+n(".fancybox-wrap").width()-o.params.ButtonSize.W/2;o.pizzabtn.css("transition","0s !important"),o.pizzabtn.stop(!0,!1),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start"}),o.pizzabtn.animate({left:parseFloat(r)+parseFloat(d),top:parseFloat(n(".fancybox-wrap").position().top)+parseFloat(l)},3e3,function(){setTimeout(o.additionalButtonFunctions.MinimizeWrapper(),100),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop"})})}else{o.pizzabtn.stop(!0,!1);var u=n(".fancybox-wrap").position().left-o.params.ButtonSize.W/2;o.pizzabtn.animate({left:parseFloat(u)+parseFloat(d),top:parseFloat(n(".fancybox-wrap").position().top)+parseFloat(l)},3e3,function(){setTimeout(o.additionalButtonFunctions.MinimizeWrapper(),100)})}}var m=o.params.isAnimation.split("_"),h="";try{null!==m[3]&&void 0!==m[3]&&(h=m[3].toLowerCase())}catch(t){}"openmodal"===h&&(o.additionalButtonFunctions.MaximizeWrapper(),r=n(".fancybox-wrap").position().left+n(".fancybox-wrap").width()-o.params.ButtonSize.W/2,o.pizzabtn.css("transition","0s !important"),o.pizzabtn.stop(!0,!1),o.pizzabtn.animate({top:parseFloat(n(".fancybox-wrap").position().top+n(".fancybox-wrap").height())},3e3,function(){setTimeout(o.additionalButtonFunctions.MinimizeWrapper(),100)}))}catch(t){console.log(t)}if(function(){if("video"===a||"video_and_iframe"===a){o.additionalButtonFunctions.onOrientationChange(null);try{var t;if(null!==i&&void 0!==i)try{(t=n("#video_probtn_"+i).get(0)).play()}catch(t){console.log("video error1",t)}else(t=n("#video_probtn").get(0)).play()}catch(t){o.params.Debug&&console.log(t)}finally{if(n(t).on("pause",function(){var e=t.currentTime.toFixed(2);o.statistics.SendStatisticsData("VideoPaused",e)}),n(t).on("playing",function(){var e=t.currentTime.toFixed(2);o.statistics.SendStatisticsData("VideoStarted",e)}),n(t).on("seeked",function(){var e=t.currentTime.toFixed(2);o.statistics.SendStatisticsData("VideoSeeked",e)}),"video_and_iframe"===a){var e="#video_item",s="#skip_video_btn";null!==i&&void 0!==i&&(e="#video_item_"+i,s="#skip_video_btn_"+i),n(t).on("ended",function(){n(e).remove(),n(s).remove()})}null===o.params.VideoPixels&&void 0===o.params.VideoPixels&&""===o.params.VideoPixels&&(o.params.VideoPixels=[]);var r=o.params.VideoPixels;o.params.VideoPixels=n("<div/>").html(r).text();var c=[];try{c=JSON.parse(o.params.VideoPixels)}catch(t){c=[]}var p=!0,l=function(e){return e.forEach(function(e){(e.StartPosition>1||e.StartPosition<0||e.EndPosition>1||e.EndPosition<0)&&(p=!1),e.StartPosition=e.StartPosition*t.duration,e.EndPosition=e.EndPosition*t.duration}),e},d=[{StartPosition:0,EndPosition:.05},{StartPosition:.25,EndPosition:.5},{StartPosition:.5,EndPosition:.75},{StartPosition:.75,EndPosition:.95},{StartPosition:.95,EndPosition:1}];if(c=l(c),d=l(d),!p)return;var u=null,m=null;n(t).on("timeupdate",function(){var e=function(e,n,i){n.forEach(function(n,o){t.currentTime>n.StartPosition&&t.currentTime<n.EndPosition&&e!==o&&i(n,o)})};e(m,d,function(e,n){try{o.statistics.SendStatObject({VideoPart:n,VideoFullDuration:t.duration.toFixed(2)}),m=n}catch(t){console.log(t)}}),e(u,c,function(t,e){try{o.statistics.SendStatisticsData("performedAction","videoPixel_"+e+"_from("+t.StartPosition.toFixed(2)+")_to("+t.EndPosition.toFixed(2)+")"),o.statistics.createClickCounterImage(t.TrackingLink)}catch(t){console.log(t)}u=e})}),n(".fancybox-wrap").on("close",function(){})}}}(),!1===B&&(B=!0,n("#"+s).is("iframe")))try{var f=document.getElementById(s);null!==f.contentWindow&&(B=!0,f.contentWindow.postMessage({message:"iframe_showed_and_loaded"},"*"))}catch(t){}},afterClose:function(){if(n("body").removeClass("probtn_disable_scroll"),"video"===a)try{var t;null!==i&&void 0!==i?(t=n("#video_probtn_"+i).get(0)).pause():(t=n("#video_probtn").get(0)).pause()}catch(t){}finally{var e=t.currentTime.toFixed(2);o.statistics.SendStatisticsData("VideoClosed",e)}"menu"!==o.params.ButtonType&&o.additionalButtonFunctions.MinimizeWrapper(function(){},o.params.MinimizeWrapperTime),"iOS"===o.userData.os&&n(document.body).unbind("touchmove"),n("html").css("overflow","auto"),o.pizzabtn.unbind("click"),n.pep.toggleAll(!0),o.additionalButtonFunctions.closeAfterOrientationChange?(o.pizzabtn.center(),o.additionalButtonFunctions.closeAfterOrientationChange=!1):o.pizzabtn.css(S.property,S.currentValue+"px"),!0===o.params.HideAfterFirstShow&&o.additionalButtonFunctions.hideAll(),"lookoutAndOut"===s[0]&&o.additionalButtonFunctions.hideAll(),o.contentTime.endTimer(),o.HpmdFunctions.closeHpmdTrack()},onUpdate:function(){o.additionalButtonFunctions.onOrientationChange(null)}};if(C.type=o.params.FancyboxType,"video"===a||"video_and_iframe"===a){C.type="inline";try{var I;if(null!==i&&void 0!==i)null===(I=document.getElementById("video_and_iframe_item_"+i))&&(I="#video_item_"+i),C.href=I,console.log("fancyboxParams.href",C.href);else"video"===a&&(I="#video_item"),"video_and_iframe"===a&&(I="#video_and_iframe_item"),C.href=I}catch(t){}}var _="";""!==(_=!0===o.params.Debug?o.params.VendorText+" "+o.mainVersion:o.params.VendorText)&&" "!==_&&!0===o.params.ButtonEnabled&&!0===o.params.ButtonVisible&&(C.title=o.additionalButtonFunctions.getTitleTextForModalWindow(),C.titleShow=!0),!0===o.params.IsManualSize?(C.width=o.params.ContentSize.X,C.height=o.params.ContentSize.Y,-1!==o.params.ContentSize.X.indexOf("%")?C.width=o.additionalButtonFunctions.getWindowWidth()*(parseFloat(o.params.ContentSize.X)/100):C.width=o.params.ContentSize.X,-1!==o.params.ContentSize.Y.indexOf("-")?(C.height=C.width*Math.abs(o.params.ContentSize.H),C.height>o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height()&&(C.height=o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height(),C.width=C.height/Math.abs(o.params.ContentSize.H))):-1!==o.params.ContentSize.Y.indexOf("%")?C.height=o.additionalButtonFunctions.getWindowHeight()*(parseFloat(o.params.ContentSize.Y)/100):C.height=o.params.ContentSize.Y):(C.width=o.params.ContentSize.W,C.height=o.params.ContentSize.H),o.params.MaxWidth>0&&(C.maxWidth=o.params.MaxWidth),o.params.MaxHeight>0&&(C.maxHeight=o.params.MaxHeight);var T=function(){!0===o.params.HideAfterFirstShow&&o.additionalButtonFunctions.hideAll()};if(!0===o.params.OpenExternal||"anchor_external"===a){o.statistics.SendStatisticsData("ContentShowed",1),n.pep.toggleAll(!0);window.open(t,"_blank");o.additionalButtonFunctions.MinimizeWrapper(function(){}),T()}else if("anchor"===a)"#"===t.charAt(0)?(n.pep.toggleAll(!0),window.location.hash="",window.location.hash=t):o.statistics.SendStatisticsData("ContentShowed",1,null,function(){n.pep.toggleAll(!0),window.open(t,"_top"),T()});else{if(null!==i&&void 0!==i)o.statistics.sendAreaActivatedStats(i);else try{var A="";null!==s[3]&&void 0!==s[3]&&(A=s[3].toLowerCase()),"lookoutAndOut"===s[0]||"openmodal"===A.toLowerCase()||o.statistics.SendStatisticsData("ContentShowed",1)}catch(t){o.statistics.SendStatisticsData("ContentShowed",1)}var k=o.wrapper,D={width:o.additionalButtonFunctions.getWindowWidth(),height:o.additionalButtonFunctions.getWindowHeight(),position:"fixed"};k.css(D),n.fancybox.open(C)}}else var F=setInterval(function(){if(o.loadedStatus.postscribe){clearInterval(F);var t=o.additionalButtonFunctions.randomString(12);n("<div/>",{id:t,css:{display:"none"}}).prependTo(o.additionalItemsContainer);postscribe("#"+t,""+o.params.ContentURL)}},100)}else o.params.Debug&&console.log("areaname empty")}},contentTime:{timeValue:{ContentShowedDuration:0,MovedDuration:0,ButtonShowedDuration:0,ButtonFromInitDuration:0},contentOpenedTime:0,movedTime:0,startTimer:function(t){null!==t&&void 0!==t||(t="ContentShowedDuration"),void 0!==o.contentTime.intervalId[t]&&clearInterval(o.contentTime.intervalId[t]),o.contentTime.timeValue[t]=0,o.contentTime.intervalId[t]=setInterval(function(){o.contentTime.timeValue[t]+=.01},10)},endTimer:function(t){null!==t&&void 0!==t||(t="ContentShowedDuration"),clearInterval(o.contentTime.intervalId[t]),o.contentTime.intervalId[t]=void 0;var e=function(){(null!==o.params.ActiveZones||o.params.ActiveZones.length>0)&&"button_and_active_zones"===o.params.ButtonType&&"ContentShowedDuration"===t&&(o.params.currentAreaName="")};if("ContentShowedDuration"===t&&"video"===o.params.ButtonContentType){var n=0;try{n=Math.floor(document.getElementById("video_probtn").duration)}catch(t){}o.statistics.SendStatObject({ContentShowedDuration:o.contentTime.timeValue[t].toFixed(2),VideoFullDuration:n.toFixed(2)},e)}else"MovedDuration"===t?o.contentTime.timeValue[t]>.01&&o.statistics.SendStatisticsData(t,o.contentTime.timeValue[t].toFixed(2),"",e):o.statistics.SendStatisticsData(t,o.contentTime.timeValue[t].toFixed(2),"",e)},intervalId:{ContentShowedDuration:void 0,MovedDuration:void 0}},userData:{},geolocation:{checkPlaces:function(t){for(var e=0;e<o.params.LocationPoints.length;e++){var n=o.params.LocationPoints[e],i=o.geolocation.calculateDistance(o.geolocation.latitude,o.geolocation.longitude,n.lat,n.lon);if(n.rad>=i)return console.log("In radius "+n.name+" "+i,o.geolocation.position,n),void t(!0,n)}t(!1,null)},calculateDistance:function(t,e,n,i){function o(t){return t*Math.PI/180}var a=o(n-t),s=o(i-e),r=(t=o(t),n=o(n),Math.sin(a/2)*Math.sin(a/2)+Math.sin(s/2)*Math.sin(s/2)*Math.cos(t)*Math.cos(n));return 1e3*(6371*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))))},checkAndRunGeolocation:function(t){!0===o.params.UseGeoLocation?!0===o.params.WaitForGeoLocation?o.geolocation.getLocation(function(e){o.geolocation.getPosition(e),t()}):(o.geolocation.getLocation(function(t){o.geolocation.getPosition(t)}),t()):t()},getLocation:function(t){try{navigator.geolocation?navigator.geolocation.getCurrentPosition(t):o.params.Debug&&console.log("Geolocation is not supported by this browser.")}catch(t){o.params.Debug&&console.log(t)}},getPosition:function(t){try{o.params.Debug&&console.log("position",t),o.geolocation.position=t,o.geolocation.longitude=t.coords.longitude,o.geolocation.latitude=t.coords.latitude}catch(t){o.params.Debug&&console.log(t)}},position:{},longitude:0,latitude:0},userDataFunction:function(t){try{var e="Unbekannt",n="",i="",a="";screen.width&&(n+=(i=screen.width?screen.width:"")+" x "+(a=screen.height?screen.height:""));var s,r,c,p=navigator.appVersion,l=navigator.userAgent,d=navigator.appName,u=""+parseFloat(navigator.appVersion),m=parseInt(navigator.appVersion,10);-1!=(r=l.indexOf("Opera"))?(d="Opera",u=l.substring(r+6),-1!=(r=l.indexOf("Version"))&&(u=l.substring(r+8))):-1!=(r=l.indexOf("MSIE"))?(d="Microsoft Internet Explorer",u=l.substring(r+5)):-1!=(r=l.indexOf("Chrome"))?(d="Chrome",u=l.substring(r+7)):-1!=(r=l.indexOf("Safari"))?(d="Safari",u=l.substring(r+7),-1!=(r=l.indexOf("Version"))&&(u=l.substring(r+8))):-1!=(r=l.indexOf("Firefox"))?(d="Firefox",u=l.substring(r+8)):(s=l.lastIndexOf(" ")+1)<(r=l.lastIndexOf("/"))&&(d=l.substring(s,r),u=l.substring(r+1),d.toLowerCase()==d.toUpperCase()&&(d=navigator.appName)),-1!=(c=u.indexOf(";"))&&(u=u.substring(0,c)),-1!=(c=u.indexOf(" "))&&(u=u.substring(0,c)),m=parseInt(""+u,10),isNaN(m)&&(u=""+parseFloat(navigator.appVersion),m=parseInt(navigator.appVersion,10));var f=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(p),g=!!navigator.cookieEnabled;void 0!==navigator.cookieEnabled||g||(document.cookie="testcookie",g=-1!=document.cookie.indexOf("testcookie"));var b=e,v=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],y=e;try{for(var w in v){var S=v[w];if(S.r.test(l)){b=S.s;break}}switch(/Windows/.test(b)&&(y=/Windows (.*)/.exec(b)[1],b="Windows"),b){case"Mac OS X":y=/Mac OS X (10[\.\_\d]+)/.exec(l)[1];break;case"Android":y=/Android ([\.\_\d]+)/.exec(l)[1];break;case"iOS":y=(y=/OS (\d+)_(\d+)_?(\d+)?/.exec(p))[1]+"."+y[2]+"."+(0|y[3])}}catch(t){b=e}var z=null!==navigator.userAgent.match(/iPad/i),x="";void 0!==h&&(x=h.getPropertiesAsString());var B={screen:n,screenWidth:i,screenHeight:a,browser:d,browserVersion:u,browserMajorVersion:m,mobile:f,os:b,osVersion:y,cookies:g,isiPad:z,retina:1,kbs:0,DAPROPS:x};return o.userData=B,t(B),B}catch(e){return void t(void 0)}},XProBtnToken:"b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b",serverUrl:"https://admin.probtn.com",GetDeviceUID:function(){var t="1234";if(null!==o.cookieFunctions.readCookie("probtnId"));else{var e=new Date;t=(e=e.getTime()).toString()+"-"+navigator.userAgent.toString().ProBtnHashCode(),o.cookieFunctions.createCookie("probtnId",t,365)}return o.cookieFunctions.setHashCookie(),t=o.cookieFunctions.readCookie("probtnId")},DeviceCID:"",cookieFunctions:{getDeviceCID:function(t){try{try{if(n("#probtn_additional_params").length>0){var e=n("#probtn_additional_params").text();null!==(e=JSON.parse(e)).useGuidIframe&&void 0!==e.useGuidIframe&&""!==e.useGuidIframe&&(o.params.useGuidIframe=e.useGuidIframe)}}catch(t){o.params.Debug&&console.log(t)}var i=o.GetDeviceUID();if(!1===o.params.useGuidIframe)return o.DeviceCID=i,void t(i);if(!0===o.params.useGuidIframe)if(!1!==o.params.isServerCommunicationEnabled){var a=!1;setTimeout(function(){a||(console.log("getDeviceCID6_timeout"),a=!0,t(i))},11500),window.window.addEventListener("message",function(e){try{void 0!==e.data.type&&null!==e.data.type&&!1===a&&(a=!0,o.statistics.callSuperPixelExt("getDeviceCID6_6"),o.DeviceCID_log=JSON.stringify(e.data),o.cookieFunctions.createCookie("probtnCID",e.data.cid,1),o.DeviceCID=e.data.cid,t(e.data.cid))}catch(t){o.statistics.callSuperPixelExt("getDeviceCID6_ex_"+t)}},!1)}else o.statistics.callSuperPixelExt("getDeviceCID7"),t(i);else t(i);if(!1!==o.params.isServerCommunicationEnabled)try{o.statistics.callSuperPixelExt("getDeviceCID1"),n("#probtn_guidIframe").remove(),!!window.cordova&&(o.statistics.callSuperPixelExt("getDeviceCID2"),setTimeout(function(){var t={type:"probtnCID",cid:""};console.log("deviceCUID_item",t),window.top.postMessage(t,"*"),window.postMessage(t,"*")},500)),n("<iframe/>",{id:"probtn_guidIframe",scrolling:"no",seamless:"seamless",src:o.guidCookieControlPath,css:{width:"0px",height:"0px",position:"absolute",top:"-10000px",left:"-10000px"}}).appendTo("body")}catch(t){try{console.log("getDeviceCID4"+t);var s={type:"probtnCID",cid:""};window.top.postMessage(s,"*"),window.postMessage(s,"*")}catch(t){console.log(t)}}}catch(e){t(i)}},setHashCookie:function(){for(var t,e=/#\S*=/g,n=window.location.hash;null!==(t=e.exec(n));){if(t.index===e.lastIndex&&e.lastIndex++,"#probtn_deviceid"==t[0].replace("=","")){var i=n.replace(t[0],"");""!==i&&void 0!==i&&null!==i?o.cookieFunctions.createCookie("probtnId","_NAMED_"+i,365):(o.cookieFunctions.eraseCookie("probtnId"),o.GetDeviceUID())}}},createCookie:function(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}document.cookie=t+"="+e+i+"; path=/"},readCookie:function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null},eraseCookie:function(t){o.cookieFunctions.createCookie(t,"",-1)}},allButtonInit:!1,params:{},HpmdFunctions:{probtnHpmdTrack:function(t){if(o.params.isHPMD)try{void 0===t&&(t=1)}catch(t){}},closeHpmdTrack:function(){if(o.params.isHPMD)try{o.params.hpmd.trackEvent("hpmd.close"),o.params.hpmd.trackEvent("hpmd.time-expanded",{weight:o.contentTime.contentOpenedTime})}catch(t){}},expandHpmdTrack:function(){if(o.params.isHPMD)try{o.params.hpmd.trackEvent("hpmd.expand")}catch(t){o.params.Debug&&console.log(t)}}},randomElements:{probtnId:"probtn_button_"},statistics:{_currentSessionID:null,getCurrentSessionID:function(){return null===this._currentSessionID&&(this._currentSessionID=(new Date).getTime().toString()+navigator.userAgent.toString().ProBtnHashCode()+o.additionalButtonFunctions.randomString(12)),this._currentSessionID},checkAdBlock:function(){try{n.ajax({url:"https://cdn.probtn.com/showads.js",dataType:"javascript",success:function(t){console.log("Success:",t)}}).fail(function(t){0===t.status&&(o.statistics.SendStatisticsData("performedAction","adBlockDetected"),console.log("probtn.js - adBlock detected"))})}catch(t){console.log("ex",t)}},createEventHandler:function(t){try{var e=document.createEvent("Event");e.initEvent("probtn_events",!0,!0),e.data=t,document.dispatchEvent(e)}catch(t){}},prepareObjectForEventHandler:function(t){var e={AZName:"",Statistic:[]};try{if(null!==t&&""!==t&&void 0!==t)for(var n in t)if(t.hasOwnProperty(n)){var i={};i.value=t[n],i.name=n,e.Statistic.push(i)}}catch(t){}return e},callSuperPixel:function(){try{o.statistics.createClickCounterImage("https://pixel.probtn.com/1/from-ref")}catch(t){}},callSuperPixelExt:function(t){try{var e="",n=document.getElementById("probtn_additional_params");if(null!==n){var i=JSON.parse(n.innerHTML);void 0!==i.domain&&(e=i.domain)}if("getintent_dsp"===o.currentDomain||"getintent_dsp"===e||e.toLowerCase()==="Africa_KTB_getintent".toLowerCase()||"Africa_KTB_getintent"===o.currentDomain){o.GetDeviceUID();var a="https://pixel.probtn.com/1/from-ref?pbdebug=getintent&DeviceUID="+o.DeviceCID+"&localDomain="+o.realDomain+"&daction="+t;o.statistics.createClickCounterImage(a)}}catch(t){console.log(t)}},createClickCounterImage:function(t,e){try{var i=t;(i=o.additionalButtonFunctions.replaceRandom(t))===t&&t!==o.params.TrackingLink&&(i=o.additionalButtonFunctions.replaceUrlParam(i,"probtn_random",o.additionalButtonFunctions.randomString(12)));var a=o.additionalItemsContainer;null===o.additionalItemsContainer&&void 0===o.additionalItemsContainer&&(a="body");var s=o.additionalButtonFunctions.randomString(12);null!==e&&void 0!==e&&(s=e),n("<img/>",{id:"probtn_ClickCounterLink_"+s,src:i,style:"width: 1px; height: 1px; position: absolute; left: -10001px; top: -10001px;"}).prependTo(a)}catch(t){console.log(t)}},createStatisticsLink:function(t,e,n){void 0!==t&&null!==t||(t="updateUserStatistic");var i;i=o.GetDeviceUID();var a=o.DeviceCID,s="";null!==o.params.CampaignID&&void 0!==o.params.CampaignID&&(s="&CampaignID="+o.params.CampaignID);var r="";null!==o.params.currentAreaName&&void 0!==o.params.currentAreaName&&""!==o.params.currentAreaName&&(r=o.params.currentAreaName);var c="";null!==document.referrer&&void 0!==document.referrer&&(c=document.referrer);var p=o.contentTime.timeValue.ButtonFromInitDuration.toFixed(2),l=o.statistics.getCurrentSessionID(),d=o.serverUrl+"/1/functions/"+t+"?BundleID="+o.currentDomain+"&DeviceType=web"+s+"&Version="+o.mainVersion+"&AZName="+r+"&log="+o.DeviceCID_log+"&DeviceUID="+i+"&DeviceCUID="+a+"&localDomain="+o.realDomain+e+"X-ProBtn-Token=b04bb84b22cdacb0d57fd8f8fd3bfeb8ad430d1b&Location[Longitude]="+o.geolocation.longitude+"&Location[Latitude]="+o.geolocation.latitude+"&ScreenResolutionX="+o.userData.screenHeight+"&ScreenResolutionY="+o.userData.screenWidth+"&retina="+o.userData.retina+"&ConnectionSpeed="+o.userData.kbs+"&AdditionalTargetingParam="+o.params.AdditionalTargetingParam+"&ButtonFromInitDuration="+p+"&SessionID="+l+"&OriginalReferer="+c+"&DAPROPS="+o.userData.DAPROPS+"&callback=?";return null===n||void 0===n?n={additional_params:e}:o.statistics.createEventHandler(n),d},sendAreaActivatedStats:function(t,e){o.params.isServerCommunicationEnabled&&(o.params.currentAreaName=t,n.getJSON(o.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"ContentShowed": "1"}&',{AZName:t,Statistic:[{name:"ContentShowed",value:1}]}),function(){}).always(function(){null!==e&&void 0!==e&&e()}))},sendScrollAreaShowedStats:function(t,e){n("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage({message:"probtn_page_scrollzone_changed",name:t},"*");o.params.isServerCommunicationEnabled&&(o.params.currentAreaName=t,n.getJSON(o.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"ScrollZoneShowed": "1"}&',{AZName:t,Statistic:[{name:"ScrollZoneShowed",value:1}]}),function(){}).done(function(){}).fail(function(){}).always(function(){null!==e&&void 0!==e&&e()}))},SendBrowserStatsInfo:function(){try{o.params.isServerCommunicationEnabled&&o.statistics.SendStatisticsDataObject({Resolution:o.userData.screen,Browser:o.userData.browser,BrowserVersion:o.userData.browserVersion,OS:o.userData.os+" "+o.userData.osVersion})}catch(t){o.params.Debug&&console.log(t)}},SendCustomStat:function(t,e){o.params.isServerCommunicationEnabled&&n.getJSON(o.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"'+t+'": "'+e+'"}&',{AZName:areaName,Statistic:[{name:t,value:e}]}),function(){}).always(function(){null!==callback&&void 0!==callback&&callback()})},SendStatisticsData:function(t,e,n,i){if(o.params.isServerCommunicationEnabled){var a;o.GetDeviceUID(),a=o.DeviceCID,""!==t&&null!==t&&void 0!==t||(t="Opened"),""!==e&&null!==e&&void 0!==e||(e=1),""===n||null===n||void 0===n?o.statistics.SendStat(t,e,a,o.currentDomain,i):o.statistics.SendCustomStat(t,e,a,o.currentDomain,i)}},SendStat:function(t,e,i,a,s){if(o.statistics.callSuperPixelExt("SendStat"),o.params.isServerCommunicationEnabled){var r="";null!==o.params.currentAreaName&&void 0!==o.params.currentAreaName&&""!==o.params.currentAreaName&&(r=o.params.currentAreaName),void 0===t&&(t=""),void 0===e&&(e=""),n.getJSON(o.statistics.createStatisticsLink("updateUserStatistic",'&Statistic={"'+t+'": "'+e+'"}&',{AZName:r,Statistic:[{name:t,value:e}]}),function(t){}).always(function(){null!==s&&void 0!==s&&s()})}},SendStatObject:function(t,e){var i=JSON.stringify(t);if(o.statistics.callSuperPixelExt("SendStatObject"),o.params.isServerCommunicationEnabled){var a=o.statistics.prepareObjectForEventHandler(t);n.getJSON(o.statistics.createStatisticsLink("updateUserStatistic","&Statistic="+i+"&",a),function(t){o.params.Debug&&console.log(t)}).done(function(){}).fail(function(){}).always(function(){null!==e&&void 0!==e&&e()})}},SendStatisticsDataObject:function(t,e){if(o.statistics.callSuperPixelExt("SendStatisticsDataObject"),o.params.isServerCommunicationEnabled){var i=o.statistics.prepareObjectForEventHandler(t);n.getJSON(o.statistics.createStatisticsLink("updateCustomStatistic","&Statistic="+JSON.stringify(t)+"&",i),function(t){o.params.Debug&&console.log(t)}).done(function(){}).fail(function(){}).always(function(){null!==e&&void 0!==e&&e()})}}},videoFunctions:{createVideoItem:function(t,e){var i="video_item",a="video_probtn";if(null!==t&&void 0!==t&&""!==t&&(i="video_item_"+t,a="video_probtn_"+t),n("#"+i).length<1){var s='<div id="'+i+'" class="probtn_video_wrapper2" style="display: none; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0 auto;"><tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline id="'+a+'" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+e+'" type="video/mp4">Your browser does not support the video tag.</video></td></tr></table></div>';o.additionalItemsContainer.append(s);var r=o.additionalButtonFunctions.getWindowWidth()-30,c=o.additionalButtonFunctions.getWindowHeight()-60;!0===o.params.IsManualSize&&(r=-1!==o.params.ContentSize.X.indexOf("%")?o.additionalButtonFunctions.getWindowWidth()*(parseFloat(o.params.ContentSize.X)/100):o.params.ContentSize.X,c=-1!==o.params.ContentSize.Y.indexOf("%")?o.additionalButtonFunctions.getWindowHeight()*(parseFloat(o.params.ContentSize.Y)/100):o.params.ContentSize.Y);var p=0,l=0;r>c?l=(p=c)/o.params.VideoSize.Y*o.params.VideoSize.X:p=(l=r)/o.params.VideoSize.X*o.params.VideoSize.Y,n("#"+a).width(l),n("#"+a).height(p)}},createVideoAndIframeItem:function(t,e){var i=t.split("|"),a="video_and_iframe_item",s="video_item",r="video_probtn",c="skip_video_btn";if(null!==e&&void 0!==e&&""!==e&&(s="video_item_"+e,a="video_and_iframe_item_"+e,r="video_probtn_"+e,c="skip_video_btn_"+e),n("#"+a).length<1){var p='<div id="'+a+'" style="display:none"><div id="'+s+'" class="probtn_video_wrapper2" style="display: inline-block; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table cellspacing="0" cellpadding="0" class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0px;"><tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline onclick="" id="'+r+'" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+i[0]+'" type="video/mp4">Your browser does not support the video tag. </video></td><td>test</td></tr></table> +</div><button id="'+c+'"style="position: absolute; z-index: 7; left: 45%; top:90%;" onclick=\'document.getElementById("'+s+'").remove(); document.getElementById("'+c+'").remove();\'>Press Button</button><iframe src="'+i[1]+'" class="video_iframe" scrolling="auto"></iframe></div>';o.additionalItemsContainer.append(p)}}},initFunctions:{initProbtnBadge:function(t){o.wrapper,n("body");if(0!==t.length){var e=n("#probtn_badge");0===e.length&&o.params.BadgeActive&&""!==o.params.BadgeImage&&((e=n("<img/>",{id:"probtn_badge",src:o.params.BadgeImage,style:"margin: 0 auto; display: none; top: -1000px; position: absolute;width:"+o.params.BadgeSize.W+"px;height:"+o.params.BadgeSize.H+"px;left: -1000px;"}).appendTo(t)).setBadgePosition=function(){var t=o.params.BadgePosition.split("_"),e=0,n=o.params.ButtonSize.H+5;switch("top"===t[0]&&(n=-o.params.BadgeSize.H-5),t[1]){case"left":e=0;break;case"center":e=(o.params.ButtonSize.W-o.params.BadgeSize.W)/2;break;case"right":e=o.params.ButtonSize.W-o.params.BadgeSize.W}this.css({left:e+"px",top:n+"px"})},e.setBadgePosition(),null!==o.params.BadgeDelayBeforeShow&&void 0!==o.params.BadgeDelayBeforeShow||(o.params.BadgeDelayBeforeShow=0),setInterval(function(){e.css("display","block")},o.params.BadgeDelayBeforeShow))}else console.log("probtn element is not exist. Couldn't add probtn badge");o.badge=e},initProbtnClosingArea:function(t){""!==o.params.CloseAreaType&&"default"!==o.params.CloseAreaType&&void 0!==o.params.CloseAreaType?(o.closeButton.prependTo(t),o.closeButton.clickOnCloseButton()):(o.closeButton.prependTo(o.additionalItemsContainer),o.closeButton.clickOnCloseButton())},stopWebAudio:function(){o.initFunctions.stopedWebAudio=!0,null!==o.initFunctions.soundSource&&void 0!==o.initFunctions.soundSource&&o.initFunctions.soundSource.stop(0)},soundSource:null,stopedWebAudio:!1,initWebAudio:function(){if(""!==o.params.SoundURL&&null!==o.params.SoundURL&&void 0!==o.params.SoundURL){var t=o.params.SoundMode.split("_");window.AudioContext=window.AudioContext||window.webkitAudioContext;var e=new AudioContext,i=function(t){var n=new XMLHttpRequest;function i(t){console.log(t)}n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){e.decodeAudioData(n.response,function(t){a(t)},i)},n.send()},a=function(n){o.initFunctions.soundSource=e.createBufferSource(),o.initFunctions.soundSource.buffer=n,o.initFunctions.soundSource.connect(e.destination),o.initFunctions.soundSource.start(0),o.initFunctions.soundSource.onended=function(){"cycle"!==t[1]||o.initFunctions.stopedWebAudio||a(n)}},s=!0;"autoStart"===t[0]&&"iOS"!==o.userData.os&&(s=!1);var r=!0;if(s){var c=function(){if(r)try{!function(t){if(this.unlocked)return console.log("return"),void t();try{var n=e.createBuffer(1,1,22050),i=e.createBufferSource();i.buffer=n,i.connect(e.destination),console.log(i),(o=i.noteOn)&&"[object Function]"==={}.toString.call(o)?i.noteOn(0):i.start(0)}catch(t){console.log(t)}var o;setTimeout(function(){i.playbackState===i.PLAYING_STATE||i.playbackState===i.FINISHED_STATE?(!0,t()):t()},0)}(function(){if(r&&(r=!1,i(o.params.SoundURL),n("#pizzabtnImg").is("iframe")))try{var t=document.getElementById("pizzabtnImg");null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_web_audio_api_enabled"},"*")}catch(t){}})}catch(t){console.log(t)}};window.addEventListener("touchstart",c,!1),window.addEventListener("click",c,!1)}else if(i(o.params.SoundURL),n("#pizzabtnImg").is("iframe"))try{var p=document.getElementById("pizzabtnImg");null!==p.contentWindow&&p.contentWindow.postMessage({message:"probtn_web_audio_api_enabled"},"*")}catch(t){}}},initButtonAndUserDeviceInfo:function(){try{var e=(new UAParser).getResult();if(e&&e.device&&e.os){if(e.os.name?e.ua_os_name=e.os.name.toLowerCase():e.ua_os_name="android",e.device.type)e.ua_device_type=e.device.type.toLowerCase();else switch(e.ua_os_name){case"android":case"ios":case"windows phone":case"windows mobile":e.ua_device_type="mobile";break;default:e.ua_device_type="console"}o.parsed_ua=e,o.params.Debug&&console.log(o.parsed_ua),o.statistics.callSuperPixelExt("initButtonAndUserDeviceInfo_"+o.parsed_ua)}}catch(t){o.params.Debug&&console.log(t),o.statistics.callSuperPixelExt("initButtonAndUserDeviceInfo_ex_"+t)}!function(){if(o.statistics.callSuperPixelExt("allButton1"),o.userData.browserMajorVersion>"8"||"Microsoft Internet Explorer"!==o.userData.browser){try{if(n("#probtn_additional_params").length>0){var e=n("#probtn_additional_params").text();e=JSON.parse(e),console.log("options",i),i=n.extend(!0,{},e,i)}}catch(t){o.params.Debug&&console.log(t)}o.statistics.callSuperPixelExt("allButton1_not_ie"),o.params=n.extend(!0,{UseScreenSizes:!1,VideoPixels:[],JsImpressionCode:"",VideoItemHeaderImage:"",BadgeImage:"https://cdn.probtn.com/images/viewst-ad-3.png",BadgePosition:"bottom_center",BadgeSize:{W:46,H:18},BadgeActive:!0,BadgeDelayBeforeShow:0,BrandingImage:"",CloseAreaType:"attached",AttachedClosePosition:"top_right",CorrectPositionBeforeMove:!0,OnNoShowPixel:"",OnShowPixel:"",ButtonInjectPath:"body",LocationPoints:[],RequireLocation:!1,useGuidIframe:!0,waitIframeLoadedMsg:!1,waitContentLoadedMsg:!1,animationData:"",RoundButton:"none",LockBody:!1,CloseButtonShowDelay:0,SoundURL:"",SoundMode:"",ExternalData:{},ExternalDataSources:[{Name:"ASource3",Source:"https://demo.probtn.com/button_example4/externalData/iframe3/",Priority:13},{Name:"Source1",Source:"https://demo.probtn.com/button_example4/externalData/iframe1/",Priority:1},{Name:"Source2",Source:"https://demo.probtn.com/button_example4/externalData/iframe2/",Priority:2}],UseExternalDataAboutUser:!1,FancyboxcloseMethod:"zoomOut",FancyboxCloseSpeed:0,CreativeId:"",PassbackCustomCode:"",PassbackCodeSelector:"#probtn_wrapper #probtn_additionalItemsContainer",ModalWindowMode:"",ExtrusionMode:"",AdditionalTargetingParam:"",CheckPageAjaxUpdate:!1,HideButtonAfterAjaxUpdate:!1,SelectAdSet:"",MenuTemplateVariant:"list",UseGeoLocation:!1,WaitForGeoLocation:!1,loadJqueryPepJS:!0,loadFancyboxJS:!0,VideoType:"mp4",DisableButtonMove:!1,waitForIframeButtonLoaded:!0,uaParserPath:"//cdn.probtn.com/libs/ua-parser.js",ButtonImageType:"image",ButtonIframeInitialSize:{W:0,H:0},ClickOnCloseButton:!0,AlwaysShowCloseButton:!0,FullscreenClickLink:"",UtmSourceUseOnlyDomain:!1,UtmCampaign:"",isTestSpeed:!1,HideWithoutInteractionTime:0,cssEaseDuration:300,ControlInIframeFromParent:!1,ParentParams:{width:0,height:0},isAddUtmSource:!1,UtmSource:"",ButtonInitDelay:0,MenuOptions:{FontSize:"1.4em",FontFamily:'"Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif',BackgroundColor:"rgba(49,55,61,.95)",ForegroundColor:"#fff",MenuHeight:"3.4em",MenuRadius:0,ItemWidth:60},MenuClose:{MenuCloseEnabled:!1,MenuCloseImage:"https://cdn.probtn.com/images/close-menu-btn@2x.png",MenuCloseSize:{W:72,H:72},MenuClosePosition:{X:50,Y:80}},MenuItems:[{Name:"Menu1",Text:"External1",ActionURL:"http://yandex.ru",Image:"//admin.probtn.com/eqwid_btn_nonpress.png",Type:"external"}],ScrollZones:[{ZoneHeight:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"",HintText:"",TrackingLink:"",CustomButtonParams:!1,CustomContentURL:"",ButtonContentType:"",ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpacity:1,ButtonDragOpacity:1},{ZoneHeight:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"",HintText:"",TrackingLink:"",CustomButtonParams:!1,ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpacity:1,ButtonDragOpacity:1}],ChangeScrollButtonAtFullSiteHeight:!0,MainButtonClickable:!0,ActiveZones:[{Name:"Area1",ButtonContentType:"iframe",ButtonImageType:"image",Position:{X:.5,Y:.5},ActiveImage:"https://admin.probtn.com/eqwid_btn_nonpress.png",InactiveImage:"https://admin.probtn.com/eqwid_btn_nonpress.png",ActiveSize:{W:64,H:64},InactiveSize:{W:64,H:64},ActionURL:"https://admin.probtn.com/probtn_demo_page.html",ClickCounterLink:"",VisibleOnlyInteraction:!0,InactiveOpacity:.8,ActiveOpacity:1}],hpmd:void 0,isServerCommunicationEnabled:!0,localSettingsPath:"settings.json",useLocalFileSettings:!1,ClickCounterLink:"",isSmartBanner:!1,smartbannerJsPath:"//cdn.probtn.com/libs/jquery.smartbanner.js",smartbannerCssPath:"//cdn.probtn.com/libs/jquery.smartbanner.css",animationDuration:5e3,isAnimation:"",ButtonAnimationDoneImage:"",smartbanner:{iosAppId:null,androidAppId:null,isFixed:!1,isFixedMode:"default",title:null,author:null,price:"FREE",appStoreLanguage:"us",inAppStore:"On the App Store",inGooglePlay:"In Google Play",inAmazonAppStore:"In the Amazon Appstore",inWindowsStore:"In the Windows Store",GooglePlayParams:null,icon:null,iconGloss:null,url:null,button:"VIEW",scale:"auto",speedIn:300,speedOut:400,daysHidden:0,daysReminder:0,force:null,hideOnInstall:!0,layer:!1,iOSUniversalApp:!0,appendToSelector:"body"},dfp:{isDFP:!1,clickUrlEsc:"",cacheBuster:""},showInParent:!1,isHPMD:!1,iframeScaleMinWidth:0,iframeScale:1,iframeScaleMobile:1,iframeScaleTablet:1,iframeScaleDesktop:1,Debug:!1,VideoPoster:"",ButtonOnClick:'console.log("ButtonOnClick"); function start1() { console.log("start1"); try { if (window.probtn_ButtonContentType!==null) { if (window.probtn_ButtonContentType=="video") { if (window.probtn_dropedActiveZone!==null) { if (window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType=="video") { var video = jQuery("#video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name).get(0); video.play(); } } else { var video = jQuery("#video_probtn").get(0); var frame_id = jQuery(".fancybox-iframe").first().attr("id"); probtn_callPlayer("video_probtn", "playVideo"); video.play(); } } } } catch(ex) { } }; start1(); setTimeout(start1 , 1000); setTimeout(start1 , 2000);',ButtonOnTouchEnd:'var moved = window.probtn_pizzabtn_moved; clearInterval(window.probtn_touch_interval); function start2() { console.log("window.probtn_dropedActiveZone", window.probtn_dropedActiveZone, moved); try { if ((window.probtn_dropedActiveZone!==null) && (window.probtn_dropedActiveZone!==undefined) && (moved === false)) { if (window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType=="video") { var videoZone = document.getElementById("video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name); videoZone.play(); moved = true; } } else { console.log("moved", moved); if (moved === false) { try { if (window.probtn_ButtonContentType!==null) { if (window.probtn_ButtonContentType=="video") { moved = true; var video = document.getElementById("video_probtn"); video.play(); probtn_callPlayer("video_probtn", "playVideo");  } } } catch(ex) { console.log(ex); } } } } catch(ex) { console.log(ex); } window.probtn_pizzabtn_moved = false; }; start2();',ButtonOnTouchStart:"window.probtn_touch_start = 0; window.probtn_touch_interval = setInterval(function() { window.probtn_touch_start = window.probtn_touch_start + 1; }, 1);",ButtonType:"fancybox",VideoSize:{X:1920,Y:1080},VideoClickURL:"",ButtonContentType:"iframe",FancyboxType:"iframe",TrackingLink:null,MinimizeWrapperTime:600,OpenExternal:!0,CampaignID:null,NeverClose:!0,MaxHeight:0,MaxWidth:0,domain:"",fancyboxJsPath:"https://cdn.probtn.com/libs/jquery.fancybox.min.js",fancyboxCssPath:"https://cdn.probtn.com/libs/jquery.fancybox.min.css",mainStyleCss:"https://cdn.probtn.com/style.css",jqueryPepPath:"https://cdn.probtn.com/libs/jquery.pep.min.js",buttonAnimationTimeAfterFancybox:0,HideAfterFirstShow:!0,LoadFancyboxCSS:!0,ContentURL:"http://app.ecwid.com/jsp/2557212/m",BaseInsets:{T:4,B:4,L:4,R:4},ButtonEnabled:!1,ButtonVisible:!1,ButtonOpenInsets:{T:32,B:32,L:32,R:32},ButtonPosition:{X:.1,Y:.77},ButtonSize:{W:64,H:64},ButtonDragSize:{W:68,H:68},ButtonOpenSize:{W:64,H:64},ButtonInactiveSize:{W:64,H:64},ButtonOpacity:1,ButtonDragOpacity:1,ButtonOpenOpacity:1,ButtonInactiveOpacity:.5,ButtonImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/gray.png",ButtonDragImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ButtonOpenImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ButtonInactiveImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/drag_gray.png",ClosePosition:{X:.05,Y:.97},CloseSize:{W:32,H:32},CloseActiveSize:{W:32,H:32},CloseOpacity:1,CloseActiveOpacity:1,CloseImage:"https://cdn.probtn.com/images/close-new.png",CloseActiveImage:"https://cdn.probtn.com/images/close-new.png",HintInsets:{T:4,B:4,L:4,R:4},HintLabelInsets:{T:4,B:4,L:4,R:4},HintImageInsets:{T:8,B:8,L:8,R:8},HintText:"",HintFont:{Family:"Arial",Size:18},HintFontColor:{R:1,G:1,B:1,A:1},VendorText:"Powered by Viewst",VendorSite:"https://viewst.com",VendorTextFont:{Family:"Arial",Size:10},VendorTextColor:{R:1,G:1,B:1,A:1},VendorOpacity:.4,VendorColor:{R:0,G:0,B:0,A:1},HintOpacity:.8,HintImage:"https://cdnjs.cloudflare.com/ajax/libs/probtn/1.0.0/images/probtn/hint.png",HintArrowSize:{W:8,H:8},HintArrowOffset:{T:0,B:0,L:0,R:0},HintArrowImageT:"",HintArrowImageB:"",HintArrowImageL:"",HintArrowImageR:"",ContentSize:{W:100,H:100,X:"90%",Y:"90%"},IsManualSize:!0,ContentInsets:{T:-2,B:-2,L:-2,R:-2},ContentWebViewInsets:{T:12,B:12,L:12,R:12},ContentImageInsets:{T:32,B:32,L:32,R:32},ContentOpacity:1,ContentBackOpacity:1,ContentBackColor:{R:0,G:0,B:0,A:1},ContentActivityColor:{R:0,G:0,B:0,A:1},ContentImage:"",ContentArrowSize:{W:14,H:14},ContentArrowOffset:{T:8,B:8,L:9,R:9},ContentArrowImageT:"",ContentArrowImageB:"",ContentArrowImageL:"",ContentArrowImageR:"",DefaultDuration:.1,DefaultDelay:0,OpenDuration:.2,OpenDelay:.5,CloseDuration:.2,CloseDelay:.5,ButtonShowDuration:.2,ButtonShowDelay:0,ButtonHideDuration:.2,ButtonHideDelay:0,ButtonDragDuration:.1,ButtonDragDelay:0,ButtonUndragDuration:.2,ButtonUndragDelay:0,ButtonInactiveDuration:.1,ButtonInactiveDelay:5,ButtonInertiaSpeed:512,ButtonInertiaSpeedMin:32,ButtonInertiaSpeedMax:1024,ButtonInertiaFactor:6,CloseShowDuration:.1,CloseShowDelay:0,CloseHideDuration:.2,CloseHideDelay:0,CloseActiveDuration:.1,CloseActiveDelay:0,CloseUnactiveDuration:.1,CloseUnactiveDelay:0,HintLaunchDuration:3e4,HintLaunchDelay:0,HintShowDuration:.1,HintShowDelay:0,HintHideDuration:.2,HintHideDelay:0,ContentShowDuration:.1,ContentShowDelay:0,ContentHideDuration:.2,ContentHideDelay:0,HideInFrame:!0,ZCustomCss:""},i),o.initFunctions.hintTextStyle={opacity:o.params.HintOpacity,"font-size":o.params.HintFont.Size,"font-family":o.params.HintFont.Family,color:"white",padding:"4px",background:"url('"+o.params.HintImage+"')"},""!==o.params.HintText&&null!==o.params.HintText||(o.initFunctions.hintTextStyle.display="none",o.initFunctions.hintTextStyle.opacity="0.0"),o.closeButton=void 0,o.currentDomain=document.domain.replace("www.",""),""!==o.currentDomain&&null!==o.currentDomain||(o.currentDomain="example.com"),""!==o.params.domain&&null!==o.params.domain&&(o.currentDomain=o.params.domain);window,o.additionalButtonFunctions.getWindowHeight(),o.additionalButtonFunctions.getWindowWidth();o.additionalButtonFunctions.closeAfterOrientationChange=!1;var a="",s=function(){o.statistics.callSuperPixelExt("CheckInFrameAndEnabled1");try{!0===o.params.UseExternalDataAboutUser&&void 0!==document.getElementById("probtn_guidIframe")&&document.getElementById("probtn_guidIframe").contentWindow.postMessage({command:"amber_matching"},o.guidCookieControlPath)}catch(t){console.log(t)}var t=function(){{if(o.statistics.callSuperPixelExt("startAppBanner"),"smartbanner"===o.params.ButtonType||!0===o.params.IsSmartBanner){""!==o.params.ZCustomCss&&null!==o.params.ZCustomCss&&void 0!==o.params.ZCustomCss&&n("head").append('<style type="text/css" id="probtn_ZCustomCss">'+o.params.ZCustomCss+"</style>");var t=function(){o.params.Debug&&console.log(o.params.smartbanner),o.statistics.SendStatObject({Opened:1,Showed:1});try{try{o.params.smartbanner.androidAppId&&""!==o.params.smartbanner.androidAppId||n("meta[name=apple-itunes-app]").length||n("head").append('<meta name="apple-itunes-app" content="app-id='+o.params.smartbanner.iosAppId+'" />'),o.params.smartbanner.androidAppId&&""!==o.params.smartbanner.androidAppId||n("meta[name=google-play-app]").length||n("head").append('<meta name="google-play-app" content="app-id='+o.params.smartbanner.androidAppId+'" />')}catch(t){o.params.Debug&&console.log(t)}"extrusion"===o.params.smartbanner.isFixedMode&&(o.params.smartbanner.appendToSelector="html"),n.smartbanner(o.params.smartbanner),o.params.Debug&&console.log(o.params.smartbanner.isFixed),!0===o.params.smartbanner.isFixed&&n("#smartbanner").css("position","fixed"),n("#smartbanner .sb-info").append('<div style="margin-left: -1px;" class="rating"><span>★</span><span>★</span><span>★</span><span>★</span><span>★</span></div>'),"extrusion"==o.params.smartbanner.isFixedMode&&(o.params.Debug&&console.log("extrusion"),n("#smartbanner").css("position","fixed"),n("body").css("top","78px"),n("body").css("margin","0px"),n("body").css("position","absolute"),n("body").css("width","100%"));try{n("#smartbanner .sb-button").attr("target","_blank")}catch(t){o.params.Debug&&console.log(t)}try{n(document).on("click","#smartbanner .sb-button",function(){o.params.Debug&&console.log("smartbanner click"),o.statistics.SendStatisticsData("ContentShowed",1)})}catch(t){o.params.Debug&&console.log(t)}try{n(document).on("click","#smartbanner a.sb-close",function(){o.params.Debug&&console.log("smartbanner close"),o.statistics.SendStatObject({Closed:1,Hidded:1}),"extrusion"==o.params.smartbanner.isFixedMode&&n("body").css("top","0px"),n("#smartbanner").hide(300)})}catch(t){o.params.Debug&&console.log(t)}}catch(t){o.params.Debug&&console.log(t)}};return"function"==typeof n.smartbanner?(t(),!0):(n("head").append('<link rel="stylesheet" href="'+o.params.smartbannerCssPath+'" type="text/css" />'),n.getScript(o.params.smartbannerJsPath,function(){t()}),!0)}return!1}}();if(function(){if(o.statistics.callSuperPixelExt("CheckAndRunButtonAtParent1"),o.params.showInParent&&window.window!==window.top)try{o.statistics.callSuperPixelExt("CheckAndRunButtonAtParent2_showinparent"),o.params.showInParent=!1,o.params.HideInFrame=!0;window.top.document.getElementsByTagName("HEAD").item(0);console.log("CheckAndRunButtonAtParent loadJS probtn_concat.js"),function(t,e){var n=window.top.document.createElement("script");n.src=t,n.async=!0,n.onreadystatechange=n.onload=function(){var t=n.readyState;e.done||t&&!/loaded|complete/.test(t)||(e.done=!0,e())},window.top.document.getElementsByTagName("head")[0].appendChild(n)}("//cdn.probtn.com/probtn_concat.js",function(){})}catch(t){o.params.Debug&&console.log(t)}}(),o.params.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonSize),o.params.ButtonDragSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonDragSize),!0===o.params.HideInFrame&&window.window!==window.top||t)o.params.Debug&&console.log("do nothing");else if(!0===o.params.ButtonEnabled){!0===o.params.LoadFancyboxCSS&&n("head").append('<link rel="stylesheet" href="'+o.params.fancyboxCssPath+'" type="text/css" />'),""!==o.params.ZCustomCss&&null!==o.params.ZCustomCss&&void 0!==o.params.ZCustomCss&&n("head").append('<style type="text/css" id="probtn_ZCustomCss">'+o.params.ZCustomCss+"</style>"),""!==o.params.BrandingImage&&null!==o.params.BrandingImage&&void 0!==o.params.BrandingImage&&n("head").append('<style type="text/css" id="probtn_BrandingImage">#probtn_wrapper { background: url("'+o.params.BrandingImage+'") no-repeat top center; background-size: 100% !important; }</style>');!0===o.params.LockBody&&n("head").append('<style type="text/css" id="probtn_ZCustomCss_probtn_disable_scroll">.probtn_disable_scroll { overflow: hidden !important; height: 100% !important; width: 100% !important; position: fixed !important; }</style>'),n("head").append('<style type="text/css" id="probtn_ZCustomCss_probtnImg_max">#pizzabtnImg { max-width: inherit !important; max-height: inherit !important;}</style>');var e=o.params.RoundButton.split("_"),i="",a=20;switch(e[0]){case"auto":a=o.params.ButtonSize.W/2,o.params.ButtonSize.W>o.params.ButtonSize.H&&(a=o.params.ButtonSize.H/2);var s="";"fill"===e[1]?(s="iframe"===o.params.ButtonImageType?"#probtn_button { background: "+e[2]+"} #pizzabtnImg { margin-left: 10% !important; margin-top: 10% !important; }":"#probtn_button { background: "+e[2]+"} #pizzabtnImg { width: 80% !important; height: 80% !important; margin-top: 10% !important; }",i='<style type="text/css" id="probtn_ZCustomCss_round_button">#probtn_button { border-radius: '+a+"px; overflow: hidden !important; } "+s+"</style>"):i='<style type="text/css" id="probtn_ZCustomCss_round_button">#pizzabtnImg, #probtn_button { border-radius: '+a+"px; "+s+"}</style>";break;case"manual":a=e[1],i='<style type="text/css" id="probtn_ZCustomCss_round_button">#pizzabtnImg, #probtn_button { border-radius: '+a+"px; }</style>"}switch(n("head").append(i),o.params.ModalWindowMode){case"sidebarRight":n("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { height: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; right: 0px !important; left: initial !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarLeft":n("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { height: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; left: 0px !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarTop":n("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { width: 100% !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { top: 0px !important; left: 0px !important; }.fancybox-close { top: 0px !important; right: 0px !important; }</style>');break;case"sidebarBottom":n("head").append('<style type="text/css">.fancybox-inner, .fancybox-outer, .fancybox-skin, .fancybox-wrap { width: 100% !important; top: initial !important; } .fancybox-wrap  {position: fixed !important;}.fancybox-wrap { bottom: 0px !important; left: 0px !important; }.fancybox-close { bottom: 0px !important; right: 0px !important; }</style>')}n(window).bind("orientationchange",o.additionalButtonFunctions.onOrientationChange),n(window).bind("resize",o.additionalButtonFunctions.onOrientationChange),0!==o.params.ButtonInitDelay&&null!==o.params.ButtonInitDelay&&void 0!==o.params.ButtonInitDelay?setTimeout(r,o.params.ButtonInitDelay):r()}else o.additionalButtonFunctions.callPassback()},r=function(){o.statistics.callSuperPixelExt("BeginButtonProcess");var e=function(t){void 0===t&&(t="duplicateDetected"),o.statistics.callSuperPixelExt(t);try{o.params.isServerCommunicationEnabled&&o.statistics.SendStatisticsData("performedAction",t)}catch(t){o.params.Debug&&console.log(t)}};if(n("#probtn_wrapper").length>0)e("duplicateDetected");else{if(n("#probtn_passback").length>0)return e("duplicateDetected"),void e("duplicateByPassback");var i=!1,a=function(t){try{switch(t.data.command.toLowerCase()){case"probtn_message_to_creative":null!==t.data.object&&void 0!==t.data.object&&o.additionalButtonFunctions.sendMessageToCreative(t.data.object);break;case"probtn_creative_loaded_message":console.log("probtn_creative_loaded_message recieved");try{o.buttonMainParams.hidden&&(o.pizzabtn.show(),o.wrapper.removeClass("hide"),o.additionalButtonFunctions.animation.checkAndRunAnimation(),o.buttonMainParams.hidden=!1)}catch(t){console.log(t)}break;case"probtn_opened_and_showed":o.statistics.SendStatisticsData("ContentShowed",1);break;case"probtn_change_content_url":""!==t.data.value&&void 0!==t.data.value&&null!==t.data.value&&(o.params.ContentURL=t.data.value);break;case"probtn_performed_action":var e="buy";""!==t.data.value&&void 0!==t.data.value&&null!==t.data.value&&(e=t.data.value.toLowerCase()),o.statistics.SendStatisticsData("performedAction",e);break;case"probtn_start_content_showed_timer":i||(o.contentTime.startTimer(),i=!0);break;case"probtn_stop_content_showed_timer":i=!1,o.contentTime.endTimer();break;case"probtn_close":window.proBtn.close();break;case"probtn_hide":window.proBtn.hide();break;case"probtn_hide_content":window.proBtn.hideContent();break;case"button_image_iframe_disable_overlay":n("#pizzabtnIframeOverlay").hide();break;case"probtn_restore_button_size":o.pizzabtn.css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,left:t.data.position.left,top:t.data.position.top}),n("#pizzabtnImg").css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n(o.pizzabtn).css({opacity:o.params.ButtonOpacity});break;case"button_image_iframe_done":n("#pizzabtnIframeOverlay").show();break;case"button_image_iframe_size":n("#pizzabtnIframeOverlay").css({width:t.data.size.w,height:t.data.size.h}),void 0!==t.data.size.top&&n("#pizzabtnIframeOverlay").css({top:t.data.size.top});break;case"probtn_video_part_event":o.statistics.SendStatObject({VideoPart:t.data.videoPart,VideoFullDuration:t.data.videoFullDuration})}}catch(t){}try{o.params.ParentParams.width=t.data.width,o.params.ParentParams.height=t.data.height,o.params.Debug&&console.log(o.params.ParentParams)}catch(t){o.params.Debug&&console.log(t)}};window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),o.HpmdFunctions.probtnHpmdTrack(2),n("head").append('<link rel="stylesheet" href="'+o.params.mainStyleCss+'" type="text/css" />'),"iOS"===o.userData.os&&(n("body").addClass("btn_os_ios"),!0===o.userData.isiPad?n("body").addClass("btn_device_ipad"):n("body").addClass("btn_device_iphone")),o.userData.mobile?n("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch; overflow: scroll !important; } </style>"):n("head").append("<style type='text/css'> .fancybox-inner { -webkit-overflow-scrolling: touch; overflow: hidden !important; } </style>");var s=n("<div/>",{id:"probtn_wrapper"});switch(o.params.ExtrusionMode){case"insertBlock":n("head").append('<style type="text/css">#probtn_wrapper { width: 100% !important; display: inline-block !important; position: relative !important; height:'+o.params.ButtonSize.H+"px !important; } #probtn_button { top: 0px !important; left: 0px !important; width:100% !important; }</style>"),s.prependTo(o.params.ExtrusionPath);break;case"fixedTop":n("head").append('<style type="text/css">#probtn_wrapper { width: 100% !important; display: inline-block !important; position: fixed !important;  } #probtn_button { top: 0px !important; left: 0px !important; width:100% !important; }</style>'),s.prependTo(o.params.ButtonInjectPath);break;default:s.prependTo(o.params.ButtonInjectPath)}if(o.wrapper=s,o.additionalItemsContainer=n("<div/>",{id:"probtn_additionalItemsContainer"}).prependTo(o.wrapper),o.closeButton=o.initFunctions.initCloseButton(),o.closeButton.attr("src",o.params.CloseImage),!1===o.params.NeverClose&&n("head").append(n("<style/>",{id:"probtn_style",type:"text/css",html:["#probtn_button.pizzabtn_normal { display: block; clear: both; position: device-fixed !important; }",".close_pro_button_normal{ width:"+o.params.CloseSize.W+"px; height:"+o.params.CloseSize.H+"px; opacity:"+o.params.CloseOpacity+"; display: block; clear: both; }"].join("\n")})),"fullscreen_fancybox"!=o.params.ButtonType&&"fullscreen"!=o.params.ButtonType||(o.params.ButtonVisible=!1),o.statistics.callSuperPixelExt("BeginButtonProcess2"),o.initFunctions.initStartScrollParams(),o.pizzabtn=o.initFunctions.initPizzaButton(),window.probtn_ButtonContentType=o.params.ButtonContentType,o.initFunctions.initScrollChange(),o.initFunctions.initActiveZones(),"fullscreen"!==o.params.ButtonType){var r=null;try{null!==(r=t.fancybox)&&void 0!==r&&(r=t.fancybox.open)}catch(t){}"function"==typeof r||!1===o.params.loadFancyboxJS?p():n.getScript(o.params.fancyboxJsPath,p)}else o.initFunctions.fullscreenInitAndShow();if(o.initFunctions.initScrollChange(!0),!0!==o.params.waitIframeLoadedMsg&&o.additionalButtonFunctions.animation.checkAndRunAnimation(),!0===o.params.CheckPageAjaxUpdate){window;var c=window.location.pathname;setInterval(function(){!0===o.params.HideButtonAfterAjaxUpdate&&window.location.pathname!==c&&o.additionalButtonFunctions.hideAll()},50),window.onhashchange=function(){!0===o.params.HideButtonAfterAjaxUpdate&&o.additionalButtonFunctions.hideAll()}}}function p(){var e,i;e=t,(i=t.fancybox).transitions.dropIn=function(){var t=i._getPosition(!0);t.top=parseInt(t.top,10)-200+"px",i.wrap.css(t).show().animate({top:"+=200px"},{duration:i.current.openSpeed,complete:i._afterZoomIn})},i.transitions.perspectiveOut=function(){var t=o.additionalButtonFunctions.getWindowHeight();o.additionalButtonFunctions.getWindowWidth()>o.additionalButtonFunctions.getWindowHeight()&&(t=o.additionalButtonFunctions.getWindowWidth()),e("body").css("perspective",t+"px"),i.wrap.removeClass("fancybox-opened"),e({deg:0}).animate({deg:350},{duration:i.current.closeSpeed,step:function(t){var n="rotateX("+t/50+"deg) scaleX("+(1-t/720)+")";e(".fancybox-wrap").css("transform",n),e(".fancybox-skin").css("transform",n)},complete:function(t){e("body").css("perspective","inherit"),i._afterZoomOut(t)}}),i.wrap.removeClass("fancybox-opened").animate({top:"-300px"},{duration:i.current.closeSpeed})};try{"function"==typeof n.pep.toggleAll||!1===o.params.loadJqueryPepJS?l():n.getScript(o.params.jqueryPepPath,l)}catch(t){n.getScript(o.params.jqueryPepPath,l)}}function l(){o.statistics.callSuperPixelExt("AllLoadedButtonProcess"),o.statistics.SendStatisticsData(),o.statistics.SendBrowserStatsInfo(),o.params.ButtonEnabled&&o.params.ButtonVisible&&(o.statistics.callSuperPixelExt("ButtonEnabled"),o.statistics.createClickCounterImage(o.params.OnShowPixel),o.statistics.checkAdBlock(),o.pizzabtn.show(),o.closeButton.center()),"fullscreen_fancybox"===o.params.ButtonType&&(o.statistics.SendStatisticsData("Showed",1),o.onButtonTap()),"fullscreen"===o.params.ButtonType&&o.initFunctions.fullscreenInitAndShow(),"fullscreen_and_button"===o.params.ButtonType&&o.initFunctions.fullscreenInitAndShow(),o.params.ButtonVisible&&o.statistics.SendStatisticsData("Showed",1),o.pizzabtn.hideHintDelay(),o.pizzabtn.showHint(),o.overlaped=!1,window.probtn_pizzabtn_moved=!1,o.pizzabtn.moved=!1;var e=o.params.cssEaseDuration;!0===o.params.ControlInIframeFromParent&&(e=0);var i="parent";"corner"===o.params.CloseAreaType&&(i="");var a=!1;o.pizzabtn.pep({useCSSTranslation:!1,constrainTo:i,cssEaseString:"cubic-bezier(0, .50, .50, 1)",cssEaseDuration:e,allowDragEventPropagation:!1,shouldPreventDefault:!0,velocityMultiplier:1,startThreshold:[1,1],droppable:".probtn_active_zone",elementsWithInteraction:"#probtn_closeButton",initiate:o.additionalButtonFunctions.changeBodySize,start:function(){o.once_moved=!0,window.probtn_pizzabtn_moved=!1;try{o.pizzabtn.stop(!0,!0),void 0!==o.lookOutTimeout&&(o.pizzabtn.stop(!0,!0),clearTimeout(o.lookOutTimeout)),void 0!==o.lookOutTimeout2&&(o.pizzabtn.stop(!0,!0),clearTimeout(o.lookOutTimeout2))}catch(t){console.log(t)}o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start"}),o.interactionFunctions.wasInteraction=!0,window.probtn_button_tap=!1,!1===o.params.MainButtonClickable&&n("#probtn_menu").length>0&&o.initFunctions.initRemoveMenu(),window.probtn_dropedActiveZone=null,o.initFunctions.initScrollChange(!0),o.additionalButtonFunctions.animation.animationRuning&&o.additionalButtonFunctions.animation.doneAnimation(),n.each(o.initializedActiveZones,function(t,e){e.currentActiveZone.VisibleOnlyInteraction&&e.show()}),o.additionalButtonFunctions.MaximizeWrapper(function(){if(!1===o.pizzabtn.moved&&o.pizzabtn.dragAnimate(),o.pizzabtn.moved=!0,o.once_moved=!0,o.pizzabtn.hintTextActive&&o.pizzabtn.hideHint(),!1===o.params.NeverClose)try{o.closeButton.show()}catch(t){}o.statistics.SendStatisticsData("Moved",1),o.contentTime.startTimer("MovedDuration"),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_start_move"})})},drag:function(e,i){if(window.probtn_pizzabtn_moved=!0,o.initFunctions.initScrollChange(!0),!0===o.params.DisableButtonMove||a)return window.probtn_pizzabtn_moved=!1,!1;o.additionalButtonFunctions.MaximizeWrapper(function(){var t=n(".fancybox-wrap"),e=o.pizzabtn[0].getBoundingClientRect(),i=o.closeButton[0].getBoundingClientRect();if(n(".fancybox-inner").length>0){var a=n(".fancybox-inner iframe").width(),s=n(".fancybox-inner iframe").height(),r=t.position().top,c=t.position().left;o.additionalButtonFunctions.sendMessageToModal({message:"probtn_drag_event",rect:{left:e.left,right:e.right,top:e.top,bottom:e.bottom},modal:{width:a,height:s,top:r,left:c}})}if(e.top,e.height,o.additionalButtonFunctions.getWindowHeight(),""===o.params.CloseAreaType||"default"===o.params.CloseAreaType){var p=!(e.right<i.left||e.left>i.right||e.bottom<i.top||e.top>i.bottom);if(p&&0!==i.width)o.overlaped||(o.closeButton.overlayActive(),o.overlaped=!0);else if(o.overlaped)try{o.closeButton.overlayUnactive(),o.overlaped=!1}catch(t){o.params.Debug&&console.log(t)}}});try{if(this.activeDropRegions.length>0){var s=t(this.activeDropRegions[this.activeDropRegions.length-1]).attr("rel"),r=o.initializedActiveZones[s];null!==r&&void 0!==r&&(r.animateActive(),window.probtn_dropedActiveZone=r)}else n.each(o.initializedActiveZones,function(t,e){"iframe"!==e.currentActiveZone.ButtonImageType&&e.attr("src",e.currentActiveZone.InactiveImage),null!==e.currentActiveZone.ButtonIframeInitialSize&&void 0!==e.currentActiveZone.ButtonIframeInitialSize||(e.currentActiveZone.ButtonIframeInitialSize={W:0,H:0}),o.additionalButtonFunctions.checkExistInitIframeSIze(e)?e.css({opacity:e.currentActiveZone.InactiveOpacity}):(e.currentActiveZone.InactiveSize=o.additionalButtonFunctions.convertPercentButtonSize(e.currentActiveZone.InactiveSize),e.css({width:e.currentActiveZone.InactiveSize.W,height:e.currentActiveZone.InactiveSize.H,opacity:e.currentActiveZone.InactiveOpacity}))})}catch(t){console.log(t)}if("corner"===o.params.CloseAreaType&&!a){var c=document.documentElement.clientWidth,p=document.documentElement.clientHeight,l=parseInt(o.pizzabtn.css("left")),d=parseInt(o.pizzabtn.css("top"));l+=o.params.ButtonSize.W/2,d+=o.params.ButtonSize.H/2;var u=!1;(l>c||l<0||d>p||d<0)&&(u=!0),u&&(o.statistics.SendStatObject({Closed:1}),o.additionalButtonFunctions.hideAll(),a=!0,n.pep.toggleAll(!1))}},stop:function(){o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop"}),o.additionalButtonFunctions.sendMessageToModal({message:"probtn_stop_event"}),o.contentTime.endTimer("MovedDuration");var e=null;if(this.activeDropRegions.length>0)try{var i=t(this.activeDropRegions[this.activeDropRegions.length-1]).attr("rel");o.params.Debug&&console.log(i),e=o.initializedActiveZones[i],window.probtn_dropedActiveZone=e,null!==e.requestClickCounterLink&&void 0!==e.requestClickCounterLink&&e.requestClickCounterLink(),"video"!==e.currentActiveZone.ButtonContentType?o.onButtonTap(e.currentActiveZone.ActionURL,i,e.currentActiveZone.ButtonContentType):(o.params.Debug&&console.log("ProBtnControl.userData.isiPad - "+o.userData.isiPad),"iOS"!==o.userData.os||o.userData.isiPad,o.onButtonTap(e.currentActiveZone.ActionURL,i,e.currentActiveZone.ButtonContentType))}catch(t){o.params.Debug&&console.log(t),window.probtn_dropedActiveZone=null}if(n.each(o.initializedActiveZones,function(t,e){e.currentActiveZone.VisibleOnlyInteraction&&("iframe"!==e.currentActiveZone.ButtonImageType&&e.attr("src",e.currentActiveZone.InactiveImage),null!==e.currentActiveZone.ButtonIframeInitialSize&&void 0!==e.currentActiveZone.ButtonIframeInitialSize||(e.currentActiveZone.ButtonIframeInitialSize={W:0,H:0}),o.additionalButtonFunctions.checkExistInitIframeSIze(e)?e.css({opacity:e.currentActiveZone.InactiveOpacity}):e.css({width:e.currentActiveZone.InactiveSize.W,height:e.currentActiveZone.InactiveSize.H,opacity:e.currentActiveZone.InactiveOpacity}),e.hide())}),!0===o.params.MainButtonClickable&&n("#probtn_menu").length>0){o.additionalButtonFunctions.MaximizeWrapper(),o.pizzabtn.stop(!0,!1);var a=0,s=o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height(),r=o.params.MenuTemplateVariant.split("_");"circularCenter"===r[0]&&(s=o.additionalButtonFunctions.getWindowHeight()/2-o.pizzabtn.height()/2,a=o.additionalButtonFunctions.getWindowWidth()/2-o.pizzabtn.width()/2),o.pizzabtn.css({left:a,top:s})}if(o.pizzabtn.moved){n("#probtn_menu").length>0?!0===o.params.MainButtonClickable&&o.additionalButtonFunctions.MaximizeWrapper():o.additionalButtonFunctions.MinimizeWrapper();var c=o.pizzabtn.moved=!1;if(null!==window.probtn_dropedActiveZone&&void 0!==window.probtn_dropedActiveZone&&!1===c&&"video"==window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType){var p=t("#video_probtn_"+window.probtn_dropedActiveZone.currentActiveZone.Name).get(0);p.pause()}o.overlaped?(o.statistics.SendStatObject({Closed:1}),o.additionalButtonFunctions.hideAll()):o.pizzabtn.undragAnimate()}else null!==e&&void 0!==e||("video"!==o.params.ButtonContentType?o.additionalButtonFunctions.MaximizeWrapper(function(){o.onButtonTap()}):("iOS"!==o.userData.os||o.userData.isiPad,o.additionalButtonFunctions.MaximizeWrapper(function(){o.onButtonTap()})));""!==o.params.CloseAreaType&&"default"!==o.params.CloseAreaType||o.closeButton.hide(),o.pizzabtn.moved=!1,o.overlaped=!1,!0===o.params.MainButtonClickable&&n("#probtn_menu").length>0&&o.additionalButtonFunctions.MaximizeWrapper()}}),o.initFunctions.initWebAudio()}};o.cookieFunctions.getDeviceCID(function(t){console.log("guid",t),o.DeviceCID=t,o.initFunctions.initExternalData.initFirstAvailable(function(){o.statistics.callSuperPixelExt("initFirstAvailable_done"),o.geolocation.checkAndRunGeolocation(function(){!function(t){o.params.Debug&&console.log("getSettingsAndLaunchButton");var e=1;"iOS"!==o.userData.os&&"Mac OS"!==o.userData.os&&"Mac OS X"!==o.userData.os||(e=window.devicePixelRatio);function r(t){o.statistics.callSuperPixelExt("parseResultData"),o.params.Debug&&console.log(t);try{try{t.result.HintText=HintText}catch(t){}var e=function(t){if(100===t.code)t.MSMediaKeyNeededEvent.location;else{o.params.Debug&&console.log(o.params),""==t.result.CloseImage&&(t.result.CloseImage=o.params.CloseImage);var e=n.extend(!0,{},o.params,t.result);o.params=e;try{o.params.PassbackCustomCode=t.PassbackCustomCode,o.params.PassbackCodeSelector=t.PassbackCodeSelector,o.params.OnShowPixel=t.OnShowPixel,o.params.OnNoShowPixel=t.OnNoShowPixel,""!==o.params.PassbackCodeSelector&&void 0!==o.params.PassbackCodeSelector&&null!==o.params.PassbackCodeSelector||(o.params.PassbackCodeSelector="#probtn_passback")}catch(t){}o.params.Debug&&console.log("after server",o.params),o.params=n.extend(!0,o.params,i),o.params.Debug&&console.log("after options",o.params),o.params.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonSize),o.params.Debug&&console.log(o.params.ButtonSize),o.params.ButtonDragSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonDragSize),o.params.Debug&&console.log(o.params.ButtonDragSize);try{if(n("#probtn_additional_params").length>0){var a=n("#probtn_additional_params").text();a=JSON.parse(a),n.extend(!0,o.params,o.params,a)}}catch(t){o.params.Debug&&console.log(t)}!function(t){try{for(var e in t)if(t.hasOwnProperty(e)&&"string"==typeof t[e])try{if("PassbackCustomCode"!==e&&"JsImpressionCode"!==e&&"ContentURL"!==e){t[e];t[e]=t[e].split("<style>").join("").split("</style>").join("").split("<script>").join("").split("<\/script>").join("")}}catch(t){o.params.Debug&&console.log(t)}}catch(t){o.params.Debug&&console.log(t)}}(o.params),o.additionalButtonFunctions.checkProtocolLinks(o.params),"#probtnDebug"==window.location.hash&&(o.params.ButtonVisible=!0,o.params.ButtonEnabled=!0,o.params.Debug=!0),o.initFunctions.hintTextStyle={opacity:o.params.HintOpacity,"font-size":o.params.HintFont.Size,"font-family":o.params.HintFont.Family,color:"rgb("+100*o.params.HintFontColor.R+"%, "+100*o.params.HintFontColor.G+"%, "+100*o.params.HintFontColor.B+"%)","padding-left":o.params.HintLabelInsets.L,"padding-top":o.params.HintLabelInsets.T,"padding-right":o.params.HintLabelInsets.R,"padding-bottom":o.params.HintLabelInsets.B,background:"url('"+o.params.HintImage+"')"},""!==o.params.HintText&&null!==o.params.HintText||(o.initFunctions.hintTextStyle.display="none",o.initFunctions.hintTextStyle.opacity="0.0"),"js"==o.params.ButtonType&&n.getScript("https://cdn.probtn.com/libs/postscribe/htmlParser.js",function(){n.getScript("https://cdn.probtn.com/libs/postscribe/postscribe.js",function(){o.loadedStatus.postscribe=!0})})}};o.params.UseGeoLocation,e(t)}catch(t){o.params.Debug&&console.log(t)}}o.userData.retina=e,o.params.isServerCommunicationEnabled||o.params.useLocalFileSettings?(o.statistics.callSuperPixel(),o.statistics.callSuperPixelExt("getSettingsAndLaunchButton"),o.additionalButtonFunctions.testSpeed(function(t){o.userData.kbs=t,o.params.Debug;try{if(n("#probtn_additional_params").length>0){var e=n("#probtn_additional_params").text();e=JSON.parse(e),n.extend(!0,o.params,o.params,e),""!==o.params.domain&&(o.currentDomain=o.params.domain)}}catch(t){o.params.Debug&&console.log(t)}o.params.useLocalFileSettings&&(a=o.params.localSettingsPath);!function(){if(o.params.useLocalFileSettings)a=o.params.localSettingsPath;else{document.domain.replace("www.","");var t="";!0===o.params.UseExternalDataAboutUser&&(t="Details="+JSON.stringify(o.params.ExternalData)+"&");var e="&";try{void 0!==navigator.connection&&null!==navigator.connection&&(void 0!==navigator.connection.effectiveType&&null!==navigator.connection.effectiveType&&(e="&NetworkType="+navigator.connection.effectiveType+"&"),0===o.userData.kbs&&(o.userData.kbs=1024*navigator.connection.downlink))}catch(t){e="&",console.log(t)}a=""!==o.params.CreativeId&&null!==o.params.CreativeId&&void 0!==o.params.CreativeId?o.statistics.createStatisticsLink("getClientSettings","&SelectAdSet="+o.params.SelectAdSet+"&ForceCampaign="+o.params.CreativeId+e+t):o.statistics.createStatisticsLink("getClientSettings","&SelectAdSet="+o.params.SelectAdSet+e+t)}o.statistics.callSuperPixelExt("getClientSettings");try{n.getJSON(a,r).done(function(){o.statistics.callSuperPixelExt("getClientSettings_loaded"),o.params.Debug&&console.log("done settings load")}).fail(function(t,e,n){o.params.Debug&&console.log(n),o.params.Debug&&console.log(e)}).always(function(){o.params.RequireLocation?(o.statistics.SendStatisticsData("performedAction","checkLocation"),o.geolocation.checkAndRunGeolocation(function(){o.params.RequireLocation?o.geolocation.checkPlaces(function(t,e){if(!t)return o.statistics.SendStatisticsData("performedAction","notNearPlaces"),o.additionalButtonFunctions.callPassback(),!1;o.statistics.SendStatisticsData("performedAction","isNearPlace"),s()}):s()})):s()})}catch(t){console.log(t),n.getJSON(a,function(t){r(t),s()})}}()})):o.params.Debug&&console.log("Dont load settings")}()})})})}else;}()},initExternalData:{initFirstAvailable:function(t){if(o.statistics.callSuperPixelExt("initFirstAvailable1"),!0===o.params.UseExternalDataAboutUser)if(o.params.ExternalDataSources.length>0){o.params.ExternalDataSources.sort(function(t,e){return t.Priority-e.Priority}),window.addEventListener("message",e,!1);var e=function(e){var n=e.origin||e.originalEvent.origin;n=o.additionalButtonFunctions.extractDomain(n),o.additionalButtonFunctions.extractDomain(o.params.ExternalDataSources[0].Source)===n&&(o.params.ExternalData={},o.params.ExternalData=e.data,t())};o.initFunctions.initExternalData.createExternalDataIframe(o.params.ExternalDataSources[0])}else t();else o.statistics.callSuperPixelExt("initFirstAvailable2"),t()},initSupplementing:function(){},createExternalDataIframe:function(t){n("<iframe/>",{id:t.Name,scrolling:"no",seamless:"seamless",src:t.Source,css:{width:"0px",height:"0px",position:"absolute",top:"-10000px",left:"-10000px"}}).appendTo("body")}},circularMenuPositionUpdate:function(){var t=n("#probtn_menu_ul li");var e=0,i=0;o.params.MenuOptions.MenuRadius>0&&(e=o.params.MenuOptions.MenuRadius),o.params.MenuOptions.ItemWidth>0&&(i=o.params.MenuOptions.ItemWidth);var a=o.additionalButtonFunctions.getWindowHeight()/2-o.pizzabtn.height()/2,s=o.additionalButtonFunctions.getWindowWidth()/2-o.pizzabtn.width()/2;t.each(function(t,r){try{var c=360/o.params.MenuItems.length*(Math.PI/180),p={position:"absolute",top:a+o.pizzabtn.height()/2-i/2-1.1*e*Math.cos(c*t),left:s+o.pizzabtn.width()/2-i/2+1.1*e*Math.sin(c*t)};n(r).css(p)}catch(t){console.log(t)}})},initFloatingMenu:function(){if(console.log("initFloatingMenu"),o.params.ClickCounterLink&&""!==o.params.ClickCounterLink)try{o.statistics.createClickCounterImage(o.params.ClickCounterLink)}catch(t){o.params.Debug&&console.log(t)}o.statistics.SendStatObject({MenuOpened:1}),o.initFunctions.initRemoveMenu(),o.hintText.makeInvisible(),o.pizzabtn.stop(!0,!0),o.additionalButtonFunctions.MaximizeWrapper(function(){o.wrapper.css("background","rgba(0, 0, 0, 0.5)");var t,e=o.params.MenuClose;null!==e&&void 0!==e&&(console.log("ProBtnControl.params.MenuOptions",o.params.MenuOptions),e.MenuCloseEnabled&&((t=n("<img/>",{id:"probtn_menu_close_button",src:e.MenuCloseImage,scrolling:"no",css:{position:"fixed",width:e.MenuCloseSize.W,height:e.MenuCloseSize.H,border:"0px",overflow:"hidden",cursor:"pointer"}}).prependTo(o.additionalItemsContainer)).setPosition=function(){var t=o.params.MenuClose.MenuClosePosition.X/100,e=o.params.MenuClose.MenuClosePosition.Y/100,i=this.height();0===this.height()&&(i=o.params.MenuClose.MenuCloseSize.H);var a=this.width();0===this.width()&&(a=o.params.MenuClose.MenuCloseSize.W),this.css("top",o.additionalButtonFunctions.getWindowHeight()*e-i/2+"px"),this.css("left",o.additionalButtonFunctions.getWindowWidth()*t-a/2+n(window).scrollLeft()+"px")},t.on("click",function(){o.initFunctions.initRemoveMenu()}),t.setPosition(),o.menuClose=t)),o.pizzabtn.stop(!0,!0),setTimeout(function(){var t=0,e=o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height(),i=o.params.MenuTemplateVariant.split("_");console.log("ProBtnControl.params.MenuTemplateVariant",o.params.MenuTemplateVariant),"circularCenter"===i[0]&&(e=o.additionalButtonFunctions.getWindowHeight()/2-o.pizzabtn.height()/2,t=o.additionalButtonFunctions.getWindowWidth()/2-o.pizzabtn.width()/2),o.pizzabtn.animate({left:t,top:e},500,function(){setTimeout(function(){var a=n("<div/>",{id:"probtn_menu",style:"opacity: 0.1"}).prependTo(o.wrapper),s=n("<ul/>",{id:"probtn_menu_ul"}).prependTo(a),r=0,c=0;if(o.params.MenuOptions.MenuRadius>0&&(r=o.params.MenuOptions.MenuRadius),o.params.MenuOptions.ItemWidth>0&&(c=o.params.MenuOptions.ItemWidth),i[0].toLowerCase()!=="radialcorner".toLowerCase()&&i[0].toLowerCase()!=="circularcenter".toLowerCase()||n("head").append('<style type="text/css">#probtn_menu_ul li {     background:transparent!important; padding:0px!important; margin:0px!important; width:auto!important; display:inline-block!important; }#probtn_menu_ul { position: absolute; } #probtn_menu_ul img { height: '+c+"px !important; width: "+c+"px !important;     max-width: inherit !important; } #probtn_menu_ul {padding-left: 0px; }#probtn_menu_ul li a span { display: none; } </style>"),o.params.MenuItems){var p=1,l="style='font-size:"+o.params.MenuOptions.FontSize+"; font-family: "+o.params.MenuOptions.FontFamily+"; color: "+o.params.MenuOptions.ForegroundColor+" '";n.each(o.params.MenuItems,function(a,d){var u="";u=void 0!==d.Image&&null!==d.Image&&""!==d.Image?"<img style='height: 50px; margin-right: 10px;' src='"+d.Image+"'/>":"<div class='probtn_image_placeholder' style='display: inline-block; width: 40px; height:40px; margin-right: 10px;'>&nbsp;</div>";var m=d.ActionURL;"video"===d.Type&&(m="#video_item_"+d.Name);var h="return false;";function f(t){return t*(Math.PI/180)}"video"===d.Type&&o.userData.mobile&&(h=o.params.ButtonOnClick+" return false"),s.append("<li class='menu_item_elem_count"+p+"' style='opacity: 0;'><a "+l+" class='probtn_menu_link "+d.Type+"' rel='"+d.Name+"' rev='"+d.Type+"' target='_blank' onclick='"+h+"' href='"+m+"'><table><tr><td>"+u+"</td><td><span "+l+"><span>"+d.Text+"</span></a></span></td></tr></table></a></li>"),r<1&&(r=o.pizzabtn.height());var g=0,b=0,v=0,y={};switch(i[0]){case"radialcorner":2===o.params.MenuItems.length?(g=f(90/(o.params.MenuItems.length+1)),b=-1.1*r*Math.cos(g*(p+0)),v=1.1*r*Math.sin(g*(p+0))):(g=f(90/(o.params.MenuItems.length-1)),console.log("anglePart",g),b=-1.1*r*Math.cos(g*(p-1)),v=1.1*r*Math.sin(g*(p-1))),y={position:"absolute",top:b,left:v},console.log("itemStyle",y),n(".menu_item_elem_count"+p).css(y);break;case"circularCenter":g=f(360/o.params.MenuItems.length),y={position:"absolute",top:b=e+o.pizzabtn.height()/2-c/2-1.1*r*Math.cos(g*p),left:v=t+o.pizzabtn.width()/2-c/2+1.1*r*Math.sin(g*p)},n(".menu_item_elem_count"+p).css(y);break;default:n("#probtn_menu li:last").css({"margin-left":-n("#probtn_menu li:last").width()})}p++,"video"==d.Type&&o.videoFunctions.createVideoItem(d.Name,d.ActionURL)})}n(document).on("click",".probtn_menu_link",function(t){switch(n(this).attr("rev")){case"external":return window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,window.probtn_ButtonContentType="external",o.statistics.sendAreaActivatedStats(n(this).attr("rel")),window.open(n(this).attr("href")),t.preventDefault(),!1;case"iframe":window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,window.probtn_ButtonContentType="iframe",o.onButtonTap(n(this).attr("href"),n(this).attr("rel"),"iframe");break;case"closeMenu":return o.initFunctions.initRemoveMenu(),!1;case"video":return window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone={},window.probtn_dropedActiveZone.currentActiveZone.ButtonContentType="video",window.probtn_dropedActiveZone.currentActiveZone.Name=n(this).attr("rel"),window.probtn_ButtonContentType="video",o.onButtonTap(n(this).attr("href"),n(this).attr("rel"),"video"),!1;default:return o.statistics.sendAreaActivatedStats(n(this).attr("rel")),window.open(n(this).attr("href")),t.preventDefault(),!1}});var d=o.pizzabtn.position().top-s.height();"radialcorner"==i[0]&&(d=o.pizzabtn.position().top,d+=r/2),"circularCenter"==i[0]&&(d=0),a.css("top",d),a.css("left",0),a.css("display","block"),a.animate({left:1,opacity:1},500,function(){});var u=300;n.each(n("#probtn_menu li"),function(t,e){n(e).animate({"margin-left":0,opacity:1},u,function(){}),u+=300})},300)})},1)})},initRemoveMenu:function(){o.wrapper.css("background","rgba(0, 0, 0, 0)"),n("#probtn_menu").remove(),n("#probtn_menu_close_button").remove()},hintTextStyle:{},fullscreenInitAndShow:function(){var t=null;if(!0===o.params.HideAfterFirstShow?t=o.cookieFunctions.readCookie("probtnCloseFlag"):o.cookieFunctions.eraseCookie("probtnCloseFlag"),null===t){var e="return false;",i="";""!==o.params.FullscreenClickLink&&void 0!==o.params.FullscreenClickLink&&null!==o.params.FullscreenClickLink&&(e=o.additionalButtonFunctions.getContentUrlWithUtm(o.params.FullscreenClickLink),i='<div id="probtn_iframe_overlay" style="  z-index: 200000; display: inline-block; width: 100%; height: 100%; margin-top: -100%;"></div>'),"fullscreen_and_button"!==o.params.ButtonType&&n("body").append('<div class="fancybox-overlay fancybox-overlay-fixed" style="width: auto; height: auto; display: block;"></div>'),n("body").append('<div id="fullscreen_probtn"><div class="fancybox-wrap fancybox-mobile fancybox-type-iframe fancybox-opened" tabindex="-1" style="margin: 0 auto; height: auto; position: fixed; opacity: 1; overflow: visible;"><div class="fancybox-skin" style="padding: 0px; width: auto; height: auto;"><div class="fancybox-outer"><div class="fancybox-inner" style="overflow: scroll; "><iframe id="probtn_fullscreen_iframe" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto" src="'+o.additionalButtonFunctions.getContentUrlWithUtm(o.params.ContentURL)+'" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>'+i+'</div></div><a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a></div></div></div>'),"fullscreen_and_button"!==o.params.ButtonType?o.statistics.SendStatObject({ContentShowed:1,Showed:1}):o.statistics.SendStatObject({ContentShowed:1}),o.interactionFunctions.initInteractionTimer(),n("body").on("click","#probtn_iframe_overlay",function(){o.statistics.SendStatObject({Clicked:1}),window.open(e)}),o.contentTime.startTimer(),o.HpmdFunctions.expandHpmdTrack(),o.additionalButtonFunctions.onOrientationChange(null),n("body").on("click","#fullscreen_probtn .fancybox-close, .fancybox-overlay",function(){n("#fullscreen_probtn").hide(),n(".fancybox-overlay").hide(),o.contentTime.endTimer(),o.HpmdFunctions.closeHpmdTrack(),o.additionalButtonFunctions.hideAll()}),!0===o.params.HideAfterFirstShow&&o.cookieFunctions.createCookie("probtnCloseFlag",!0,60)}},initActiveZones:function(){if((null!==o.params.ActiveZones||o.params.ActiveZones.length>0)&&"button_and_active_zones"==o.params.ButtonType)for(var t=function(){var t=n("body"),e=this.currentActiveZone.Position.X,i=this.currentActiveZone.Position.Y,a=(o.additionalButtonFunctions.getWindowHeight()-this.height())*i,s=(t.innerWidth()-this.width())*e+n(window).scrollLeft();a<=0&&(a=0),a+this.height()>o.additionalButtonFunctions.getWindowHeight()&&(a=o.additionalButtonFunctions.getWindowHeight()-this.height()),s<=0&&(s=0),s+this.width()>t.innerWidth()&&(s=t.innerWidth()-this.width()),this.css("top",a+"px"),this.css("left",s+"px")},e=function(){this.setTransitionDuration(o.params.CloseActiveDuration),this.isActive=!0,"iframe"!==this.currentActiveZone.ButtonImageType&&this.attr("src",this.currentActiveZone.ActiveImage);o.additionalButtonFunctions.checkExistInitIframeSIze(this)?this.css({opacity:this.currentActiveZone.ActiveOpacity}):(this.currentActiveZone.ActiveSize=o.additionalButtonFunctions.convertPercentButtonSize(this.currentActiveZone.ActiveSize),this.css({opacity:this.currentActiveZone.ActiveOpacity,width:this.currentActiveZone.ActiveSize.W,height:this.currentActiveZone.ActiveSize.H}))},i=function(t){var e=t+"s";this.css({"transition-duration":e,"-webkit-transition-duration":e,"-moz-transition-duration":e,"-o-transition-duration":e})},a=function(){this.setTransitionDuration(o.params.CloseActiveDuration);var t=this;o.additionalButtonFunctions.checkExistInitIframeSIze(t)?t.css({opacity:t.currentActiveZone.InactiveOpacity}):(this.currentActiveZone.InactiveSize=o.additionalButtonFunctions.convertPercentButtonSize(this.currentActiveZone.InactiveSize),t.css({opacity:t.currentActiveZone.InactiveOpacity,width:t.currentActiveZone.InactiveSize.W,height:t.currentActiveZone.InactiveSize.H}))},s=function(){if(this.currentActiveZone.ClickCounterLink&&""!==this.currentActiveZone.ClickCounterLink)try{o.statistics.createClickCounterImage(this.currentActiveZone.ClickCounterLink)}catch(t){o.params.Debug&&console.log(t)}},r=0;r<o.params.ActiveZones.length;r++){var c=o.params.ActiveZones[r];c.ActiveSize=o.additionalButtonFunctions.convertPercentButtonSize(c.ActiveSize),c.InactiveSize=o.additionalButtonFunctions.convertPercentButtonSize(c.InactiveSize),""!==c.Name&&null!==c.Name&&void 0!==c.Name||(c.Name=o.additionalButtonFunctions.randomString(12));var p="<img/>";"iframe"==c.ButtonImageType&&(p="<iframe/>"),null!==c.ButtonIframeInitialSize&&void 0!==c.ButtonIframeInitialSize||(c.ButtonIframeInitialSize={W:0,H:0});var l=n(p,{id:"probtn_active_zone_"+c.Name,src:c.InactiveImage,class:"probtn_active_zone",rel:c.Name,scrolling:"no",css:{position:"fixed",width:c.InactiveSize.W,height:c.InactiveSize.H,opacity:c.InactiveOpacity,border:"0px",overflow:"hidden"}}).prependTo(o.additionalItemsContainer);"iframe"==c.ButtonImageType&&o.additionalButtonFunctions.applyIframeScale(l,c.ButtonIframeInitialSize,c.InactiveSize),o.additionalButtonFunctions.preloadImage(c.ActiveImage),"video"==c.ButtonContentType&&o.videoFunctions.createVideoItem(c.Name,c.ActionURL),"video_and_iframe"===c.ButtonContentType&&o.videoFunctions.createVideoAndIframeItem(c.ActionURL,c.Name),c.VisibleOnlyInteraction&&l.hide(),l.isActive=!1,l.currentActiveZone=c,l.setPosition=t,l.setTransitionDuration=i,l.animateActive=e,l.animateInactive=a,l.requestClickCounterLink=s,l.setPosition(),o.initializedActiveZones[c.Name]=l}},scrollZoneFirstRun:!1,initScrollChange:function(t){var e=function(t){var e=o.initFunctions.initStartScrollParams("get");null===e&&null!==o.currentScrollZone&&void 0!==o.currentScrollZone?o.statistics.sendScrollAreaShowedStats(o.currentScrollZone.Name):!0===o.initFunctions.scrollZoneFirstRun&&o.statistics.sendScrollAreaShowedStats(e.Name),null!==e&&(o.currentScrollZone.Name===e.Name&&n("#pizzabtnImg",o.pizzabtn).hasClass("pizzabtnImg_iframe_cached")||("iframe"===e.ButtonImageType?e.CustomContentURL===o.currentScrollZone.CustomContentURL&&e.ButtonImageType===o.currentScrollZone.ButtonImageType&&e.ButtonImage===o.currentScrollZone.ButtonImage||(n("#pizzabtnImg",o.pizzabtn).hide(),n("#pizzabtnImg",o.pizzabtn).attr("id",""),n(".pizzabtnImg_iframe_cached[rel='"+e.Name+"']",o.pizzabtn).length>0?(n(".pizzabtnImg_iframe_cached[rel='"+e.Name+"']",o.pizzabtn).attr("id","pizzabtnImg"),n(".pizzabtnImg_iframe_cached[rel='"+e.Name+"']",o.pizzabtn).show()):(n(".pizzabtnImg_iframe_cached."+e.Name,o.pizzabtn).attr("id","pizzabtnImg"),n(".pizzabtnImg_iframe_cached."+e.Name,o.pizzabtn).show())):(n("#pizzabtnImg",o.pizzabtn).hide(),n("#pizzabtnImg",o.pizzabtn).attr("id",""),n(".pizzabtnImg_cached[rel='"+e.Name+"']",o.pizzabtn).attr("id","pizzabtnImg"),n("#pizzabtnImg",o.pizzabtn).attr("src",e.ButtonImage),n(".pizzabtnImg_cached[rel='"+e.Name+"']",o.pizzabtn).show()),!0!==o.initFunctions.scrollZoneFirstRun&&o.currentScrollZone.Name!==e.Name&&o.statistics.sendScrollAreaShowedStats(e.Name)),e.CustomButtonParams?e.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(e.ButtonSize):e.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonSize),null!==e.ButtonIframeInitialSize&&void 0!==e.ButtonIframeInitialSize||(e.ButtonIframeInitialSize=o.params.ButtonIframeInitialSize),e.CustomButtonParams?(n(o.pizzabtn).css({width:e.ButtonSize.W,height:e.ButtonSize.H}),o.currentScrollZone!==e&&("iframe"===e.ButtonImageType||n("#pizzabtnImg").attr("src",e.ButtonImage)),e.ButtonIframeInitialSize.W>0&&e.ButtonIframeInitialSize.H>0?e.CustomButtonParams&&(n("#pizzabtnImg").css({width:e.ButtonIframeInitialSize.W,height:e.ButtonIframeInitialSize.H}),n(o.pizzabtn).css({opacity:o.params.ButtonOpacity})):n("#pizzabtnImg").css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n(o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,opacity:o.params.ButtonOpacity}),e.ButtonIframeInitialSize.W>0&&e.ButtonIframeInitialSize.H>0&&o.additionalButtonFunctions.applyIframeScale(n("#pizzabtnImg"),e.ButtonIframeInitialSize,e.ButtonSize)):!1===o.buttonMainParams.isEmpty?(o.currentScrollZone==e&&("iframe"===e.ButtonImageType||n("#pizzabtnImg",o.pizzabtn).attr("src",e.ButtonImage)),n("#pizzabtnImg").css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n(o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,opacity:o.params.ButtonOpacity})):"iframe"!==e.ButtonImageType&&(n("#pizzabtnImg").css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n(o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,opacity:o.params.ButtonOpacity})),o.currentScrollZone!=e&&("iframe"==e.ButtonImageType&&o.additionalButtonFunctions.applyIframeScale(n("#pizzabtnImg"),e.ButtonIframeInitialSize,e.ButtonSize),!0===o.params.DisableButtonMove&&o.additionalButtonFunctions.setButtonStartPosition(o.pizzabtn))),o.initFunctions.scrollZoneFirstRun=!1,o.currentScrollZone=e};"button_and_scroll_zones"==o.params.ButtonType&&(null!==t&&void 0!==t?e():(n.each(o.params.ScrollZones,function(t,e){o.additionalButtonFunctions.preloadImage(e.ButtonImage),o.additionalButtonFunctions.preloadImage(e.ButtonDragImage),n("body").on("click","#video_probtn_"+e.Name,function(t){console.log("");try{n("#video_probtn_"+e.Name).get(0).pause()}catch(t){console.log(t)}o.statistics.SendStatisticsData("VideoClicked",1),window.open(o.params.VideoClickURL)})}),o.initFunctions.scrollZoneFirstRun=!0,o.additionalButtonFunctions.preloadIframeScrollZones(),e(),n(window).scroll(e)))},initStartScrollParams:function(t){if("button_and_scroll_zones"==o.params.ButtonType){var e=null,i=document.documentElement,a=(window.pageXOffset||i.scrollLeft,i.clientLeft,(window.pageYOffset||i.scrollTop)-(i.clientTop||0)),s=navigator.userAgent.toLowerCase(),r=s.indexOf("opera")>-1,c=!r&&s.indexOf("msie")>-1,p=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!c||r?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)};!1===o.params.ChangeScrollButtonAtFullSiteHeight&&(p=function(){return window.innerHeight},a=0);var l=0;if(null===t||void 0===t){l=(o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H/2)*o.params.ButtonPosition.Y;n("body").innerWidth(),o.params.ButtonSize.W,o.params.ButtonPosition.X,n(window).scrollLeft()}else l=o.pizzabtn.position().top;var d=0;return n.each(o.params.ScrollZones,function(t,i){void 0!==i.Name&&null!==i.Name||(i.Name="scrollZone"+t),"video"===i.ButtonContentType&&o.videoFunctions.createVideoItem(i.Name,i.CustomContentURL),"video_and_iframe"===i.ButtonContentType&&o.videoFunctions.createVideoAndIframeItem(i.CustomContentURL,i.Name);var s=d+p()*i.ZoneHeight,r=l+a;if(r<=s&&r>d){window.probtn_dropedActiveZone={},window.probtn_dropedActiveZone.currentActiveZone=null,e=i,window.probtn_dropedActiveZone.currentActiveZone=i,null!==o.currentScrollZone&&void 0!==o.currentScrollZone||(o.currentScrollZone=e);try{o.params.currentContentURL=i.CustomContentURL,o.params.currentButtonContentType=i.ButtonContentType,o.params.currentAreaName=i.Name}catch(t){}o.params.ButtonImage=i.ButtonImage;var c="";if("iframe"===i.ButtonImageType?(n("#probtn_hintText").remove(),n("#pizzabtnImg").css("border","0px solid transparent"),o.currentScrollZone!=i&&void 0!==(c=n(o.pizzabtn).html())&&null!==c&&o.currentScrollZone.ButtonImageType,o.params.ButtonImageType=i.ButtonImageType):(n("#pizzabtnIframeOverlay").remove(),c=n(o.pizzabtn).html(),o.currentScrollZone!=i&&"iframe"===o.currentScrollZone.ButtonImageType&&void 0!==c&&null!==c&&"image"==i.ButtonImageType&&o.additionalButtonFunctions.hideIframeScrollZones(),o.params.ButtonImageType="image"),null!==i.ButtonIframeInitialSize&&void 0!==i.ButtonIframeInitialSize||(i.ButtonIframeInitialSize={W:0,H:0}),null!==i.ButtonSize&&void 0!==i.ButtonSize||(i.ButtonSize=o.params.ButtonSize),"iframe"===i.ButtonImageType){if((n("#pizzabtnIframeOverlay").length<=0||o.currentScrollZone!=i)&&(pizzabtnCss={width:i.ButtonSize.W,height:i.ButtonSize.H,opacity:1},pizzabtnCss.position="absolute",pizzabtnCss.top="0px","iframe"!==o.currentScrollZone.ButtonImageType))n("<div/>",{id:"pizzabtnIframeOverlay",css:pizzabtnCss}).appendTo(o.pizzabtn)}else o.additionalButtonFunctions.setTransform(n("#pizzabtnImg"),1,1);""!==i.ButtonDragImage?o.params.ButtonDragImage=i.ButtonDragImage:o.params.ButtonDragImage=i.ButtonImage,"iframe"==i.ButtonImageType&&(o.params.ButtonDragImage=""),i.CustomButtonParams?(o.buttonMainParams.isEmpty&&(o.buttonMainParams.ButtonSize=o.params.ButtonSize,o.buttonMainParams.ButtonDragSize=o.params.ButtonDragSize,o.buttonMainParams.ButtonOpacity=o.params.ButtonOpacity,o.buttonMainParams.ButtonDragOpacity=o.params.ButtonDragOpacity,o.buttonMainParams.isEmpty=!1),"iframe"!==i.ButtonImageType&&(i.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(i.ButtonSize),i.ButtonDragSize=o.additionalButtonFunctions.convertPercentButtonSize(i.ButtonDragSize)),o.params.ButtonSize=i.ButtonSize,null!==i.ButtonDragSize&&void 0!==i.ButtonDragSize&&(o.params.ButtonDragSize=i.ButtonDragSize),o.params.ButtonOpacity=i.ButtonOpacity,o.params.ButtonDragOpacity=i.ButtonDragOpacity):!1===o.buttonMainParams.isEmpty&&(o.params.ButtonSize=o.buttonMainParams.ButtonSize,o.params.ButtonDragSize=o.buttonMainParams.ButtonDragSize,o.params.ButtonOpacity=o.buttonMainParams.ButtonOpacity,o.params.ButtonDragOpacity=o.buttonMainParams.ButtonDragOpacity)}d+=p()*i.ZoneHeight,o.additionalButtonFunctions.checkAndCorrentButtonPosition()}),e}return null},initPizzaButton:function(){var t=o.wrapper,i=n("body");if("youtube"===o.params.ButtonContentType){var a;a=o.additionalButtonFunctions.getTitleTextForModalWindow(),i.append('<div class="fancybox-overlay fancybox-overlay-fixed" id="youtube_fullscreen" style="width: auto; height: auto; display: none;""></div>'),i.append('<div id="fullscreen_probtn" style="display: none;"><div class="fancybox-wrap fancybox-mobile fancybox-type-iframe fancybox-opened" tabindex="-1" style="margin: 0 auto; height: auto; position: fixed; opacity: 1; overflow: visible;"><div class="fancybox-skin" style="padding: 0px; width: auto; height: auto;"><div class="fancybox-outer"><div class="fancybox-inner" style="overflow: scroll; "><iframe id="video_probtn" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="" scrolling="auto" src="'+o.additionalButtonFunctions.getContentUrlWithUtm(o.params.ContentURL)+'" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe></div></div><div style="background: white;" class="fancybox-title fancybox-title-inside-wrap">'+a+'</div><a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a></div></div></div>'),i.on("click","#fullscreen_probtn .fancybox-close, .fancybox-overlay",function(){n("#fullscreen_probtn").hide(),n(".fancybox-overlay").hide(),o.contentTime.endTimer(),o.HpmdFunctions.closeHpmdTrack(),o.additionalButtonFunctions.MinimizeWrapper(function(){},o.params.MinimizeWrapperTime),n.pep.toggleAll(!0),e("video_probtn","pauseVideo"),e("video_probtn","stopVideo")})}if("video"===o.params.ButtonContentType){""!==o.params.VideoClickURL&&null!==o.params.VideoClickURL&&void 0!==o.params.VideoClickURL||(o.params.VideoClickURL=o.params.VideoPoster);var s,r="";""!==o.params.VideoItemHeaderImage&&(r='<tr id="probtn_video_header_tr"><td id="probtn_video_header_td" style="height: 1px;text-align: center;"><img src="'+o.params.VideoItemHeaderImage+'" id="probtn_video_header_img" alt="" style="width: 70%; margin-top: 5%;"></td></tr>'),s='<div id="video_item" class="probtn_video_wrapper2" style="display: none; width: auto; height: auto; margin: 0 auto; vertical-align: middle; background: black;"><table cellspacing="0" cellpadding="0" class="probtn_video_wrapper2" style="width: auto; height: auto; margin: 0px;">'+r+'<tr><td style="vertical-align: middle; text-align: center;"><video playsinline webkit-playsinline onclick="" poster="'+o.params.VideoPoster+'" id="video_probtn" class="probtn_video"  controls="controls" width="100%"height="100%" style="background: black; margin: 0 auto; vertical-align: middle; width: 100%; height: 100%; display: inline-block;"><source src="'+o.params.ContentURL+'" type="video/mp4">Your browser does not support the video tag. </video></td></tr></table></div>',o.additionalItemsContainer.append(s),""!==o.params.VideoClickURL&&null!==o.params.VideoClickURL&&void 0!==o.params.VideoClickURL&&(console.log("ProBtnControl.params.VideoClickURL1",o.params.VideoClickURL),n("body").on("click","#video_probtn",function(t){try{n("#video_probtn").get(0).pause()}catch(t){console.log(t)}o.statistics.SendStatisticsData("VideoClicked",1),window.open(o.params.VideoClickURL)}));var c=o.additionalButtonFunctions.getWindowWidth()-30,p=o.additionalButtonFunctions.getWindowHeight()-60;!0===o.params.IsManualSize&&(c=-1!==o.params.ContentSize.X.indexOf("%")?o.additionalButtonFunctions.getWindowWidth()*(parseFloat(o.params.ContentSize.X)/100):o.params.ContentSize.X,p=-1!==o.params.ContentSize.Y.indexOf("%")?o.additionalButtonFunctions.getWindowHeight()*(parseFloat(o.params.ContentSize.Y)/100):o.params.ContentSize.Y);var l=0,d=0;c<p?d=(l=p)/o.params.VideoSize.Y*o.params.VideoSize.X:l=(d=c)/o.params.VideoSize.X*o.params.VideoSize.Y,n(".probtn_video_wrapper").width(c),n(".probtn_video_wrapper").height(p),n(".probtn_video").width(d),n(".probtn_video").height(l)}"video_and_iframe"===o.params.ButtonContentType&&o.videoFunctions.createVideoAndIframeItem(o.params.ContentURL);(o.statistics.callSuperPixelExt("TrackingLink"),null!==o.params.TrackingLink&&null!==o.params.TrackingLink&&""!==o.params.TrackingLink)&&o.params.TrackingLink.split("%7C").forEach(function(t,e){o.statistics.createClickCounterImage(t)});t.css({width:"auto",height:"auto",position:"fixed"});var u=o.params.ExtrusionMode.split("_"),m=0,h=0,f={};switch(u[0]){case"topButton":n("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+o.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+o.params.ButtonSize.H+"px !important; position: absolute !important; }</style>");break;case"topButtonTimeout":var g=u[1];m=parseInt(u[2]),h=parseInt(u[3]),n("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+o.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+o.params.ButtonSize.H+"px !important; position: absolute !important; }</style>"),setTimeout(function(){n("#extrusionMode_topButton").remove(),o.params.ButtonSize.W=m,o.params.ButtonSize.H=h,o.params.ButtonSize.Initial={},"iframe"==o.params.ButtonImageType&&o.additionalButtonFunctions.applyIframeScale(n("#pizzabtnImg"),o.params.ButtonIframeInitialSize,o.params.ButtonSize),n(o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n("#pizzabtnIframeOverlay").css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H})},g);break;case"topButtonScroll":var b=u[1];m=parseInt(u[2]),h=parseInt(u[3]),n("head").append('<style type="text/css" id="extrusionMode_topButton">body {margin-top: '+o.params.ButtonSize.H+"px; } #probtn_button { top: 0px !important;} #probtn_wrapper { margin-top:-"+o.params.ButtonSize.H+"px !important; position: absolute !important; }</style>");var v=!1;n(window).scroll(function(t){var e=document.documentElement,i=(window.pageXOffset||e.scrollLeft,e.clientLeft,(window.pageYOffset||e.scrollTop)-(e.clientTop||0)),a=(o.additionalButtonFunctions.getWindowHeight(),o.params.ButtonSize.H,o.params.ButtonPosition.Y,navigator.userAgent.toLowerCase()),s=a.indexOf("opera")>-1,r=!s&&a.indexOf("msie")>-1;o.pizzabtn.position().top;i/Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!r||s?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)>b&&!1===v&&(v=!0,o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_banner_to_button"}),n("#extrusionMode_topButton").remove(),o.params.ButtonSize.W=m,o.params.ButtonSize.H=h,o.params.ButtonSize.Initial={},"iframe"==o.params.ButtonImageType&&o.additionalButtonFunctions.applyIframeScale(n("#pizzabtnImg"),o.params.ButtonIframeInitialSize,o.params.ButtonSize),n(o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n("#pizzabtnIframeOverlay").css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}))});break;case"insertBlock":case"fixedTop":f.width="100%"}var y=n("#probtn_button");0===y.length&&(y=n("<div/>",{id:"probtn_button"}).prependTo(t)),y.addClass("pizzabtn_normal"),y.addClass("probtn_normal"),o.userData.mobile&&(y.attr("onclick",o.params.ButtonOnClick),y.attr("ontouchend",o.params.ButtonOnTouchEnd),y.attr("ontouchstart",o.params.ButtonOnTouchStart)),!0===o.params.ControlInIframeFromParent?(y.css({display:"none",width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,opacity:o.params.ButtonOpacity}),f={width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,"max-width":"inherit !important","max-height":"inherit !important"}):(y.css({display:"none",opacity:o.params.ButtonOpacity,"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":1e3,"-moz-perspective":1e3,"-ms-perspective":1e3,perspective:1e3,"-webkit-transition":"top, left "+o.params.buttonAnimationTimeAfterFancybox+"ms linear","-moz-transition":"top, left "+o.params.buttonAnimationTimeAfterFancybox+"ms linear","-ms-transition":"top, left "+o.params.buttonAnimationTimeAfterFancybox+"ms linear","-o-transition":"top, left "+o.params.buttonAnimationTimeAfterFancybox+"ms linear",transition:"top, left "+o.params.buttonAnimationTimeAfterFancybox+"ms linear",width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),f={width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,"max-width":"inherit !important","max-height":"inherit !important","transition-property":"opacity, width, height","timing-function":"linear","-webkit-transition-property":"opacity, width, height","-webkit-timing-function":"linear","-moz-transition-property":"opacity, width, height","-moz-timing-function":"linear","-o-transition-property":"opacity, width, height","-o-timing-function":"linear"});var w=null;if("iframe"===o.params.ButtonImageType){f.border="0px",f.overflow="hidden",w=n("<iframe/>",{id:"pizzabtnImg",scrolling:"no",seamless:"seamless",src:o.params.ButtonImage,css:f}).appendTo(y),o.additionalButtonFunctions.applyIframeScale(w,o.params.ButtonIframeInitialSize,o.params.ButtonSize),f.position="absolute",f.top="0px";n("<div/>",{id:"pizzabtnIframeOverlay",css:f}).appendTo(y);if(o.params.waitForIframeButtonLoaded){o.params.Debug&&console.log("waitForIframeButtonLoaded hide1");var S=document.getElementById("pizzabtnImg");y.hide();try{S.onload=function(){o.params.Debug&&console.log("waitForIframeButtonLoaded show1"),y.show(),o.closeButton.initAlwaysShowCloseStyles()}}catch(t){}}try{n("#pizzabtnIframeOverlay").hover(function(){var t=document.getElementById("pizzabtnImg");null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_hover_started"},"*")},function(){var t=document.getElementById("pizzabtnImg");null!==t&&void 0!==t&&null!==t.contentWindow&&t.contentWindow.postMessage({message:"probtn_hover_stoped"},"*")})}catch(t){}}else w=n("<img/>",{id:"pizzabtnImg",src:o.params.ButtonImage,css:f}).appendTo(y),n("#pizzabtnImg").attr("src",o.params.ButtonImage),o.closeButton.initAlwaysShowCloseStyles();o.additionalButtonFunctions.preloadImage(o.params.ButtonDragImage),o.hintText=n("<span/>",{id:"probtn_hintText",css:{opacity:0,"transition-property":"opacity","timing-function":"linear","-webkit-transition-property":"opacity","-webkit-timing-function":"linear","-moz-transition-property":"opacity","-moz-timing-function":"linear","-o-transition-property":"opacity","-o-timing-function":"linear","transition-duration":o.params.HintShowDuration+"s","-webkit-transition-duration":o.params.HintShowDuration+"s","-moz-transition-duration":o.params.HintShowDuration+"s","-o-transition-duration":o.params.HintShowDuration+"s"},html:o.params.HintText.replace(/ /g,"&nbsp;")}).appendTo(y),y.hintTextActive=!1,o.additionalButtonFunctions.MinimizeWrapper(function(){},o.params.MinimizeWrapperTime),o.hintText.makeInvisible=function(){this.css({"transition-duration":o.params.HintHideDuration+"s","-webkit-transition-duration":o.params.HintHideDuration+"s","-moz-transition-duration":o.params.HintHideDuration+"s","-o-transition-duration":o.params.HintHideDuration+"s"}),this.css("opacity",0)},y.startShowedTimer=function(){o.contentTime.startTimer("ButtonShowedDuration")},y.stopShowedTimer=function(){o.contentTime.endTimer("ButtonShowedDuration")},y.center=function(){o.wrapper;this.css("top",(o.additionalButtonFunctions.getWindowHeight()-this.height())/2+n(window).scrollTop()+"px"),this.css("left",(o.additionalButtonFunctions.getWindowWidth()-this.width())/2+n(window).scrollLeft()+"px")},y.show=function(){var t=this;t.startShowedTimer(),setTimeout(function(){t.stop(!0,!0).fadeIn(1e3*o.params.ButtonShowDuration)},1e3*o.params.ButtonShowDelay)},y.hide=function(){var t=this;setTimeout(function(){o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_closed"}),console.log("btn hide"),t.stop(!0,!0).fadeOut(1e3*o.params.ButtonHideDuration)},1e3*o.params.ButtonHideDelay)},window.proBtn={},window.proBtn.hide=y.hide,window.proBtn.hideContent=function(){n.fancybox.close()},window.proBtn.close=function(){n.fancybox.close(),o.statistics.SendStatObject({Closed:1}),o.additionalButtonFunctions.MinimizeWrapper(),n("body").removeClass("probtn_disable_scroll"),o.additionalButtonFunctions.hideAll()},window.proBtn.performAction=function(){null!==o.params.CampaignID&&n.getJSON(o.serverUrl+"/1/functions/performAction?DeviceType=web&DeviceUID="+o.GetDeviceUID()+"&DeviceCUID="+o.DeviceCID+"&X-ProBtn-Token="+XProBtnToken+"&CampaignID="+o.params.CampaignID+"&random="+Math.random()+"&callback=?",function(t){})},y.dragAnimate=function(){""!==o.params.ButtonDragImage&&void 0!==o.params.ButtonDragImage&&null!==o.params.ButtonDragImage&&"iframe"!==o.params.ButtonImageType&&(o.params.Debug&&console.log("drag image apply"),w.attr("src",o.params.ButtonDragImage)),setTimeout(function(){!0!==o.params.ControlInIframeFromParent&&w.css({"transition-duration":o.params.ButtonDragDuration+"s","-webkit-transition-duration":o.params.ButtonDragDuration+"s","-moz-transition-duration":o.params.ButtonDragDuration+"s","-o-transition-duration":o.params.ButtonDragDuration+"s"}),"iframe"!==o.params.ButtonImageType&&w.css({opacity:o.params.ButtonDragOpacity,width:o.params.ButtonDragSize.W,height:o.params.ButtonDragSize.H})},1e3*o.params.ButtonDragDelay)},y.undragAnimate=function(){"iframe"!==o.params.ButtonImageType&&w.attr("src",o.params.ButtonImage),setTimeout(function(){!0!==o.params.ControlInIframeFromParent&&w.css({"transition-duration":o.params.ButtonUndragDuration+"s","-webkit-transition-duration":o.params.ButtonUndragDuration+"s","-moz-transition-duration":o.params.ButtonUndragDuration+"s","-o-transition-duration":o.params.ButtonUndragDuration+"s"}),"iframe"!==o.params.ButtonImageType&&(w.css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n(o.pizzabtn).css({opacity:o.params.ButtonOpacity}))},1e3*o.params.ButtonUndragDelay)},y.showHint=function(){var t=this;setTimeout(function(){o.hintText.css(o.initFunctions.hintTextStyle),t.hintTextActive=!0;var e=(o.hintText.width()-o.params.ButtonSize.W)/2;o.hintText.css("margin-left","-"+e+"px")},1e3*o.params.HintLaunchDelay)},y.hideHint=function(){var t=this;o.hintText.makeInvisible(),setTimeout(function(){t.animateDuringHintHide()},100),t.hintTextActive=!1},y.hideHintDelay=function(){setTimeout(function(){o.hintText.makeInvisible()},1e3*o.params.HintLaunchDuration)},y.animateDuringHintHide=function(){var t=(o.hintText.outerWidth()-o.params.ButtonSize.W)/2;t>0&&this.css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H,left:this.position().left+t})},o.additionalButtonFunctions.setButtonStartPosition(y),o.additionalButtonFunctions.changeBodySize(),o.interactionFunctions.initInteractionTimer();try{if(n("#pizzabtnImg").is("iframe"))try{var z=document.getElementById("pizzabtnImg");window.addEventListener("deviceorientation",function(t){null!==z.contentWindow&&z.contentWindow.postMessage({message:"probtn_page_deviceorientation",dataEvent:{alpha:t.alpha,beta:t.beta,gamma:t.gamma}},"*")}),window.addEventListener("devicemotion",function(t){null!==z.contentWindow&&z.contentWindow.postMessage({message:"probtn_page_devicemotion",dataEvent:{x:t.accelerationIncludingGravity.x,y:t.accelerationIncludingGravity.y,z:t.accelerationIncludingGravity.z,alpha:t.rotationRate.alpha,beta:t.rotationRate.beta,gamma:t.rotationRate.gamma,uaparser:o.parsed_ua}},"*")},!1)}catch(t){}}catch(t){console.log(t)}return o.params.waitIframeLoadedMsg&&(console.log("waitIframeLoadedMsg hide1"),n("head").append('<style type="text/css" id="probtn_waitIframeLoadedMsg">#probtn_wrapper.hide {display: none !important;} #probtn_wrapper.show {display: inherit;}</style>'),o.buttonMainParams.hidden=!0,o.wrapper.addClass("hide"),y.hide()),o.initFunctions.initProbtnBadge(y),o.initFunctions.initProbtnClosingArea(y),o.additionalButtonFunctions.checkPostscribe(function(){if(null!==o.params.JsImpressionCode&&void 0!==o.params.JsImpressionCode&&""!==o.params.JsImpressionCode){var t=n("<textarea/>").html(o.params.JsImpressionCode).text();o.statistics.SendStatisticsData("performedAction","jsImpressionCode_started"),postscribe("#probtn_button",""+t)}}),y},initCloseButton:function(){var t=n("<img/>",{id:"probtn_closeButton",src:o.params.CloseImage,class:"close_pro_button_normal probtn_active_zone",onclick:'console.log("onclick");',css:{position:"fixed",display:"none"}}),e=0,i=0;if("attached"===o.params.CloseAreaType){""===o.params.AttachedClosePosition&&null===o.params.AttachedClosePosition&&void 0===o.params.AttachedClosePosition&&(o.params.AttachedClosePosition="top_left");var a=o.params.AttachedClosePosition.split("_");i=o.params.CloseSize.W/2,e=o.params.ButtonSize.H-o.params.CloseSize.H/2;switch("top"===a[0]&&(e=-o.params.CloseSize.H/2),a[1]){case"center":i=(o.params.ButtonSize.W-o.params.CloseSize.W)/2;break;case"right":i=o.params.ButtonSize.W-o.params.CloseSize.W/2;break;case"left":default:i=-o.params.CloseSize.W/2}t.css({margin:"0 auto",display:"none",top:e+"px",position:"absolute",left:i+"px","z-index":"9999"}),o.params.CloseButtonShowDelay>0?setTimeout(function(){t.css({display:"block"})},o.params.CloseButtonShowDelay):t.css({display:"block"})}return t.ready=!1,t.clickOnCloseButton=function(){if(!0===o.params.ClickOnCloseButton){t.css("cursor","pointer"),console.log("probtn_closeButton click set");var e=function(){console.log("probtn_closeButton clicked"),o.statistics.SendStatObject({Closed:1}),o.additionalButtonFunctions.hideAll()};o.closeButtonClicked=!1,document.getElementById("probtn_closeButton").addEventListener("click",function(t){if(!o.closeButtonClicked)return o.closeButtonClicked=!0,e(),t.preventDefault(),!1},!1),document.getElementById("probtn_closeButton").addEventListener("touchstart",function(t){if(!o.closeButtonClicked)return o.closeButtonClicked=!0,e(),t.preventDefault(),!1},!1)}},t.active=!1,t.rect={},t.css({"-webkit-transform":"translateZ(0)","-moz-transform":"translateZ(0)","-ms-transform":"translateZ(0)","-o-transform":"translateZ(0)",transform:"translateZ(0)","-webkit-backface-visibility":"hidden","-moz-backface-visibility":"hidden","-ms-backface-visibility":"hidden","backface-visibility":"hidden","-webkit-perspective":1e3,"-moz-perspective":1e3,"-ms-perspective":1e3,perspective:1e3,"transition-property":"opacity, width, height, left, top","timing-function":"linear","-webkit-transition-property":"opacity, width, height, left, top","-webkit-timing-function":"linear","-moz-transition-property":"opacity, width, height, left, top","-moz-timing-function":"linear","-o-transition-property":"opacity, width, height, left, top","-o-timing-function":"linear"}),t.center=function(){if(""===o.params.CloseAreaType||"default"===o.params.CloseAreaType){n("body");var t=o.params.ClosePosition.X,e=o.params.ClosePosition.Y;o.params.ControlInIframeFromParent,o.params.CloseSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.CloseSize);var i=this.height();0===this.height()&&(i=o.params.CloseSize.H);var a=this.width();0===this.width()&&(a=o.params.CloseSize.W),this.css("top",(o.additionalButtonFunctions.getWindowHeight()-i)*e+"px"),this.css("left",(o.additionalButtonFunctions.getWindowWidth()-a)*t+n(window).scrollLeft()+"px")}else"corner"===o.params.CloseAreaType&&this.css("display","none")},t.show=function(){var t=this;t.center(),setTimeout(function(){t.stop(!0,!0).fadeIn(1e3*o.params.CloseShowDuration)},1e3*o.params.CloseShowDelay)},t.hide=function(){var t=this;setTimeout(function(){t.stop(!0,!0).fadeOut(1e3*o.params.CloseHideDuration)},1e3*o.params.CloseHideDelay)},t.setTransitionDuration=function(t){var e=t+"s";this.css({"transition-duration":e,"-webkit-transition-duration":e,"-moz-transition-duration":e,"-o-transition-duration":e})},t.initAlwaysShowCloseStyles=function(){var t=this,e=function(){!0===o.params.AlwaysShowCloseButton&&(t.setUnactiveSize(),setTimeout(function(){var t="block";"corner"===o.params.CloseAreaType&&(t="none"),n("head").append('<style type="text/css">#probtn_closeButton { display: '+t+" !important; }</style>")},o.params.CloseButtonShowDelay))};if(console.log("this.ready",this.ready),this.ready)null!==i?(e(),clearInterval(i)):e();else var i=setInterval(function(){e()},100)},t.overlayActive=function(){if(""===o.params.CloseAreaType||"default"===o.params.CloseAreaType){var t=this;t.position();t.setTransitionDuration(o.params.CloseActiveDuration),o.params.CloseActiveSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.CloseActiveSize),setTimeout(function(){t.css({opacity:o.params.CloseActiveOpacity,width:o.params.CloseActiveSize.W,height:o.params.CloseActiveSize.H})},1e3*o.params.CloseActiveDelay)}},t.overlayUnactive=function(){var t=this,e=(n("body"),o.params.ClosePosition.X),i=o.params.ClosePosition.Y;o.additionalButtonFunctions.getWindowHeight(),this.height(),o.additionalButtonFunctions.getWindowWidth(),o.closeButton.width(),n(window).scrollLeft();t.setTransitionDuration(o.params.CloseUnactiveDuration),setTimeout(function(){t.setUnactiveSize()},1e3*o.params.CloseUnactiveDelay)},t.setUnactiveSize=function(){o.params.CloseSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.CloseSize);var t={opacity:o.params.CloseOpacity,width:o.params.CloseSize.W,height:o.params.CloseSize.H};this.css(t)},t.setTransitionDuration(o.params.CloseActiveDuration),t.center(),t.ready=!0,t}},interactionFunctions:{time:0,initInteractionTimer:function(){void 0!==o.interactionFunctions.intervalId||clearInterval(o.interactionFunctions.intervalId),o.interactionFunctions.time=0,o.params.HideWithoutInteractionTime>0&&(o.contentTime.intervalId=setTimeout(function(){if((!1===o.interactionFunctions.wasInteraction||void 0===o.interactionFunctions.wasInteraction)&&(o.additionalButtonFunctions.hideAll(),"fullscreen"===o.params.ButtonType))try{n(".fancybox-overlay").remove(),n("#fullscreen_probtn").remove()}catch(t){}},o.params.HideWithoutInteractionTime))},intervalId:void 0,wasInteraction:!1},additionalButtonFunctions:{checkPostscribe:function(t){"undefined"==typeof postscribe?n.getScript("https://cdn.probtn.com/libs/postscribe/htmlParser.js",function(){n.getScript("https://cdn.probtn.com/libs/postscribe/postscribe.js",t)}):t()},callPassback:function(){void 0!==o.params.OnNoShowPixel&&null!==o.params.OnNoShowPixel&&""!==o.params.OnNoShowPixel&&o.statistics.createClickCounterImage(o.params.OnNoShowPixel);o.additionalButtonFunctions.checkPostscribe(function(){var t=function(t){void 0===t&&(t="duplicateDetected"),o.statistics.callSuperPixelExt(t);try{o.params.isServerCommunicationEnabled&&o.statistics.SendStatisticsData("performedAction",t)}catch(t){o.params.Debug&&console.log(t)}};if(n("#probtn_passback").length>0)return t("duplicateDetected"),void t("duplicateByPassback");n("body").append("<div id='probtn_passback'></div>");new Date;o.currentDomain,null!==o.params.PassbackCustomCode&&void 0!==o.params.PassbackCustomCode&&""!==o.params.PassbackCustomCode&&(o.statistics.SendStatisticsData("performedAction","passback_added"),postscribe(o.params.PassbackCodeSelector,""+o.params.PassbackCustomCode))})},extractDomain:function(t){return(t.indexOf("://")>-1?t.split("/")[2]:t.split("/")[0]).split(":")[0]},checkProtocolInUrl:function(t){"https:"===window.location.protocol&&(0===t.indexOf("http://")&&(t=t.replace("http://","https://")));return t},checkProtocolLinks:function(t){try{for(var e in t)if(t.hasOwnProperty(e)&&"iframe"==o.params.ButtonImageType)switch(e){case"ButtonImage":case"ButtonImage2x":case"ButtonDragImage":case"ButtonOpenImage":t[e]=o.additionalButtonFunctions.checkProtocolInUrl(t[e])}}catch(t){}},setButtonStartPosition:function(t){try{var e=(o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H/2)*o.params.ButtonPosition.Y;e<0&&(e=0),e+o.params.ButtonSize.H>o.additionalButtonFunctions.getWindowHeight()&&(e=o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H);var i=(o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W/2)*o.params.ButtonPosition.X+n(window).scrollLeft();switch(i<0&&(i=0),i+o.params.ButtonSize.W>=o.additionalButtonFunctions.getWindowWidth()&&(i=o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W),i<0&&(i=0),o.params.ExtrusionMode){case"insertBlock":i=0,e=0}var a=o.params.isAnimation.split("_");if("lookoutAndOut"===a[0]){var s=0;void 0!==a[3]&&(s=a[3]);var r=!0;try{null!==a[4]&&void 0!==a[4]&&"noAuto"===a[4]&&(r=!1)}catch(t){console.log(t)}r&&(e=(o.additionalButtonFunctions.getWindowHeight()-o.params.ContentSize.H)/2+parseFloat(s),console.log("lookoutAndOut top",e,o.params.ContentSize.H))}t.css({left:i,top:e,position:"absolute"})}catch(t){}},getTitleTextForModalWindow:function(){var t="",e="";if(""!==(e=!0===o.params.Debug?o.params.VendorText+" "+o.mainVersion:o.params.VendorText)&&!0===o.params.ButtonEnabled&&!0===o.params.ButtonVisible)try{t="<style> .fancybox-title-inside-wrap { padding-top: 0px; color: rgba("+o.params.VendorColor.R+","+o.params.VendorColor.G+","+o.params.VendorColor.B+","+o.params.VendorColor.A+"); text-align: center; } </style><a style='font-family: "+o.params.VendorTextFont.Family+"; font-size: "+o.params.VendorTextFont.Size+"px; color: rgba("+o.params.VendorTextColor.R+","+o.params.VendorTextColor.G+","+o.params.VendorTextColor.B+","+o.params.VendorTextColor.A+")' onclick=\"window.window.postMessage({ command: 'probtn_performed_action', value: 'VendorSite_clicked' }, '*'); try { document.getElementById('video_probtn').pause(); } catch(ex) { console.log(ex); };\" href='"+o.params.VendorSite+"' target='_blank'>"+e+"</a>"}catch(t){}return t},youtubeModalWindowSizes:function(){if(n("#youtube_fullscreen:visible").length>0){var t=o.additionalButtonFunctions.getFancyboxMargins(),e=n(".fancybox-title").first().height(),i={width:o.additionalButtonFunctions.getWindowWidth()-t[1]-t[3],height:o.additionalButtonFunctions.getWindowHeight()-t[0]-t[2]-e};n("#fullscreen_probtn .fancybox-wrap").css(i),n("#fullscreen_probtn .fancybox-wrap").css({"margin-left":t[3],"margin-right":t[1],"margin-top":t[0],"margin-bottom":t[2]}),n("#fullscreen_probtn .fancybox-skin").css(i),n("#fullscreen_probtn .fancybox-outer").css(i),n("#fullscreen_probtn .fancybox-inner").css(i)}},hideAll:function(){switch(o.closed=!0,o.params.ExtrusionMode){case"topButton":case"fixedTop":n("body").css("margin-top","0px"),n("head").append('<style type="text/css">#probtn_wrapper { margin-top: 0px !important; position: absolute !important; }</style>')}if(o.statistics.SendStatObject({Hidded:1}),console.log("hideall"),o.additionalButtonFunctions.MinimizeWrapper(),o.pizzabtn.hide(),o.pizzabtn.stopShowedTimer(),o.closeButton.remove(),n("#pizzabtnImg").remove(),o.pizzabtn.css("display","none !important;"),n("head").append('<style type="text/css">#probtn_wrapper, #probtn_badge, #pizzabtnImg { display: none !important; }</style>'),o.additionalButtonFunctions.hideAllActiveZones(),o.initFunctions.initRemoveMenu(),o.initFunctions.stopWebAudio(),n("#fullscreen_probtn").remove(),o.pizzabtn.stop(!0,!0),"video"===o.params.ButtonContentType)try{null!==o.params.currentAreaName&&void 0!==o.params.currentAreaName?n("#video_probtn_"+o.params.currentAreaName).get(0).pause():n("#video_probtn").get(0).pause()}catch(t){}},checkAndCorrentButtonPosition:function(){switch(o.params.ExtrusionMode){case"insertBlock":o.pizzabtn.css("top",0),o.pizzabtn.css("left",0);break;default:!0===o.params.CorrectPositionBeforeMove&&!1===o.once_moved?o.additionalButtonFunctions.setButtonStartPosition(o.pizzabtn):void 0!==o.pizzabtn&&null!==o.pizzabtn&&(o.pizzabtn.position().left>o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W&&o.pizzabtn.css("left",o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W),o.pizzabtn.css("top").replace("px","")>o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H&&o.pizzabtn.css("top",o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H))}},updateAllPercentSizes:function(){"iframe"!==o.params.ButtonImageType&&(o.params.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonSize),o.params.ButtonDragSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonDragSize)),o.params.CloseSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.CloseSize),o.params.CloseActiveSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.CloseActiveSize),n("#pizzabtnImg",o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),n(o.pizzabtn).css({opacity:o.params.ButtonOpacity}),"iframe"==o.params.ButtonImageType&&o.additionalButtonFunctions.applyIframeScale(n("#pizzabtnImg"),o.params.ButtonIframeInitialSize,o.params.ButtonSize),n(o.pizzabtn).css({width:o.params.ButtonSize.W,height:o.params.ButtonSize.H}),(null!==o.params.ActiveZones||o.params.ActiveZones.length>0)&&"button_and_active_zones"==o.params.ButtonType&&n.each(o.initializedActiveZones,function(t,e){"iframe"!==e.currentActiveZone.ButtonImageType&&(e.currentActiveZone.ActiveSize=o.additionalButtonFunctions.convertPercentButtonSize(e.currentActiveZone.ActiveSize),e.currentActiveZone.InactiveSize=o.additionalButtonFunctions.convertPercentButtonSize(e.currentActiveZone.InactiveSize))})},convertPercentButtonSize:function(t){try{var e=t.W,i=t.H,a=t.W,s=t.H;try{void 0!==t.Initial&&null!==t.initial?(e=t.Initial.W,i=t.Initial.H,a=t.Initial.W,s=t.Initial.H,t.W=t.Initial.W,t.H=t.Initial.H,t.Initial={},t.Initial.W=e,t.Initial.H=i):(t.Initial={},t.Initial.W=e,t.Initial.H=i)}catch(n){t.Initial={},t.Initial.W=e,t.Initial.H=i,o.params.Debug&&console.log(n)}(-1!==e.toString().indexOf("%")||parseFloat(e)<0)&&(parseFloat(a)<0&&(e=Math.abs(parseFloat(e))),e="insertBlock"===o.params.ExtrusionMode||"fixedTop"===o.params.ExtrusionMode?n(o.params.ExtrusionPath).width()*(parseFloat(e)/100):o.additionalButtonFunctions.getWindowWidth()*(parseFloat(e)/100),parseFloat(s)>0&&-1==t.W.toString().indexOf("%")&&(i=e*parseFloat(s))),(-1!==i.toString().indexOf("%")||parseFloat(i)<0)&&(parseFloat(s)<0&&(i=Math.abs(parseFloat(i))),i="insertBlock"===o.params.ExtrusionMode||"fixedTop"===o.params.ExtrusionMode?n(o.params.ExtrusionPath).height()*(parseFloat(i)/100):o.additionalButtonFunctions.getWindowHeight()*(parseFloat(i)/100),parseFloat(a)>0&&-1==t.H.toString().indexOf("%")&&(e=parseFloat(a)*i)),t.W=e,t.H=i,"fixedTop"===o.params.ExtrusionMode&&(null!==n("#probtn_button").height()?(n("body").css("margin-top",n("#probtn_button").height()+"px"),n("head").append('<style type="text/css">#probtn_wrapper { margin-top:-'+n("#probtn_button").height()+"px !important; position: fixed !important; }</style>")):(n("body").css("margin-top",i+"px"),n("head").append('<style type="text/css">#probtn_wrapper { margin-top:-'+i+"px !important; position: fixed !important; }</style>")))}catch(t){}return t},checkExistInitIframeSIze:function(t){return"iframe"==t.currentActiveZone.ButtonImageType&&t.currentActiveZone.ButtonIframeInitialSize.W>0&&t.currentActiveZone.ButtonIframeInitialSize.H>0&&void 0!==t.currentActiveZone.ButtonIframeInitialSize.W&&null!==t.currentActiveZone.ButtonIframeInitialSize.W&&void 0!==t.currentActiveZone.ButtonIframeInitialSize.H&&null!==t.currentActiveZone.ButtonIframeInitialSize.H},applyIframeScale:function(t,e,n){if(e.W>0&&e.H>0&&void 0!==e.W&&null!==e.W&&void 0!==e.H&&null!==e.H){var i=o.params.RoundButton.split("_"),a=n.W/e.W,s=n.H/e.H;"fill"===i[1]&&"auto"===i[0]&&(a=.8*n.W/e.W,s=.8*n.H/e.H),t.css("width",e.W),t.css("height",e.H),o.additionalButtonFunctions.setTransform(t,a,s)}},setTransform:function(t,e,n){t.css({transform:"scale("+e+","+n+")","-moz-transform":"scale("+e+","+n+")","-webkit-transform":"scale("+e+","+n+")","-o-transform":"scale("+e+","+n+")","-ms-transform":"scale("+e+","+n+")"}),t.css("transform-origin","top left"),t.css("-moz-transform-origin","top left"),t.css("-webkit-transform-origin","top left"),t.css("-o-transform-origin","top left"),t.css("-ms-transform-origin","top left")},replaceRandom:function(t){t.replace(/\[RANDOM\]/g,o.additionalButtonFunctions.randomString(12));return t.replace(/\[DOMAIN\]/g,o.realDomain).replace(/\%random\%/g,o.additionalButtonFunctions.randomString(12)).replace(/\%RANDOM\%/g,o.additionalButtonFunctions.randomString(12))},replaceDeviceUID:function(t){return t.replace(/\[DEVICEUID\]/g,o.GetDeviceUID())},replaceDeviceCUID:function(t){return t.replace(/\[DEVICECUID\]/g,o.DeviceCID)},hideAllActiveZones:function(){try{n.each(o.initializedActiveZones,function(t,e){e.hide()})}catch(t){}},getContentUrlWithUtm:function(t){try{if(o.params.isAddUtmSource){var e=window.location.href;o.params.UtmSourceUseOnlyDomain&&(e=o.realDomain),""!==o.params.UtmSource&&(e=o.params.UtmSource),t=o.additionalButtonFunctions.replaceUrlParam(t,"utm_source",e),""!==o.params.UtmCampaign&&null!==o.params.UtmCampaign&&void 0!==o.params.UtmCampaign&&(t=o.additionalButtonFunctions.replaceUrlParam(t,"utm_campaign",o.params.UtmCampaign)),o.params.Debug&&console.log("newpath - "+t)}}catch(t){o.params.Debug&&console.log(t)}return t},testSpeed:function(t){if(o.params.isTestSpeed){var e=339234;measureSpeedByImage=function(){var n,i,a=new Image;a.onload=function(){i=(new Date).getTime(),function(){var a=(8*e/((i-n)/1e3)).toFixed(2),s=(a/1024).toFixed(2),r=(s/1024).toFixed(2),c="Your connection speed is: \n\r"+a+" bps\n\r"+s+" kbps\n\r"+r+" Mbps\n\r";o.params.Debug&&console.log(c);null!==t&&void 0!==t&&t(s)}()},a.onerror=function(t,e){o.params.Debug&&console.log(t)};var s="?nnn="+(n=(new Date).getTime());a.src="https://cdn.probtn.com/load2.png"+s},setTimeout(measureSpeedByImage,1)}else null!==t&&void 0!==t&&t(0)},preloadImage:function(t){var e=t,i=n("<img/>",{id:"probtn_ClickCounterLink_"+o.additionalButtonFunctions.randomString(12),src:e,style:"width: 1px; height: 1px; position: absolute; left: -10001px; top: -10001px;"}).prependTo(o.additionalItemsContainer);n(i).attr("src",e)},preloadIframe:function(t){},preloadIframeScrollZonesDone:!1,hideIframeScrollZones:function(){n("iframe.pizzabtnImg_iframe_cached").attr("id",""),n("iframe.pizzabtnImg_iframe_cached").hide()},preloadIframeScrollZones:function(){if(!1===o.additionalButtonFunctions.preloadIframeScrollZonesDone){o.additionalButtonFunctions.preloadIframeScrollZonesDone=!0;for(var t=0;t<o.params.ScrollZones.length;t++){var e=o.params.ScrollZones[t];e.CustomButtonParams?e.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(e.ButtonSize):e.ButtonSize=o.additionalButtonFunctions.convertPercentButtonSize(o.params.ButtonSize);var i={width:e.ButtonSize.W,height:e.ButtonSize.H,display:"none",border:"0px",position:"absolute",top:"0px"};if("iframe"==e.ButtonImageType){for(var a=!1,s=0;s<o.params.ScrollZones.length;s++)s!==t&&n(".pizzabtnImg_iframe_cached[rel='"+o.params.ScrollZones[s].Name+"']",o.pizzabtn).attr("src")===e.ButtonImage&&(n(".pizzabtnImg_iframe_cached[rel='"+o.params.ScrollZones[s].Name+"']",o.pizzabtn).addClass(e.Name),a=!0);!1===a&&n("<iframe/>",{class:"pizzabtnImg_iframe_cached "+e.Name,scrolling:"no",rel:e.Name,seamless:"seamless",src:e.ButtonImage,css:i}).prependTo(o.pizzabtn)}else n("<img/>",{class:"pizzabtnImg_cached",scrolling:"no",rel:e.Name,seamless:"seamless",src:e.ButtonImage,css:i}).prependTo(o.pizzabtn)}}},sendMessageToParent:function(t){null!==t&&void 0!==t||(t="probtn_end_move");var e={};void 0!==o.pizzabtn&&(e=o.pizzabtn.position()),o.additionalButtonFunctions.sendCustomMessageToParent({type:t,params:o.params,button:e})},sendMessageToCreative:function(t){n("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage(t,"*")},sendMessageToModal:function(t){var e=n(".fancybox-iframe").first().attr("id");if(n("#"+e).is("iframe"))try{var i=document.getElementById(e);null!==i.contentWindow&&(iframeLoadedSend=!0,i.contentWindow.postMessage(t,"*"))}catch(t){console.log(t)}},sendCustomMessageToParent:function(t){!0===o.params.ControlInIframeFromParent&&window.window!==window.top&&window.top.postMessage(t,"*")},getWindowHeight:function(){var t=window.innerHeight;return t>window.outerHeight&&o.params.UseScreenSizes&&(t=window.outerHeight),!0===o.params.ControlInIframeFromParent&&o.params.ParentParams.height>0&&void 0!==o.params.ParentParams.height&&null!==o.params.ParentParams.height?o.params.ParentParams.height:t},getWindowWidth:function(){var t=window.innerWidth;return t>window.outerWidth&&o.params.UseScreenSizes&&(t=window.outerWidth),!0===o.params.ControlInIframeFromParent&&o.params.ParentParams.width>0&&void 0!==o.params.ParentParams.width&&null!==o.params.ParentParams.width?o.params.ParentParams.width:t},replaceUrlParam:function(t,e,n){var i=new RegExp("(\\?|\\&)("+e+"=).*?(&|$)"),o=t;return o=t.search(i)>=0?t.replace(i,"$1$2"+n+"$3"):o+(o.indexOf("?")>0?"&":"?")+e+"="+n},onOrientationChange:function(t){try{if(("expansionButton"===o.params.ButtonType||"expansionVideo"===o.params.ButtonType)&&o.onButtonTapCountCheck>0){var e=o.additionalButtonFunctions.getWindowWidth()-20,i=o.additionalButtonFunctions.getWindowHeight()-20;return"expansionVideo"===o.params.ButtonType&&(i=.5625*e),void(o.onButtonTapCountCheck>0&&(o.pizzabtn.css({width:e,height:i}),n("#pizzabtnImg").css({width:e,height:i})))}o.additionalButtonFunctions.updateAllPercentSizes(),o.additionalButtonFunctions.checkAndCorrentButtonPosition();try{o.closeButton.center()}catch(t){o.params.Debug&&console.log(t)}if("youtube"==o.params.ButtonContentType&&o.additionalButtonFunctions.youtubeModalWindowSizes(),"button_and_scroll_zones"==o.params.ButtonType&&o.initFunctions.initScrollChange("orientationChange"),"menu"==o.params.ButtonType&&n("#probtn_menu").length>0)switch(o.additionalButtonFunctions.MaximizeWrapper(function(){}),o.params.MenuTemplateVariant){case"radialcorner":n("#probtn_menu").css("left",0),n("#probtn_menu").css("top",o.additionalButtonFunctions.getWindowHeight()-n("#probtn_menu").height()),o.pizzabtn.position().left<o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W&&o.pizzabtn.css("left","0px"),o.pizzabtn.position().top<o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H&&o.pizzabtn.css("top",o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H);break;case"circularCenter":o.pizzabtn.css("top",window.innerHeight/2-o.pizzabtn.height()/2),o.pizzabtn.css("left",o.additionalButtonFunctions.getWindowWidth()/2-o.pizzabtn.width()/2),o.menuClose.setPosition(),o.initFunctions.circularMenuPositionUpdate();break;default:n("#probtn_menu").css("left",0),n("#probtn_menu").css("top",o.additionalButtonFunctions.getWindowHeight()-n("#probtn_menu").height()-o.params.ButtonSize.H),o.pizzabtn.position().left<o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W&&o.pizzabtn.css("left","0px"),o.pizzabtn.position().top<o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H&&o.pizzabtn.css("top",o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H)}}catch(t){}var a=!1;try{void 0!==n.fancybox&&(a=n.fancybox.isOpen)}catch(t){}if((void 0!==n.fancybox||"fullscreen"===o.params.ButtonType)&&(a||"fullscreen"===o.params.ButtonType)){o.params.ContentSize.X,o.params.ContentSize.Y;var s=o.additionalButtonFunctions.getFancyboxMargins(),r=o.additionalButtonFunctions.getWindowWidth()-s[1]-s[3],c=o.additionalButtonFunctions.getWindowHeight()-s[0]-s[2];!0===o.params.IsManualSize?(-1!==o.params.ContentSize.X.indexOf("%")?(r=o.additionalButtonFunctions.getWindowWidth()*(parseFloat(o.params.ContentSize.X)/100),parseFloat(o.params.ContentSize.X)/100):r=o.params.ContentSize.X,-1!==o.params.ContentSize.Y.indexOf("-")?(c=r*Math.abs(o.params.ContentSize.H))>o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height()&&(r=(c=o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height())/Math.abs(o.params.ContentSize.H)):c=-1!==o.params.ContentSize.Y.indexOf("%")?o.additionalButtonFunctions.getWindowHeight()*(parseFloat(o.params.ContentSize.Y)/100):o.params.ContentSize.Y):(c=o.params.ContentSize.H,r=o.params.ContentSize.W),s[0]>0&&s[2]>0&&(c=c-s[0]-s[2]),s[1]>0&&s[3]>0&&(r=r-s[1]-s[3]);var p=function(t,e,i,a){!0===o.params.IsManualSize?(n(".fancybox-wrap").width(e),n(".fancybox-wrap").height(t),n(".fancybox-inner").width(e),n(".fancybox-inner").height(i),"fullscreen"!=o.params.ButtonType&&0!==a[0]&&0!==a[1]&&0!==a[2]&&0!==a[3]||(n(".fancybox-wrap").css("left",a[1]),n(".fancybox-wrap").css("top",a[0]),n(".fancybox-wrap").css("bottom",a[2]),n(".fancybox-wrap").css("right",a[3])),document.documentElement.clientHeight>o.additionalButtonFunctions.getWindowHeight()&&n(".fancybox-wrap").css("top",a[0]+(document.documentElement.clientHeight-o.additionalButtonFunctions.getWindowHeight()))):(console.log("IsManualSize",o.params.IsManualSize),console.log("margins",a),a[0]>0||a[1]>0||a[2]>0||a[3]>0?(n(".fancybox-wrap").css("left",a[1]),n(".fancybox-wrap").css("top",a[0]),n(".fancybox-wrap").css("bottom",a[2]),n(".fancybox-wrap").css("right",a[3])):(console.log("fancyboxWidth and fancyboxHeight",e,t),n(".fancybox-wrap").css("left",(o.additionalButtonFunctions.getWindowWidth()-e)/2),n(".fancybox-wrap").css("top",(o.additionalButtonFunctions.getWindowHeight()-t)/2))),o.additionalButtonFunctions.setIfameSizes()},l=(n(".fancybox-title").width(),c-n(".fancybox-title").height());p(c,r,l,s);var d=0,u=0;n(".fancybox-inner").width()>n(".fancybox-inner").height()?(u=(d=n(".fancybox-inner").height())/o.params.VideoSize.Y*o.params.VideoSize.X)>n(".fancybox-inner").width()&&(d=(u=n(".fancybox-inner").width())/o.params.VideoSize.X*o.params.VideoSize.Y):(d=(u=n(".fancybox-inner").width())/o.params.VideoSize.X*o.params.VideoSize.Y)>n(".fancybox-inner").height()&&(u=(d=n(".fancybox-inner").height())/o.params.VideoSize.Y*o.params.VideoSize.X),n(".probtn_video_wrapper2").width(n(".fancybox-inner").width()),n(".probtn_video_wrapper2").height(n(".fancybox-inner").height()),n(".probtn_video").width(u),n(".probtn_video").height(d);var m=document.getElementsByClassName("video_iframe");m.length>0&&Array.prototype.forEach.call(m,function(t){t.setAttribute("width",n(".fancybox-inner").width()),t.setAttribute("height",n(".fancybox-inner").height())}),p(c,r,l,s),setTimeout(function(){var t=o.params.isAnimation.split("_"),e="";try{null!==t[3]&&void 0!==t[3]&&(e=t[3].toLowerCase())}catch(t){}"openmodal"===e&&(o.additionalButtonFunctions.setIfameSizes(),n(".fancybox-skin").width(n(".fancybox-wrap").width()),n(".fancybox-skin").height(n(".fancybox-wrap").height()),o.pizzabtn.css("top",parseFloat(n(".fancybox-wrap").position().top+n(".fancybox-wrap").height())))},500)}},changeBodySize:function(){var t={width:window.availWidth,height:window.availHeight};"Microsoft Internet Explorer"===o.userData.browser&&(t.overflow="auto");try{n("body").css(t)}catch(t){}},MinimizeWrapper:function(t,e){var i=t;function a(){var t=o.wrapper,e={width:"auto",height:"auto",position:"fixed"};o.additionalButtonFunctions.sendMessageToParent("probtn_end_move");try{n.pep.toggleAll(!1),t.css(e),n.pep.toggleAll(!0)}catch(n){t.css(e)}null!==i&&void 0!==i&&i()}null!==e?setTimeout(a,e):a()},MaximizeWrapper:function(t){var e=o.wrapper,i={width:window.innerWidth,height:window.innerHeight,position:"fixed"};o.additionalButtonFunctions.sendMessageToParent("probtn_start_move"),e.css(i);try{var a;if(a=n(window).scrollLeft(),o.pizzabtn.offset().left-a>e.width()){var s=e.width()-o.pizzabtn.width();o.pizzabtn.css({left:s+"px"})}}catch(t){}try{var r;if(r=n(window).scrollTop(),o.pizzabtn.offset().top-r>e.height()){var c=e.height()-o.pizzabtn.height();o.pizzabtn.css({top:c+"px"})}}catch(t){}try{t()}catch(t){}},animation:{animationRuning:!1,pathAnimation:function(e){!function(t){t.crSpline={};var e=function(t,e,n,i,o){return Math.floor((t*((2-t)*t-1)*e+(t*t*(3*t-5)+2)*n+t*((4-3*t)*t+1)*i+(t-1)*t*t*o)/2)},n=function(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]};t.crSpline.buildSequence=function(t){var i,a={},s=[],r=function(t){var e,n=[],i=t.length,a=0;!0!==t[0].relative&&(n[0]=[o.pizzabtn.position().left,o.pizzabtn.position().top],a=1);for(var s=0;s<i;s++){var r=t[s].x,c=t[s].y;t[s].scalable&&(r=Math.round(t[s].x*o.additionalButtonFunctions.getWindowWidth()),c=Math.round(t[s].y*o.additionalButtonFunctions.getWindowHeight())),0===s&&(e=o.pizzabtn.position().left-r,ay=o.pizzabtn.position().top-c),!0===t[s].relative&&(c+=ay,r+=e),n[s+a]=[r,c]}return console.log("new pointList",n,JSON.stringify(n)),n}(t);if(r.length<2)throw"crSpline.buildSequence requires at least two points";s.push(n(r[1],r[0]));for(var c=0;c<r.length;c++)s.push(r[c]);return s.push(n(s[s.length-2],s[s.length-1])),i=s.length-3,a.getPos=function(t){var n=Math.floor(t*i);if(n===i)return{left:s[s.length-2][0],top:s[s.length-2][1]};var o=(t-n/i)*i;return{left:e(o,s[n][0],s[n+1][0],s[n+2][0],s[n+3][0])+"px",top:e(o,s[n][1],s[n+1][1],s[n+2][1],s[n+3][1])+"px"}},a},t.fx.step.crSpline=function(t){var e=t.end.getPos(t.pos);for(var n in e)t.elem.style[n]=e[n]}}(t);var i=e.split("_"),a="",s=o.params.animationData;o.params.animationData=n("<div/>").html(s).text();try{a=JSON.parse(o.params.animationData)}catch(t){a=""}""!==a&&void 0!==a&&null!==a||(a=[{x:10,y:10,type:"point"},{x:30,y:80,type:"point"},{x:100,y:200,type:"point"},{x:320,y:10,type:"point"}]),"path"===i[0]&&o.additionalButtonFunctions.MaximizeWrapper(function(){setTimeout(function(){n("#probtn_button").animate({crSpline:n.crSpline.buildSequence(a)},o.params.animationDuration,function(){console.log("pathAnimation finished")})},o.params.animationDuration/5)})},opacityAnimation:function(t){var e={finalOpacity:.5,startType:"",delay:o.params.animationDuration/2};if("opacity"==(e=this._checkAndGetActualParams(e)).name){var i=function(){setTimeout(function(){o.additionalButtonFunctions.animation.animationRuning=!0,o.pizzabtn.animate({opacity:e.finalOpacity},{duration:o.params.animationDuration,step:function(t){},complete:o.additionalButtonFunctions.animation.doneAnimation})},e.delay)};"scroll"==e.startType?n(window).scroll(i):i()}},rolloutAnimation:function(){var t={side:"left",rollOutPercent:80};if("rollout"==(t=this._checkAndGetActualParams(t)).name){"right"==t.side?o.pizzabtn.css("left",n("body").innerWidth()-.2*o.params.ButtonSize.W):o.pizzabtn.css("left",-.8*o.params.ButtonSize.W);n(window).scroll(function(e){o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_page_scroll"});var i=document.documentElement,a=(window.pageXOffset||i.scrollLeft,i.clientLeft,(window.pageYOffset||i.scrollTop)-(i.clientTop||0)),s=(o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H/2)*o.params.ButtonPosition.Y,r=navigator.userAgent.toLowerCase(),c=r.indexOf("opera")>-1,p=!c&&r.indexOf("msie")>-1,l=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,!document.compatMode&&!p||c?(document.parentWindow||document.defaultView).innerHeight:"CSS1Compat"==document.compatMode?document.documentElement.clientHeight:document.body.clientHeight)},d=o.pizzabtn.position().top+a;"right"===t.side?o.pizzabtn.css("left",n("body").innerWidth()-.2*o.params.ButtonSize.W-t.rollOutPercent/100*n("body").innerWidth()*((d-s)/l())):o.pizzabtn.css("left",-.8*o.params.ButtonSize.W+t.rollOutPercent/100*n("body").innerWidth()*((d-s)/l()))})}},lookoutAndOutAnimation:function(){var t={side:"left",rollOutPercent:50};if("lookoutAndOut"==(t=this._checkAndGetActualParams(t)).name){this._setAnimationCSS(),t.rollOutPercent=t.rollOutPercent/100;"right"==t.side?o.pizzabtn.css("left",n("body").innerWidth()-.2*o.params.ButtonSize.W):o.pizzabtn.css("left",-.8*o.params.ButtonSize.W);var e=0,i=function(i){console.log("onBackLookOut"),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop",count:e}),o.lookOutTimeout2=setTimeout(function(){var i=-.8*o.params.ButtonSize.W;"right"===t.side&&(i=n("body").innerWidth()-.2*o.params.ButtonSize.W),o.pizzabtn.stop(!0,!1),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start",count:e}),o.pizzabtn.animate({left:i},{duration:o.params.animationDuration,easing:"linear",complete:a})},o.params.animationDuration/2)},a=function(a){console.log("onLookOut");var s=0;++e<2?(s=-o.params.ButtonSize.W*t.rollOutPercent,"right"==t.side&&(s=n("body").innerWidth()-o.params.ButtonSize.W*t.rollOutPercent),console.log("left",s),o.pizzabtn.stop(!0,!1),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_start",count:e}),o.pizzabtn.animate({left:s},{duration:o.params.animationDuration,easing:"linear",complete:i,queue:!0})):(s=1.2*o.params.ButtonSize.W,"right"==t.side&&(s=n("body").innerWidth()-1.2*o.params.ButtonSize.W),o.pizzabtn.animate({left:s},{duration:o.params.animationDuration,easing:"linear",complete:function(t){console.log("finish animation done"),o.additionalButtonFunctions.sendMessageToCreative({message:"probtn_lookoutandout_stop",step:"last"}),o.lookOutTimeout=setTimeout(function(){console.log("lookout timeout click now"),o.statistics.SendStatisticsData("Showed",1),o.onButtonTap()},1e4)}}))};o.lookOutTimeout2=setTimeout(a,o.params.animationDuration/2)}},lookoutAnimation:function(){var t={side:"left"};if("lookout"==(t=this._checkAndGetActualParams(t)).name){this._setAnimationCSS(),"right"==t.side?o.pizzabtn.css("left",n("body").innerWidth()-.2*o.params.ButtonSize.W):o.pizzabtn.css("left",-.8*o.params.ButtonSize.W);var e=function(e){setTimeout(function(){var e=-.8*o.params.ButtonSize.W;"right"===t.side&&(e=n("body").innerWidth()-.2*o.params.ButtonSize.W),o.pizzabtn.stop(!0,!0),o.pizzabtn.animate({left:e},{duration:o.params.animationDuration,easing:"linear",complete:i})},o.params.animationDuration)},i=function(i){setTimeout(function(){var i=-.1*o.params.ButtonSize.W;"right"==t.side&&(i=n("body").innerWidth()-.9*o.params.ButtonSize.W),o.pizzabtn.stop(!0,!0),o.pizzabtn.animate({left:i},{duration:o.params.animationDuration,easing:"linear",complete:e})},o.params.animationDuration)};setTimeout(i,o.params.animationDuration)}},cornerToCornerAnimation:function(){if("anim1"===o.params.isAnimation||"anim2"===o.params.isAnimation){o.pizzabtn.position().left,o.pizzabtn.position().top;o.additionalButtonFunctions.animation.animationRuning=!0,o.additionalButtonFunctions.MaximizeWrapper(function(){var t=0;o.pizzabtn.animate({top:o.additionalButtonFunctions.getWindowHeight()-o.pizzabtn.height(),left:n("body").innerWidth()-o.pizzabtn.width()},{duration:o.params.animationDuration,step:function(e){o.userData.mobile?t+=2:t=e,"anim2"==o.params.isAnimation?(t=-t,n(this).css(o.additionalButtonFunctions.animation.getRotationCss(t,"60% 50%"))):n(this).css(o.additionalButtonFunctions.animation.getRotationCss(t))},complete:o.additionalButtonFunctions.animation.doneAnimation})})}},_setAnimationCSS:function(){o.pizzabtn.css("-webkit-transform","translateZ(0)"),o.pizzabtn.css("transform","translateZ(0)"),o.pizzabtn.css("transform","translateZ(0)"),o.pizzabtn.css("transition-property","left, top"),o.pizzabtn.css("-webkit-transition-property","left, top")},_checkAndGetActualParams:function(t){var e,i=o.params.animationData;o.params.animationData=n("<div/>").html(i).text();try{e=JSON.parse(o.params.animationData)}catch(t){e=null}if(null!==e&&void 0!==e){for(var a in t)void 0!==e[a]&&null!==e[a]&&(t[a]=e[a]);try{t.name=o.params.isAnimation.split("_")[0]}catch(e){t.nameAnimation=null}}else{var s=o.params.isAnimation.split("_"),r=1;for(var a in t)void 0!==s[r]&&null!==s[r]&&(t[a]=s[r]),r++;try{t.name=s[0]}catch(e){t.name=null}}return t},forwardStopAndAwayAnimation:function(){var t={side:"left"};"forwardStopAndAway"==(t=this._checkAndGetActualParams(t)).name&&(o.pizzabtn.stop(!0,!0),"right"===t.side?o.pizzabtn.css("left",n("body").innerWidth()):(o.pizzabtn.css("left",-o.params.ButtonSize.W-10),o.pizzabtn.stop(!0,!0)),window.setTimeout(function(){var e=n("body").innerWidth()/2-o.params.ButtonSize.W/2;"right"===t.side&&(e=n("body").innerWidth()/2-o.params.ButtonSize.W/2),o.additionalButtonFunctions.animation._setAnimationCSS(),o.pizzabtn.stop(!0,!0),null===o.params.ButtonDragImage&&void 0===o.params.ButtonDragImage||n("#pizzabtnImg",o.pizzabtn).attr("src",o.params.ButtonDragImage),o.pizzabtn.animate({left:e},{duration:o.params.animationDuration,easing:"linear",done:function(){null===o.params.ButtonImage&&void 0===o.params.ButtonImage||n("#pizzabtnImg",o.pizzabtn).attr("src",o.params.ButtonImage),window.setTimeout(function(){var e=n("body").innerWidth()+o.params.ButtonSize.W+20;"right"===t.side&&(e=n("body").innerWidth()-o.params.ButtonSize.W-20),o.pizzabtn.stop(!0,!0),null===o.params.ButtonDragImage&&void 0===o.params.ButtonDragImage||n("#pizzabtnImg",o.pizzabtn).attr("src",o.params.ButtonDragImage),o.pizzabtn.animate({left:e},{step:function(t){},duration:o.params.animationDuration,easing:"linear"})},o.params.animationDuration)}})},o.params.animationDuration))},forwardAndStopAnimation:function(){o.params.isAnimation.split("_");var t={side:"left",waitDuration:o.params.animationDuration/2};if("forwardAndStop"==(t=this._checkAndGetActualParams(t)).name){"right"==t.side?o.pizzabtn.css("left",n("body").innerWidth()-o.params.ButtonSize.W):o.pizzabtn.css("left",0);var e="1"*n("body").innerWidth()-o.params.ButtonSize.W;"right"===t.side&&(e=0*n("body").innerWidth()),this._setAnimationCSS(),o.pizzabtn.stop(!0,!0);var i=function(t,e){o.additionalButtonFunctions.sendMessageToCreative({message:t,data:e})};setTimeout(function(){i("probtn_forwardAndStop_start"),o.pizzabtn.animate({left:e},{duration:o.params.animationDuration,complete:function(){console.log("compelete"),i("probtn_forwardAndStop_stop",o.pizzabtn.position()),setTimeout(function(){"right"==t.side&&(n("body").innerWidth(),o.params.ButtonSize.W),o.pizzabtn.stop(!0,!0)},o.params.animationDuration)},done:function(){}})},t.waitDuration)}},forwardAndBackAnimation:function(){var t={side:"left",pauseDuration:0,stopDuration:0};if(t.pauseDuration=o.params.animationDuration/2,"forwardAndBack"==(t=this._checkAndGetActualParams(t)).name){"right"==t.side?o.pizzabtn.css("left",n("body").innerWidth()-o.params.ButtonSize.W):o.pizzabtn.css("left",0);var e=n("body").innerWidth()-o.params.ButtonSize.W;"right"==t.side&&(e=0),this._setAnimationCSS(),o.pizzabtn.stop(!0,!0);var i=function(t){o.additionalButtonFunctions.sendMessageToCreative({message:t})};setTimeout(function(){o.additionalButtonFunctions.MaximizeWrapper(function(){i("probtn_forwardAndBack_start"),o.pizzabtn.animate({left:e},{duration:o.params.animationDuration,easing:"linear",done:function(){i("probtn_forwardAndBack_stop"),window.setTimeout(function(){var e=0;"right"==t.side&&(e=n("body").innerWidth()-o.params.ButtonSize.W),o.pizzabtn.stop(!0,!0),i("probtn_forwardAndBack_reverse"),i("probtn_forwardAndBack_start"),i("probtn_forwardAndBack_start_reverse"),o.pizzabtn.animate({left:e},{duration:o.params.animationDuration,easing:"linear",done:function(){i("probtn_forwardAndBack_stop"),i("probtn_forwardAndBack_stop_reverse"),setTimeout(function(){o.additionalButtonFunctions.MinimizeWrapper()},t.stopDuration)}})},t.pauseDuration)}})},50)},o.params.animationDuration/2)}},TopToBottomAndStopAnimation:function(){var t={side:"top",waitDuration:o.params.animationDuration/2};"down"==(t=this._checkAndGetActualParams(t)).side&&(t.side="bottom");if(t.name.toLowerCase()=="TopToBottom".toLowerCase()||t.name.toLowerCase()=="upToDown".toLowerCase()){"bottom"==t.side?o.pizzabtn.css("top",o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H):o.pizzabtn.css("top",0);var e=o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H;"bottom"==t.side&&(e=0),this._setAnimationCSS(),o.pizzabtn.stop(!0,!0);var i=function(t,e){n("#pizzabtnImg").is("iframe")&&document.getElementById("pizzabtnImg").contentWindow.postMessage({message:t,data:e},"*")};setTimeout(function(){i("probtn_topToBottomAndStop_start"),i("probtn_upToDown_start"),o.pizzabtn.animate({top:e},{duration:o.params.animationDuration,done:function(){i("probtn_topToBottomAndStop_stop",o.pizzabtn.position()),i("probtn_upToDown_stop",o.pizzabtn.position()),setTimeout(function(){"bottom"==t.side&&(o.additionalButtonFunctions.getWindowHeight(),o.params.ButtonSize.H),o.pizzabtn.stop(!0,!0)},o.params.animationDuration)}})},t.waitDuration)}},ToCenterAnimation:function(){var t={waitDuration:1e3};if((t=this._checkAndGetActualParams(t)).name.toLowerCase()=="ToCenter".toLowerCase()){var e=(o.additionalButtonFunctions.getWindowHeight()-o.params.ButtonSize.H)/2,n=(o.additionalButtonFunctions.getWindowWidth()-o.params.ButtonSize.W)/2;this._setAnimationCSS(),o.pizzabtn.stop(!0,!0);var i=function(t,e){o.additionalButtonFunctions.sendMessageToCreative({message:t,data:e})};setTimeout(function(){i("probtn_topToCenter_start"),o.pizzabtn.animate({top:e,left:n},{duration:o.params.animationDuration,done:function(){i("probtn_topToCenter_stop",o.pizzabtn.position())}})},t.waitDuration)}},resizeAnimation:function(){var t=[{width:200,height:100,waitDuration:6e3,name:"step2"}],e=0;if((t=this._checkAndGetActualParams(t)).name.toLowerCase()=="resizeAnimation".toLowerCase()){var i=function(t,a){if(!(e<t.length))return!0;var s=t[e],r=s.waitDuration;setTimeout(function(){var r,c,p=o.additionalButtonFunctions.convertPercentButtonSize({W:s.width,H:s.height});console.log("newButtonSize",p,s),o.params.ButtonSize.W=p.W,o.params.ButtonSize.H=p.H,o.params.ButtonIframeInitialSize.W=s.ButtonIframeInitialSize.W,o.params.ButtonIframeInitialSize.H=s.ButtonIframeInitialSize.H,n("#pizzabtnImg").css("width",p.W+"px"),n("#pizzabtnImg").css("height",p.H+"px"),"iframe"==o.params.ButtonImageType&&null!==s.ButtonIframeInitialSize&&void 0!==s.ButtonIframeInitialSize&&(o.additionalButtonFunctions.applyIframeScale(n("#pizzabtnImg"),s.ButtonIframeInitialSize,o.params.ButtonSize),n("#pizzabtnImg").css("width",s.ButtonIframeInitialSize.W+"px"),n("#pizzabtnImg").css("height",s.ButtonIframeInitialSize.H+"px")),o.pizzabtn.css("width",p.W+"px"),o.pizzabtn.css("height",p.H+"px"),n("#pizzabtnIframeOverlay").css("height",p.H+"px"),n("#pizzabtnIframeOverlay").css("width",p.W+"px"),o.badge&&"function"==typeof o.badge.setBadgePosition&&o.badge.setBadgePosition(),r="probtn_resizeAnimation_step",c={name:s.name,count:e},o.additionalButtonFunctions.sendMessageToCreative({message:r,data:c}),e++,i(t,a)},r)};i(t,function(){console.log("callback")})}},checkAndRunAnimation:function(){setTimeout(function(){o.additionalButtonFunctions.animation.cornerToCornerAnimation(),o.additionalButtonFunctions.animation.rolloutAnimation(),o.additionalButtonFunctions.animation.lookoutAnimation(),o.additionalButtonFunctions.animation.lookoutAndOutAnimation(),o.additionalButtonFunctions.animation.forwardAndBackAnimation(),o.additionalButtonFunctions.animation.forwardAndStopAnimation(),o.additionalButtonFunctions.animation.TopToBottomAndStopAnimation(),o.additionalButtonFunctions.animation.forwardStopAndAwayAnimation(),o.additionalButtonFunctions.animation.opacityAnimation(o.params.isAnimation),o.additionalButtonFunctions.animation.pathAnimation(o.params.isAnimation),o.additionalButtonFunctions.animation.ToCenterAnimation(o.params.isAnimation),o.additionalButtonFunctions.animation.resizeAnimation()},400)},getRotationCss:function(t,e){return null===e&&void 0===e&&(e="50% 50%"),{transform:"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-moz-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-webkit-transform-origin":e,"-moz-transform-origin":e,"-ms-transform-origin":e,"-o-transform-origin":e,"transform-origin":e}},doneAnimation:function(){o.pizzabtn.css(o.additionalButtonFunctions.animation.getRotationCss(0)),o.additionalButtonFunctions.animation.animationRuning=!1,""!==o.params.ButtonAnimationDoneImage&&void 0!==o.params.ButtonAnimationDoneImage&&(o.params.ButtonImage=o.params.ButtonAnimationDoneImage,n("#pizzabtnImg",o.pizzabtn).attr("src",o.params.ButtonAnimationDoneImage)),o.additionalButtonFunctions.MinimizeWrapper()}},getCurrentActiveArea:function(t){if((null!==o.params.ActiveZones||o.params.ActiveZones.length>0)&&"button_and_active_zones"===o.params.ButtonType){for(var e=0;e<o.params.ActiveZones.length;e++){var n=o.params.ActiveZones[e];if(n.Name===t)return n}return null}return null},randomString:function(t){return Math.round(Math.pow(36,t+1)-Math.random()*Math.pow(36,t)).toString(36).slice(1)},isLandscape:function(){return o.additionalButtonFunctions.getWindowWidth()>o.additionalButtonFunctions.getWindowHeight()},getFancyboxMargins:function(){var t=[70,70,70,70];(o.params.ContentInsets.T<0||o.params.ContentInsets.B<0||o.params.ContentInsets.L<0||o.params.ContentInsets.R<0)&&!0===o.params.isManualSize?(t=o.additionalButtonFunctions.isLandscape()&&o.userData.mobile?[o.params.ButtonSize.H/4,o.params.ButtonSize.H/4+5,o.params.ButtonSize.H/4,o.params.ButtonSize.H/4+5]:[o.params.ButtonSize.H+5,o.params.ButtonSize.H/2,o.params.ButtonSize.H+5,o.params.ButtonSize.H/2],o.userData.mobile&&o.params.ButtonSize.H>70?t=[o.params.ButtonSize.H/8,o.params.ButtonSize.H/8,o.params.ButtonSize.H/8,o.params.ButtonSize.H/8]:o.params.ButtonSize.H>70&&(t=[70,70,70,70])):t=[o.params.ContentInsets.T,o.params.ContentInsets.R,o.params.ContentInsets.B,o.params.ContentInsets.L];return t},setIfameSizes:function(){o.userData.mobile&&(n(".fancybox-iframe").first().css("margin-bottom","-5000px"),n(".fancybox-iframe").css("margin-bottom","-5000px")),0!==o.params.iframeScaleMinWidth&&o.params.iframeScaleMinWidth>n(".fancybox-inner").first().width()&&(o.params.iframeScale=n(".fancybox-inner").first().width()/o.params.iframeScaleMinWidth,n(".fancybox-iframe").first().css("margin-bottom","-5000px"),n(".fancybox-iframe").css("margin-bottom","-5000px"));var t=function(t){n(".fancybox-iframe").first().css("transform","scale("+t+")"),n(".fancybox-iframe").first().css("-moz-transform","scale("+t+")"),n(".fancybox-iframe").first().css("-webkit-transform","scale("+t+")"),n(".fancybox-iframe").first().css("-o-transform","scale("+t+")"),n(".fancybox-iframe").first().css("-ms-transform","scale("+t+")"),n(".fancybox-iframe").first().css("transform-origin","top left"),n(".fancybox-iframe").first().css("-webkit-transform-origin","top left"),n(".fancybox-iframe").first().css("-moz-transform-origin","top left"),n(".fancybox-iframe").first().width(n(".fancybox-inner").first().width()/t),n(".fancybox-iframe").first().height(n(".fancybox-inner").first().height()/t)};if(1!==o.params.iframeScale)t(o.params.iframeScale);else switch(o.parsed_ua.ua_device_type){case"mobile":1!==o.params.iframeScaleMobile&&void 0!==o.params.iframeScaleMobile&&null!==o.params.iframeScaleMobile&&t(o.params.iframeScaleMobile);break;case"tablet":1!==o.params.iframeScaleTablet&&void 0!==o.params.iframeScaleTablet&&null!==o.params.iframeScaleTablet&&t(o.params.iframeScaleTablet);break;default:1!==o.params.iframeScaleDesktop&&void 0!==o.params.iframeScaleDesktop&&null!==o.params.iframeScaleDesktop&&t(o.params.iframeScaleDesktop)}}}}).statistics.callSuperPixelExt("StartButton");var a=function(){o.statistics.callSuperPixelExt("allButtonInitStart_"+o.allButtonInit),!1===o.allButtonInit&&(o.allButtonInit=!0,o.contentTime.startTimer("ButtonFromInitDuration"),o.initFunctions.initButtonAndUserDeviceInfo())},s=function(){o.userDataFunction(function(){window.probtn_ButtonContentType=null,o.HpmdFunctions.probtnHpmdTrack(1),"complete"===document.readyState&&(o.statistics.callSuperPixelExt("Init_document_readyState_complete"),a()),n(window).bind("load",function(){o.statistics.callSuperPixelExt("Init_load"),o.params.Debug&&console.log("windows bind load"),a()}),o.HpmdFunctions.probtnHpmdTrack(1),setTimeout(function(){o.statistics.callSuperPixelExt("Init_timeout"),o.params.Debug&&console.log("setTimeout"),a()},2e3)})};try{void 0!==h?s():n.getScript(o.atlasPath,s)}catch(t){console.log("ex deviceatlas",t),s()}}}(t),t(document).StartButton({isHPMD:!1,loadFancyboxJS:!1,hpmd:window.probtn_hpmd,domain:"m.maximonline.ru",mainStyleCss:"//cdn.probtn.com/style.css",fancyboxCssPath:"//cdn.probtn.com/libs/jquery.fancybox.min.css",fancyboxJsPath:"//cdn.probtn.com/libs/jquery.fancybox.min.js",jqueryPepPath:"//cdn.probtn.com/libs/jquery.pep.min.js"})},g=function(t){var e=t,n=null;try{null!==(n=e.fancybox)&&void 0!==n&&(n=e.fancybox.open)}catch(t){}var i,o,a,s,r,c,p,l,d,u,m,h,g,b,v,y;document.domain.replace("www.","");"function"==typeof n?f(e):(i=window,o=document,r=(a=e)("html"),c=a(i),p=a(o),l=a.fancybox=function(){l.open.apply(this,arguments)},d=navigator.userAgent.match(/msie/i),u=null,m=o.createTouch!==s,h=function(t){return t&&t.hasOwnProperty&&t instanceof a},g=function(t){return t&&"string"===a.type(t)},b=function(t){return g(t)&&t.indexOf("%")>0},v=function(t,e){var n=parseInt(t,10)||0;return e&&b(t)&&(n=l.getViewport()[e]/100*n),Math.ceil(n)},y=function(t,e){return v(t,e)+"px"},a.extend(l,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!m,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(d?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:a.noop,beforeLoad:a.noop,afterLoad:a.noop,beforeShow:a.noop,afterShow:a.noop,beforeChange:a.noop,beforeClose:a.noop,afterClose:a.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,e){if(t&&(a.isPlainObject(e)||(e={}),!1!==l.close(!0)))return a.isArray(t)||(t=h(t)?a(t).get():[t]),a.each(t,function(n,i){var o,r,c,p,d,u,m,f={};"object"===a.type(i)&&(i.nodeType&&(i=a(i)),h(i)?(f={href:i.data("fancybox-href")||i.attr("href"),title:i.data("fancybox-title")||i.attr("title"),isDom:!0,element:i},a.metadata&&a.extend(!0,f,i.metadata())):f=i),o=e.href||f.href||(g(i)?i:null),r=e.title!==s?e.title:f.title||"",!(p=(c=e.content||f.content)?"html":e.type||f.type)&&f.isDom&&((p=i.data("fancybox-type"))||(p=(d=i.prop("class").match(/fancybox\.(\w+)/))?d[1]:null)),g(o)&&(p||(l.isImage(o)?p="image":l.isSWF(o)?p="swf":"#"===o.charAt(0)?p="inline":g(i)&&(p="html",c=i)),"ajax"===p&&(o=(u=o.split(/\s+/,2)).shift(),m=u.shift())),c||("inline"===p?o?c=a(g(o)?o.replace(/.*(?=#[^\s]+$)/,""):o):f.isDom&&(c=i):"html"===p?c=o:p||o||!f.isDom||(p="inline",c=i)),a.extend(f,{href:o,type:p,content:c,title:r,selector:m}),t[n]=f}),l.opts=a.extend(!0,{},l.defaults,e),e.keys!==s&&(l.opts.keys=!!e.keys&&a.extend({},l.defaults.keys,e.keys)),l.group=t,l._start(l.opts.index)},cancel:function(){var t=l.coming;t&&!1!==l.trigger("onCancel")&&(l.hideLoading(),l.ajaxLoad&&l.ajaxLoad.abort(),l.ajaxLoad=null,l.imgPreload&&(l.imgPreload.onload=l.imgPreload.onerror=null),t.wrap&&t.wrap.stop(!0,!0).trigger("onReset").remove(),l.coming=null,l.current||l._afterZoomOut(t))},close:function(t){l.cancel(),!1!==l.trigger("beforeClose")&&(l.unbindEvents(),l.isActive&&(l.isOpen&&!0!==t?(l.isOpen=l.isOpened=!1,l.isClosing=!0,a(".fancybox-item, .fancybox-nav").remove(),l.wrap.stop(!0,!0).removeClass("fancybox-opened"),l.transitions[l.current.closeMethod]()):(a(".fancybox-wrap").stop(!0).trigger("onReset").remove(),l._afterZoomOut())))},play:function(t){var e=function(){clearTimeout(l.player.timer)},n=function(){e(),l.current&&l.player.isActive&&(l.player.timer=setTimeout(l.next,l.current.playSpeed))},i=function(){e(),p.unbind(".player"),l.player.isActive=!1,l.trigger("onPlayEnd")};!0===t||!l.player.isActive&&!1!==t?l.current&&(l.current.loop||l.current.index<l.group.length-1)&&(l.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":i,"onUpdate.player":n,"beforeLoad.player":e}),n(),l.trigger("onPlayStart")):i()},next:function(t){var e=l.current;e&&(g(t)||(t=e.direction.next),l.jumpto(e.index+1,t,"next"))},prev:function(t){var e=l.current;e&&(g(t)||(t=e.direction.prev),l.jumpto(e.index-1,t,"prev"))},jumpto:function(t,e,n){var i=l.current;i&&(t=v(t),l.direction=e||i.direction[t>=i.index?"next":"prev"],l.router=n||"jumpto",i.loop&&(t<0&&(t=i.group.length+t%i.group.length),t%=i.group.length),i.group[t]!==s&&(l.cancel(),l._start(t)))},reposition:function(t,e){var n,i=l.current,o=i?i.wrap:null;o&&(n=l._getPosition(e),t&&"scroll"===t.type?(delete n.position,o.stop(!0,!0).animate(n,200)):(o.css(n),i.pos=a.extend({},i.dim,n)))},update:function(t){var e=t&&t.type,n=!e||"orientationchange"===e;n&&(clearTimeout(u),u=null),l.isOpen&&!u&&(u=setTimeout(function(){var i=l.current;i&&!l.isClosing&&(l.wrap.removeClass("fancybox-tmp"),(n||"load"===e||"resize"===e&&i.autoResize)&&l._setDimension(),"scroll"===e&&i.canShrink||l.reposition(t),l.trigger("onUpdate"),u=null)},n&&!m?0:300))},toggle:function(t){l.isOpen&&(l.current.fitToView="boolean"===a.type(t)?t:!l.current.fitToView,m&&(l.wrap.removeAttr("style").addClass("fancybox-tmp"),l.trigger("onUpdate")),l.update())},hideLoading:function(){p.unbind(".loading"),a("#fancybox-loading").remove()},showLoading:function(){var t,e;l.hideLoading(),t=a('<div id="fancybox-loading"><div></div></div>').click(l.cancel).appendTo("body"),p.bind("keydown.loading",function(t){27===(t.which||t.keyCode)&&(t.preventDefault(),l.cancel())}),l.defaults.fixed||(e=l.getViewport(),t.css({position:"absolute",top:.5*e.h+e.y,left:.5*e.w+e.x}))},getViewport:function(){var t=l.current&&l.current.locked||!1,e={x:c.scrollLeft(),y:c.scrollTop()};return t?(e.w=t[0].clientWidth,e.h=t[0].clientHeight):(e.w=m&&i.innerWidth?i.innerWidth:c.width(),e.h=m&&i.innerHeight?i.innerHeight:c.height()),e},unbindEvents:function(){l.wrap&&h(l.wrap)&&l.wrap.unbind(".fb"),p.unbind(".fb"),c.unbind(".fb")},bindEvents:function(){var t,e=l.current;e&&(c.bind("orientationchange.fb"+(m?"":" resize.fb")+(e.autoCenter&&!e.locked?" scroll.fb":""),l.update),(t=e.keys)&&p.bind("keydown.fb",function(n){var i=n.which||n.keyCode,o=n.target||n.srcElement;if(27===i&&l.coming)return!1;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||o&&(o.type||a(o).is("[contenteditable]"))||a.each(t,function(t,o){return e.group.length>1&&o[i]!==s?(l[t](o[i]),n.preventDefault(),!1):a.inArray(i,o)>-1?(l[t](),n.preventDefault(),!1):void 0})}),a.fn.mousewheel&&e.mouseWheel&&l.wrap.bind("mousewheel.fb",function(t,n,i,o){for(var s,r=t.target||null,c=a(r),p=!1;c.length&&!(p||c.is(".fancybox-skin")||c.is(".fancybox-wrap"));)p=(s=c[0])&&!(s.style.overflow&&"hidden"===s.style.overflow)&&(s.clientWidth&&s.scrollWidth>s.clientWidth||s.clientHeight&&s.scrollHeight>s.clientHeight),c=a(c).parent();0===n||p||l.group.length>1&&!e.canShrink&&(o>0||i>0?l.prev(o>0?"down":"left"):(o<0||i<0)&&l.next(o<0?"up":"right"),t.preventDefault())}))},trigger:function(t,e){var n,i=e||l.coming||l.current;if(i){if(a.isFunction(i[t])&&(n=i[t].apply(i,Array.prototype.slice.call(arguments,1))),!1===n)return!1;i.helpers&&a.each(i.helpers,function(e,n){n&&l.helpers[e]&&a.isFunction(l.helpers[e][t])&&l.helpers[e][t](a.extend(!0,{},l.helpers[e].defaults,n),i)}),p.trigger(t)}},isImage:function(t){return g(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return g(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(t){var e,n,i,o,s,r={};if(t=v(t),!(e=l.group[t]||null))return!1;if(o=(r=a.extend(!0,{},l.opts,e)).margin,s=r.padding,"number"===a.type(o)&&(r.margin=[o,o,o,o]),"number"===a.type(s)&&(r.padding=[s,s,s,s]),r.modal&&a.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),r.autoSize&&(r.autoWidth=r.autoHeight=!0),"auto"===r.width&&(r.autoWidth=!0),"auto"===r.height&&(r.autoHeight=!0),r.group=l.group,r.index=t,l.coming=r,!1!==l.trigger("beforeLoad")){if(i=r.type,n=r.href,!i)return l.coming=null,!(!l.current||!l.router||"jumpto"===l.router)&&(l.current.index=t,l[l.router](l.direction));if(l.isActive=!0,"image"!==i&&"swf"!==i||(r.autoHeight=r.autoWidth=!1,r.scrolling="visible"),"image"===i&&(r.aspectRatio=!0),"iframe"===i&&m&&(r.scrolling="scroll"),r.wrap=a(r.tpl.wrap).addClass("fancybox-"+(m?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+r.wrapCSS).appendTo(r.parent||"body"),a.extend(r,{skin:a(".fancybox-skin",r.wrap),outer:a(".fancybox-outer",r.wrap),inner:a(".fancybox-inner",r.wrap)}),a.each(["Top","Right","Bottom","Left"],function(t,e){r.skin.css("padding"+e,y(r.padding[t]))}),l.trigger("onReady"),"inline"===i||"html"===i){if(!r.content||!r.content.length)return l._error("content")}else if(!n)return l._error("href");"image"===i?l._loadImage():"ajax"===i?l._loadAjax():"iframe"===i?l._loadIframe():l._afterLoad()}else l.coming=null},_error:function(t){a.extend(l.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:l.coming.tpl.error}),l._afterLoad()},_loadImage:function(){var t=l.imgPreload=new Image;t.onload=function(){this.onload=this.onerror=null,l.coming.width=this.width/l.opts.pixelRatio,l.coming.height=this.height/l.opts.pixelRatio,l._afterLoad()},t.onerror=function(){this.onload=this.onerror=null,l._error("image")},t.src=l.coming.href,!0!==t.complete&&l.showLoading()},_loadAjax:function(){var t=l.coming;l.showLoading(),l.ajaxLoad=a.ajax(a.extend({},t.ajax,{url:t.href,error:function(t,e){l.coming&&"abort"!==e?l._error("ajax",t):l.hideLoading()},success:function(e,n){"success"===n&&(t.content=e,l._afterLoad())}}))},_loadIframe:function(){var t=l.coming,e=a(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",m?"auto":t.iframe.scrolling).attr("src",t.href);a(t.wrap).bind("onReset",function(){try{a(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(t){}}),t.iframe.preload&&(l.showLoading(),e.one("load",function(){a(this).data("ready",1),m||a(this).bind("load.fb",l.update),a(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),l._afterLoad()})),t.content=e.appendTo(t.inner),t.iframe.preload||l._afterLoad()},_preloadImages:function(){var t,e,n=l.group,i=l.current,o=n.length,a=i.preload?Math.min(i.preload,o-1):0;for(e=1;e<=a;e+=1)"image"===(t=n[(i.index+e)%o]).type&&t.href&&((new Image).src=t.href)},_afterLoad:function(){var t,e,n,i,o,s,r=l.coming,c=l.current,p="fancybox-placeholder";if(l.hideLoading(),r&&!1!==l.isActive){if(!1===l.trigger("afterLoad",r,c))return r.wrap.stop(!0).trigger("onReset").remove(),void(l.coming=null);switch(c&&(l.trigger("beforeChange",c),c.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),l.unbindEvents(),t=r,e=r.content,n=r.type,i=r.scrolling,a.extend(l,{wrap:t.wrap,skin:t.skin,outer:t.outer,inner:t.inner,current:t,previous:c}),o=t.href,n){case"inline":case"ajax":case"html":t.selector?e=a("<div>").html(e).find(t.selector):h(e)&&(e.data(p)||e.data(p,a('<div class="'+p+'"></div>').insertAfter(e).hide()),e=e.show().detach(),t.wrap.bind("onReset",function(){a(this).find(e).length&&e.hide().replaceAll(e.data(p)).data(p,!1)}));break;case"image":e=t.tpl.image.replace("{href}",o);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',s="",a.each(t.swf,function(t,n){e+='<param name="'+t+'" value="'+n+'"></param>',s+=" "+t+'="'+n+'"'}),e+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+s+"></embed></object>"}h(e)&&e.parent().is(t.inner)||t.inner.append(e),l.trigger("beforeShow"),t.inner.css("overflow","yes"===i?"scroll":"no"===i?"hidden":i),l._setDimension(),l.reposition(),l.isOpen=!1,l.coming=null,l.bindEvents(),l.isOpened?c.prevMethod&&l.transitions[c.prevMethod]():a(".fancybox-wrap").not(t.wrap).stop(!0).trigger("onReset").remove(),l.transitions[l.isOpened?t.nextMethod:t.openMethod](),l._preloadImages()}},_setDimension:function(){var t,e,n,i,o,s,r,c,p,d,u,m,h,f,g,w,S,z=l.getViewport(),x=0,B=l.wrap,C=l.skin,I=l.inner,_=l.current,T=_.width,A=_.height,k=_.minWidth,D=_.minHeight,F=_.maxWidth,W=_.maxHeight,P=_.scrolling,M=_.scrollOutside?_.scrollbarWidth:0,H=_.margin,O=v(H[1]+H[3]),E=v(H[0]+H[2]);if(B.add(C).add(I).width("auto").height("auto").removeClass("fancybox-tmp"),o=O+(n=v(C.outerWidth(!0)-C.width())),s=E+(i=v(C.outerHeight(!0)-C.height())),r=b(T)?(z.w-o)*v(T)/100:T,c=b(A)?(z.h-s)*v(A)/100:A,"iframe"===_.type){if(w=_.content,_.autoHeight&&1===w.data("ready"))try{w[0].contentWindow.document.location&&(I.width(r).height(9999),S=w.contents().find("body"),M&&S.css("overflow-x","hidden"),c=S.outerHeight(!0))}catch(t){}}else(_.autoWidth||_.autoHeight)&&(I.addClass("fancybox-tmp"),_.autoWidth||I.width(r),_.autoHeight||I.height(c),_.autoWidth&&(r=I.width()),_.autoHeight&&(c=I.height()),I.removeClass("fancybox-tmp"));if(T=v(r),A=v(c),u=r/c,k=v(b(k)?v(k,"w")-o:k),F=v(b(F)?v(F,"w")-o:F),D=v(b(D)?v(D,"h")-s:D),p=F,d=W=v(b(W)?v(W,"h")-s:W),_.fitToView&&(F=Math.min(z.w-o,F),W=Math.min(z.h-s,W)),f=z.w-O,g=z.h-E,_.aspectRatio?(T>F&&(A=v((T=F)/u)),A>W&&(T=v((A=W)*u)),T<k&&(A=v((T=k)/u)),A<D&&(T=v((A=D)*u))):(T=Math.max(k,Math.min(T,F)),_.autoHeight&&"iframe"!==_.type&&(I.width(T),A=I.height()),A=Math.max(D,Math.min(A,W))),_.fitToView)if(I.width(T).height(A),B.width(T+n),m=B.width(),h=B.height(),_.aspectRatio)for(;(m>f||h>g)&&T>k&&A>D&&!(x++>19);)A=Math.max(D,Math.min(W,A-10)),(T=v(A*u))<k&&(A=v((T=k)/u)),T>F&&(A=v((T=F)/u)),I.width(T).height(A),B.width(T+n),m=B.width(),h=B.height();else T=Math.max(k,Math.min(T,T-(m-f))),A=Math.max(D,Math.min(A,A-(h-g)));M&&"auto"===P&&A<c&&T+n+M<f&&(T+=M),I.width(T).height(A),B.width(T+n),m=B.width(),h=B.height(),t=(m>f||h>g)&&T>k&&A>D,e=_.aspectRatio?T<p&&A<d&&T<r&&A<c:(T<p||A<d)&&(T<r||A<c),a.extend(_,{dim:{width:y(m),height:y(h)},origWidth:r,origHeight:c,canShrink:t,canExpand:e,wPadding:n,hPadding:i,wrapSpace:h-C.outerHeight(!0),skinSpace:C.height()-A}),!w&&_.autoHeight&&A>D&&A<W&&!e&&I.height("auto")},_getPosition:function(t){var e=l.current,n=l.getViewport(),i=e.margin,o=l.wrap.width()+i[1]+i[3],a=l.wrap.height()+i[0]+i[2],s={position:"absolute",top:i[0],left:i[3]};return e.autoCenter&&e.fixed&&!t&&a<=n.h&&o<=n.w?s.position="fixed":e.locked||(s.top+=n.y,s.left+=n.x),s.top=y(Math.max(s.top,s.top+(n.h-a)*e.topRatio)),s.left=y(Math.max(s.left,s.left+(n.w-o)*e.leftRatio)),s},_afterZoomIn:function(){var t=l.current;t&&(l.isOpen=l.isOpened=!0,l.wrap.css("overflow","visible").addClass("fancybox-opened"),l.update(),(t.closeClick||t.nextClick&&l.group.length>1)&&l.inner.css("cursor","pointer").bind("click.fb",function(e){a(e.target).is("a")||a(e.target).parent().is("a")||(e.preventDefault(),l[t.closeClick?"close":"next"]())}),t.closeBtn&&a(t.tpl.closeBtn).appendTo(l.skin).bind("click.fb",function(t){t.preventDefault(),l.close()}),t.arrows&&l.group.length>1&&((t.loop||t.index>0)&&a(t.tpl.prev).appendTo(l.outer).bind("click.fb",l.prev),(t.loop||t.index<l.group.length-1)&&a(t.tpl.next).appendTo(l.outer).bind("click.fb",l.next)),l.trigger("afterShow"),t.loop||t.index!==t.group.length-1?l.opts.autoPlay&&!l.player.isActive&&(l.opts.autoPlay=!1,l.play()):l.play(!1))},_afterZoomOut:function(t){t=t||l.current,a(".fancybox-wrap").trigger("onReset").remove(),a.extend(l,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),l.trigger("afterClose",t)}}),l.transitions={getOrigPosition:function(){var t=l.current,e=t.element,n=t.orig,i={},o=50,a=50,s=t.hPadding,r=t.wPadding,c=l.getViewport();return!n&&t.isDom&&e.is(":visible")&&((n=e.find("img:first")).length||(n=e)),h(n)?(i=n.offset(),n.is("img")&&(o=n.outerWidth(),a=n.outerHeight())):(i.top=c.y+(c.h-a)*t.topRatio,i.left=c.x+(c.w-o)*t.leftRatio),("fixed"===l.wrap.css("position")||t.locked)&&(i.top-=c.y,i.left-=c.x),i={top:y(i.top-s*t.topRatio),left:y(i.left-r*t.leftRatio),width:y(o+r),height:y(a+s)}},step:function(t,e){var n,i,o=e.prop,a=l.current,s=a.wrapSpace,r=a.skinSpace;"width"!==o&&"height"!==o||(n=e.end===e.start?1:(t-e.start)/(e.end-e.start),l.isClosing&&(n=1-n),i=t-("width"===o?a.wPadding:a.hPadding),l.skin[o](v("width"===o?i:i-s*n)),l.inner[o](v("width"===o?i:i-s*n-r*n)))},zoomIn:function(){var t=l.current,e=t.pos,n=t.openEffect,i="elastic"===n,o=a.extend({opacity:1},e);delete o.position,i?(e=this.getOrigPosition(),t.openOpacity&&(e.opacity=.1)):"fade"===n&&(e.opacity=.1),l.wrap.css(e).animate(o,{duration:"none"===n?0:t.openSpeed,easing:t.openEasing,step:i?this.step:null,complete:l._afterZoomIn})},zoomOut:function(){var t=l.current,e=t.closeEffect,n="elastic"===e,i={opacity:.1};n&&(i=this.getOrigPosition(),t.closeOpacity&&(i.opacity=.1)),l.wrap.animate(i,{duration:"none"===e?0:t.closeSpeed,easing:t.closeEasing,step:n?this.step:null,complete:l._afterZoomOut})},changeIn:function(){var t,e=l.current,n=e.nextEffect,i=e.pos,o={opacity:1},a=l.direction;i.opacity=.1,"elastic"===n&&(t="down"===a||"up"===a?"top":"left","down"===a||"right"===a?(i[t]=y(v(i[t])-200),o[t]="+=200px"):(i[t]=y(v(i[t])+200),o[t]="-=200px")),"none"===n?l._afterZoomIn():l.wrap.css(i).animate(o,{duration:e.nextSpeed,easing:e.nextEasing,complete:l._afterZoomIn})},changeOut:function(){var t=l.previous,e=t.prevEffect,n={opacity:.1},i=l.direction;"elastic"===e&&(n["down"===i||"up"===i?"top":"left"]=("up"===i||"left"===i?"-":"+")+"=200px"),t.wrap.animate(n,{duration:"none"===e?0:t.prevSpeed,easing:t.prevEasing,complete:function(){a(this).trigger("onReset").remove()}})}},l.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!m,fixed:!0},overlay:null,fixed:!1,el:a("html"),create:function(t){t=a.extend({},this.defaults,t),this.overlay&&this.close(),this.overlay=a('<div class="fancybox-overlay"></div>').appendTo(l.coming?l.coming.parent:t.parent),this.fixed=!1,t.fixed&&l.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(t){var e=this;t=a.extend({},this.defaults,t),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(t),this.fixed||(c.bind("resize.overlay",a.proxy(this.update,this)),this.update()),t.closeClick&&this.overlay.bind("click.overlay",function(t){if(a(t.target).hasClass("fancybox-overlay"))return l.isActive?l.close():e.close(),!1}),this.overlay.css(t.css).show()},close:function(){var t,e;c.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(a(".fancybox-margin").removeClass("fancybox-margin"),t=c.scrollTop(),e=c.scrollLeft(),this.el.removeClass("fancybox-lock"),c.scrollTop(t).scrollLeft(e)),a(".fancybox-overlay").remove().hide(),a.extend(this,{overlay:null,fixed:!1})},update:function(){var t,e="100%";this.overlay.width(e).height("100%"),d?(t=Math.max(o.documentElement.offsetWidth,o.body.offsetWidth),p.width()>t&&(e=p.width())):p.width()>c.width()&&(e=p.width()),this.overlay.width(e).height(p.height())},onReady:function(t,e){var n=this.overlay;a(".fancybox-overlay").stop(!0,!0),n||this.create(t),t.locked&&this.fixed&&e.fixed&&(n||(this.margin=p.height()>c.height()&&a("html").css("margin-right").replace("px","")),e.locked=this.overlay.append(e.wrap),e.fixed=!1),!0===t.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(t,e){var n,i;e.locked&&(!1!==this.margin&&(a("*").filter(function(){return"fixed"===a(this).css("position")&&!a(this).hasClass("fancybox-overlay")&&!a(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),n=c.scrollTop(),i=c.scrollLeft(),this.el.addClass("fancybox-lock"),c.scrollTop(n).scrollLeft(i)),this.open(t)},onUpdate:function(){this.fixed||this.update()},afterClose:function(t){this.overlay&&!l.coming&&this.overlay.fadeOut(t.speedOut,a.proxy(this.close,this))}},l.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var e,n,i=l.current,o=i.title,s=t.type;if(a.isFunction(o)&&(o=o.call(i.element,i)),g(o)&&""!==a.trim(o)){switch(e=a('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+o+"</div>"),s){case"inside":n=l.skin;break;case"outside":n=l.wrap;break;case"over":n=l.inner;break;default:n=l.skin,e.appendTo("body"),d&&e.width(e.width()),e.wrapInner('<span class="child"></span>'),l.current.margin[2]+=Math.abs(v(e.css("margin-bottom")))}e["top"===t.position?"prependTo":"appendTo"](n)}}},a.fn.fancybox=function(t){var e,n=a(this),i=this.selector||"",o=function(o){var s,r,c=a(this).blur(),p=e;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||c.is(".fancybox-wrap")||(s=t.groupAttr||"data-fancybox-group",(r=c.attr(s))||(s="rel",r=c.get(0)[s]),r&&""!==r&&"nofollow"!==r&&(p=(c=(c=i.length?a(i):n).filter("["+s+'="'+r+'"]')).index(this)),t.index=p,!1!==l.open(c,t)&&o.preventDefault())};return e=(t=t||{}).index||0,i&&!1!==t.live?p.undelegate(i,"click.fb-start").delegate(i+":not('.fancybox-item, .fancybox-nav')","click.fb-start",o):n.unbind("click.fb-start").bind("click.fb-start",o),this.filter("[data-fancybox-start=1]").trigger("click"),this},p.ready(function(){var t,e,n,o;a.scrollbarWidth===s&&(a.scrollbarWidth=function(){var t=a('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),e=t.children(),n=e.innerWidth()-e.height(99).innerWidth();return t.remove(),n}),a.support.fixedPosition===s&&(a.support.fixedPosition=(n=a('<div style="position:fixed;top:20px;"></div>').appendTo("body"),o=20===n[0].offsetTop||15===n[0].offsetTop,n.remove(),o)),a.extend(l.defaults,{scrollbarWidth:a.scrollbarWidth(),fixed:a.support.fixedPosition,parent:a("body")}),t=a(i).width(),r.addClass("fancybox-lock-test"),e=a(i).width(),r.removeClass("fancybox-lock-test"),a("<style type='text/css'>.fancybox-margin{margin-right:"+(e-t)+"px;}</style>").appendTo("head")}),f(e))},b=function(t){var e=t,n=null;try{n=e.pep.toggleAll}catch(t){}"function"==typeof n?g(e):(!function(t,e,n){"use strict";var i="pep",o={initiate:function(){},start:function(){},drag:function(){},stop:function(){},easing:null,rest:function(){},moveTo:!1,callIfNotStarted:["stop","rest"],startThreshold:[0,0],grid:[1,1],debug:!1,activeClass:"pep-active",multiplier:1,velocityMultiplier:2.5,shouldPreventDefault:!0,allowDragEventPropagation:!0,stopEvents:"",hardwareAccelerate:!0,useCSSTranslation:!0,disableSelect:!0,cssEaseString:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",cssEaseDuration:1e3,shouldEase:!0,droppable:!1,droppableActiveClass:"pep-dpa",overlapFunction:!1,constrainTo:!1,removeMargins:!0,place:!0,deferPlacement:!1,axis:null,forceNonCSS3Movement:!1,elementsWithInteraction:"input",revert:!1,revertAfter:"stop",revertIf:function(){return!0},ignoreRightClick:!0,startPos:{left:null,top:null}};function a(e,n){return this.name=i,this.el=e,this.$el=t(e),this.options=t.extend({},o,n),this.$document=t(this.$el[0].ownerDocument),this.$body=this.$document.find("body"),this.moveTrigger="MSPointerMove pointermove touchmove mousemove",this.startTrigger="MSPointerDown pointerdown touchstart mousedown",this.stopTrigger="MSPointerUp pointerup touchend mouseup",this.startTriggerArray=this.startTrigger.split(" "),this.moveTriggerArray=this.moveTrigger.split(" "),this.stopTriggerArray=this.stopTrigger.split(" "),this.stopEvents=[this.stopTrigger,this.options.stopEvents].join(" "),"window"===this.options.constrainTo?this.$container=this.$document:this.options.constrainTo&&"parent"!==this.options.constrainTo?this.$container=t(this.options.constrainTo):this.$container=this.$el.parent(),this.isPointerEventCompatible()&&this.applyMSDefaults(),this.CSSEaseHash=this.getCSSEaseHash(),this.scale=1,this.started=!1,this.disabled=!1,this.activeDropRegions=[],this.resetVelocityQueue(),this.init(),this}a.prototype.init=function(){this.options.debug&&this.buildDebugDiv(),this.options.disableSelect&&this.disableSelect(),this.options.place&&!this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.ev={},this.pos={},this.subscribe()},a.prototype.subscribe=function(){var t=this;this.onStartEvent=function(e){t.handleStart(e)},this.$el.on(this.startTrigger,this.onStartEvent),this.onStartEventOnElementsWithInteraction=function(t){t.stopPropagation()},this.$el.on(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.onStopEvents=function(e){t.handleStop(e)},this.$document.on(this.stopEvents,this.onStopEvents),this.onMoveEvents=function(e){t.moveEvent=e},this.$document.on(this.moveTrigger,this.onMoveEvents)},a.prototype.unsubscribe=function(){this.$el.off(this.startTrigger,this.onStartEvent),this.$el.off(this.startTrigger,this.options.elementsWithInteraction,this.onStartEventOnElementsWithInteraction),this.$document.off(this.stopEvents,this.onStopEvents),this.$document.off(this.moveTrigger,this.onMoveEvents)},a.prototype.handleStart=function(t){var e=this;if(this.isValidMoveEvent(t)&&!this.disabled&&(!this.options.ignoreRightClick||3!==t.which)){if(this.isPointerEventCompatible()&&t.preventManipulation&&t.preventManipulation(),t=this.normalizeEvent(t),this.options.place&&this.options.deferPlacement&&(this.positionParent(),this.placeObject()),this.log({type:"event",event:t.type}),this.options.hardwareAccelerate&&!this.hardwareAccelerated&&(this.hardwareAccelerate(),this.hardwareAccelerated=!0),!1===this.options.initiate.call(this,t,this))return;clearTimeout(this.restTimeout),this.$el.addClass(this.options.activeClass),this.removeCSSEasing(),this.startX=this.ev.x=t.pep.x,this.startY=this.ev.y=t.pep.y,this.initialPosition=this.initialPosition||this.$el.position(),this.startEvent=this.moveEvent=t,this.active=!0,this.options.shouldPreventDefault&&t.preventDefault(),this.options.allowDragEventPropagation||t.stopPropagation(),function t(){e.active&&(e.handleMove(),e.requestAnimationFrame(t))}(),function t(){e.options.easing&&(e.easing&&e.options.easing.call(e,null,e),e.requestAnimationFrame(t))}()}},a.prototype.handleMove=function(){if(void 0!==this.moveEvent){var n,i,o=this.normalizeEvent(this.moveEvent),a=e.parseInt(o.pep.x/this.options.grid[0])*this.options.grid[0],s=e.parseInt(o.pep.y/this.options.grid[1])*this.options.grid[1];if(this.addToLIFO({time:o.timeStamp,x:a,y:s}),t.inArray(o.type,this.startTriggerArray)>-1?(n=0,i=0):(n=a-this.ev.x,i=s-this.ev.y),this.dx=n,this.dy=i,this.ev.x=a,this.ev.y=s,0!==n||0!==i){var r=Math.abs(this.startX-a),c=Math.abs(this.startY-s);!this.started&&(r>this.options.startThreshold[0]||c>this.options.startThreshold[1])&&(this.started=!0,this.$el.addClass("pep-start"),this.options.start.call(this,this.startEvent,this)),this.options.droppable&&this.calculateActiveDropRegions(),!1!==this.options.drag.call(this,o,this)?(this.log({type:"event",event:o.type}),this.log({type:"event-coords",x:this.ev.x,y:this.ev.y}),this.log({type:"velocity"}),this.doMoveTo(n,i)):this.resetVelocityQueue()}else this.log({type:"event",event:"** stopped **"})}},a.prototype.doMoveTo=function(t,e){var n,i,o=this.handleConstraint(t,e);"function"==typeof this.options.moveTo?(n=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,i=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=!1!==o.x?o.x:n,i=!1!==o.y?o.y:i),"x"===this.options.axis&&(i=o.y),"y"===this.options.axis&&(n=o.x),this.options.moveTo.call(this,n,i)):this.shouldUseCSSTranslation()?(t=t/this.scale*this.options.multiplier,e=e/this.scale*this.options.multiplier,this.options.constrainTo&&(t=!1===o.x?t:0,e=!1===o.y?e:0),"x"===this.options.axis&&(e=0),"y"===this.options.axis&&(t=0),this.moveToUsingTransforms(t,e)):(n=t>=0?"+="+Math.abs(t/this.scale)*this.options.multiplier:"-="+Math.abs(t/this.scale)*this.options.multiplier,i=e>=0?"+="+Math.abs(e/this.scale)*this.options.multiplier:"-="+Math.abs(e/this.scale)*this.options.multiplier,this.options.constrainTo&&(n=!1!==o.x?o.x:n,i=!1!==o.y?o.y:i),"x"===this.options.axis&&(i=o.y),"y"===this.options.axis&&(n=o.x),this.moveTo(n,i))},a.prototype.handleStop=function(e){this.active&&(this.log({type:"event",event:e.type}),this.active=!1,this.easing=!0,this.$el.removeClass("pep-start").addClass("pep-ease"),this.options.droppable&&this.calculateActiveDropRegions(),(this.started||!this.started&&t.inArray("stop",this.options.callIfNotStarted)>-1)&&this.options.stop.call(this,e,this),this.options.shouldEase?this.ease(e,this.started):this.removeActiveClass(),this.options.revert&&("stop"===this.options.revertAfter||!this.options.shouldEase)&&this.options.revertIf&&this.options.revertIf.call(this)&&this.revert(),this.started=!1,this.resetVelocityQueue())},a.prototype.ease=function(e,n){this.$el.position();var i=this.velocity(),o=(this.dt,i.x/this.scale*this.options.multiplier),a=i.y/this.scale*this.options.multiplier,s=this.handleConstraint(o,a,!0);this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash());var r=i.x>0?"+="+o:"-="+Math.abs(o),c=i.y>0?"+="+a:"-="+Math.abs(a);this.options.constrainTo&&(r=!1!==s.x?s.x:r,c=!1!==s.y?s.y:c),"x"===this.options.axis&&(c="+=0"),"y"===this.options.axis&&(r="+=0");var p=!this.cssAnimationsSupported()||this.options.forceNonCSS3Movement;"function"==typeof this.options.moveTo?this.options.moveTo.call(this,r,c):this.moveTo(r,c,p);var l=this;this.restTimeout=setTimeout(function(){l.options.droppable&&l.calculateActiveDropRegions(),l.easing=!1,(n||!n&&t.inArray("rest",l.options.callIfNotStarted)>-1)&&l.options.rest.call(l,e,l),l.options.revert&&"ease"===l.options.revertAfter&&l.options.shouldEase&&l.options.revertIf&&l.options.revertIf.call(l)&&l.revert(),l.removeActiveClass()},this.options.cssEaseDuration)},a.prototype.normalizeEvent=function(t){return t.pep={},this.isTouch(t)?(t.pep.x=t.originalEvent.touches[0].pageX,t.pep.y=t.originalEvent.touches[0].pageY,t.pep.type=t.type):!this.isPointerEventCompatible()&&this.isTouch(t)||(t.pageX?(t.pep.x=t.pageX,t.pep.y=t.pageY):(t.pep.x=t.originalEvent.pageX,t.pep.y=t.originalEvent.pageY),t.pep.type=t.type),t},a.prototype.resetVelocityQueue=function(){this.velocityQueue=new Array(5)},a.prototype.moveTo=function(t,e,n){this.log({type:"delta",x:t,y:e}),n?this.$el.animate({top:e,left:t},0,"easeOutQuad",{queue:!1}):this.$el.stop(!0,!1).css({top:e,left:t})},a.prototype.moveToUsingTransforms=function(t,e){var n=this.matrixToArray(this.matrixString());this.cssX||(this.cssX=this.xTranslation(n)),this.cssY||(this.cssY=this.yTranslation(n)),this.cssX=this.cssX+t,this.cssY=this.cssY+e,this.log({type:"delta",x:t,y:e}),n[4]=this.cssX,n[5]=this.cssY,this.translation=this.arrayToMatrix(n),this.transform(this.translation)},a.prototype.transform=function(t){this.$el.css({"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},a.prototype.xTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[4],10)},a.prototype.yTranslation=function(t){return t=t||this.matrixToArray(this.matrixString()),parseInt(t[5],10)},a.prototype.matrixString=function(){var t=function(t){return!(!t||"none"===t||t.indexOf("matrix")<0)},e="matrix(1, 0, 0, 1, 0, 0)";return t(this.$el.css("-webkit-transform"))&&(e=this.$el.css("-webkit-transform")),t(this.$el.css("-moz-transform"))&&(e=this.$el.css("-moz-transform")),t(this.$el.css("-ms-transform"))&&(e=this.$el.css("-ms-transform")),t(this.$el.css("-o-transform"))&&(e=this.$el.css("-o-transform")),t(this.$el.css("transform"))&&(e=this.$el.css("transform")),e},a.prototype.matrixToArray=function(t){return t.split("(")[1].split(")")[0].split(",")},a.prototype.arrayToMatrix=function(t){return"matrix("+t.join(",")+")"},a.prototype.addToLIFO=function(t){var e=this.velocityQueue;(e=e.slice(1,e.length)).push(t),this.velocityQueue=e},a.prototype.velocity=function(){for(var t=0,e=0,n=0;n<this.velocityQueue.length-1;n++)this.velocityQueue[n]&&(t+=this.velocityQueue[n+1].x-this.velocityQueue[n].x,e+=this.velocityQueue[n+1].y-this.velocityQueue[n].y,this.dt=this.velocityQueue[n+1].time-this.velocityQueue[n].time);return{x:t*this.options.velocityMultiplier,y:e*this.options.velocityMultiplier}},a.prototype.revert=function(){this.shouldUseCSSTranslation()&&this.moveToUsingTransforms(-this.xTranslation(),-this.yTranslation()),this.moveTo(this.initialPosition.left,this.initialPosition.top)},a.prototype.requestAnimationFrame=function(t){return e.requestAnimationFrame&&e.requestAnimationFrame(t)||e.webkitRequestAnimationFrame&&e.webkitRequestAnimationFrame(t)||e.mozRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.oRequestAnimationFrame&&e.mozRequestAnimationFrame(t)||e.msRequestAnimationFrame&&e.msRequestAnimationFrame(t)||e.setTimeout(t,1e3/60)},a.prototype.positionParent=function(){this.options.constrainTo&&!this.parentPositioned&&(this.parentPositioned=!0,"parent"===this.options.constrainTo?this.$container.css({position:"relative"}):"window"===this.options.constrainTo&&"#document"!==this.$container.get(0).nodeName&&"static"!==this.$container.css("position")&&this.$container.css({position:"static"}))},a.prototype.placeObject=function(){this.objectPlaced||(this.objectPlaced=!0,this.offset="parent"===this.options.constrainTo||this.hasNonBodyRelative()?this.$el.position():this.$el.offset(),parseInt(this.$el.css("left"),10)&&(this.offset.left=this.$el.css("left")),"number"==typeof this.options.startPos.left&&(this.offset.left=this.options.startPos.left),parseInt(this.$el.css("top"),10)&&(this.offset.top=this.$el.css("top")),"number"==typeof this.options.startPos.top&&(this.offset.top=this.options.startPos.top),this.options.removeMargins&&this.$el.css({margin:0}),this.$el.css({position:"absolute",top:this.offset.top,left:this.offset.left}))},a.prototype.hasNonBodyRelative=function(){return this.$el.parents().filter(function(){var e=t(this);return e.is("body")||"relative"===e.css("position")}).length>1},a.prototype.setScale=function(t){this.scale=t},a.prototype.setMultiplier=function(t){this.options.multiplier=t},a.prototype.removeCSSEasing=function(){this.cssAnimationsSupported()&&this.$el.css(this.getCSSEaseHash(!0))},a.prototype.disableSelect=function(){this.$el.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"})},a.prototype.removeActiveClass=function(){this.$el.removeClass([this.options.activeClass,"pep-ease"].join(" "))},a.prototype.handleConstraint=function(e,i,o){var a=this.$el.position();this.pos.x=a.left,this.pos.y=a.top;var s,r,c,p,l={x:!1,y:!1};return this.log({type:"pos-coords",x:this.pos.x,y:this.pos.y}),t.isArray(this.options.constrainTo)?(this.options.constrainTo[3]!==n&&this.options.constrainTo[1]!==n&&(r=!1===this.options.constrainTo[1]?1/0:this.options.constrainTo[1],c=!1===this.options.constrainTo[3]?-1/0:this.options.constrainTo[3]),!1!==this.options.constrainTo[0]&&!1!==this.options.constrainTo[2]&&(s=!1===this.options.constrainTo[2]?1/0:this.options.constrainTo[2],p=!1===this.options.constrainTo[0]?-1/0:this.options.constrainTo[0]),this.pos.x+e<c&&(l.x=c),this.pos.y+i<p&&(l.y=p)):"string"==typeof this.options.constrainTo&&(c=0,p=0,r=this.$container.width()-this.$el.outerWidth(),s=this.$container.height()-this.$el.outerHeight(),this.pos.x+e<0&&(l.x=0),this.pos.y+i<0&&(l.y=0)),this.pos.x+e>r&&(l.x=r),this.pos.y+i>s&&(l.y=s),this.shouldUseCSSTranslation()&&o&&(l.x===c&&this.xTranslation()&&(l.x=c-this.xTranslation()),l.x===r&&this.xTranslation()&&(l.x=r-this.xTranslation()),l.y===p&&this.yTranslation()&&(l.y=p-this.yTranslation()),l.y===s&&this.yTranslation()&&(l.y=s-this.yTranslation())),l},a.prototype.getCSSEaseHash=function(t){var e;if(void 0===t&&(t=!1),t)e="";else{if(this.CSSEaseHash)return this.CSSEaseHash;e=["all",this.options.cssEaseDuration+"ms",this.options.cssEaseString].join(" ")}return{"-webkit-transition":e,"-moz-transition":e,"-ms-transition":e,"-o-transition":e,transition:e}},a.prototype.calculateActiveDropRegions=function(){var e=this;this.activeDropRegions.length=0,t.each(t(this.options.droppable),function(n,i){var o=t(i);e.isOverlapping(o,e.$el)?(o.addClass(e.options.droppableActiveClass),e.activeDropRegions.push(o)):o.removeClass(e.options.droppableActiveClass)})},a.prototype.isOverlapping=function(t,e){if(this.options.overlapFunction)return this.options.overlapFunction(t,e);var n=t[0].getBoundingClientRect(),i=e[0].getBoundingClientRect();return!(n.right<i.left||n.left>i.right||n.bottom<i.top||n.top>i.bottom)},a.prototype.isTouch=function(t){return t.type.search("touch")>-1},a.prototype.isPointerEventCompatible=function(){return"MSPointerEvent"in e},a.prototype.applyMSDefaults=function(t){this.$el.css({"-ms-touch-action":"none","touch-action":"none","-ms-scroll-chaining":"none","-ms-scroll-limit":"0 0 0 0"})},a.prototype.isValidMoveEvent=function(t){return!this.isTouch(t)||this.isTouch(t)&&t.originalEvent&&t.originalEvent.touches&&1===t.originalEvent.touches.length},a.prototype.shouldUseCSSTranslation=function(){if(this.options.forceNonCSS3Movement)return!1;if(void 0!==this.useCSSTranslation)return this.useCSSTranslation;var t;return t=!(!this.options.useCSSTranslation||"undefined"!=typeof Modernizr&&!Modernizr.csstransforms),this.useCSSTranslation=t,t},a.prototype.cssAnimationsSupported=function(){if(void 0!==this.cssAnimationsSupport)return this.cssAnimationsSupport;if("undefined"!=typeof Modernizr&&Modernizr.cssanimations)return this.cssAnimationsSupport=!0,!0;var t=!1,e=document.createElement("div"),i="Webkit Moz O ms Khtml".split(" ");if(e.style.animationName&&(t=!0),!1===t)for(var o=0;o<i.length;o++)if(e.style[i[o]+"AnimationName"]!==n){i[o].toLowerCase(),t=!0;break}return this.cssAnimationsSupport=t,t},a.prototype.hardwareAccelerate=function(){this.$el.css({"-webkit-perspective":1e3,perspective:1e3,"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"})},a.prototype.getMovementValues=function(){return{ev:this.ev,pos:this.pos,velocity:this.velocity()}},a.prototype.buildDebugDiv=function(){var e;0===t("#pep-debug").length&&(e=t("<div></div>")).attr("id","pep-debug").append("<div style='font-weight:bold; background: red; color: white;'>DEBUG MODE</div>").append("<div id='pep-debug-event'>no event</div>").append("<div id='pep-debug-ev-coords'>event coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-pos-coords'>position coords: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-velocity'>velocity: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").append("<div id='pep-debug-delta'>&Delta; movement: <span class='pep-x'>-</span>, <span class='pep-y'>-</span></div>").css({position:"fixed",bottom:5,right:5,zIndex:99999,textAlign:"right",fontFamily:"Arial, sans",fontSize:10,border:"1px solid #DDD",padding:"3px",background:"white",color:"#333"});var n=this;setTimeout(function(){n.debugElements={$event:t("#pep-debug-event"),$velocityX:t("#pep-debug-velocity .pep-x"),$velocityY:t("#pep-debug-velocity .pep-y"),$dX:t("#pep-debug-delta .pep-x"),$dY:t("#pep-debug-delta .pep-y"),$evCoordsX:t("#pep-debug-ev-coords .pep-x"),$evCoordsY:t("#pep-debug-ev-coords .pep-y"),$posCoordsX:t("#pep-debug-pos-coords .pep-x"),$posCoordsY:t("#pep-debug-pos-coords .pep-y")}},0),t("body").append(e)},a.prototype.log=function(t){if(this.options.debug)switch(t.type){case"event":this.debugElements.$event.text(t.event);break;case"pos-coords":this.debugElements.$posCoordsX.text(t.x),this.debugElements.$posCoordsY.text(t.y);break;case"event-coords":this.debugElements.$evCoordsX.text(t.x),this.debugElements.$evCoordsY.text(t.y);break;case"delta":this.debugElements.$dX.text(t.x),this.debugElements.$dY.text(t.y);break;case"velocity":var e=this.velocity();this.debugElements.$velocityX.text(Math.round(e.x)),this.debugElements.$velocityY.text(Math.round(e.y))}},a.prototype.toggle=function(t){this.disabled=void 0===t?!this.disabled:!t},t.extend(t.easing,{easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeOutExpo:function(t,e,n,i,o){return e===o?n+i:i*(1-Math.pow(2,-10*e/o))+n}}),t.fn[i]=function(e){return this.each(function(){if(!t.data(this,"plugin_"+i)){var n=new a(this,e);t.data(this,"plugin_"+i,n),t.pep.peps.push(n)}})},t.pep={},t.pep.peps=[],t.pep.toggleAll=function(e){t.each(this.peps,function(t,n){n.toggle(e)})},t.pep.unbind=function(t){var e=t.data("plugin_"+i);void 0!==e&&(e.toggle(!1),e.unsubscribe(),t.removeData("plugin_"+i))}}(e,window),g(e))},v=window.jQuery;e[0]>0&&e[1]>4||(v=!1);document.getElementsByTagName("HEAD").item(0);function y(t,e){var n=document.createElement("script");n.src=t,n["data-cfasync"]="false",n.async=!0,n.onreadystatechange=n.onload=function(){var t=n.readyState;e.done||t&&!/loaded|complete/.test(t)||(e.done=!0,e())},document.getElementsByTagName("head")[0].appendChild(n)}v?$==jQuery?y(t,function(){var t=jQuery.noConflict(!0);b(t)}):y(t,function(){var t=jQuery.noConflict(!0);b(t)}):y(t,function(){var t=jQuery.noConflict(!0);b(t)})}();